import{c as N,q as U,p as E,t as I,r as m,v as g,w as f,F as A,j as e,S as z,a4 as b,z as l,y as a,B as j,L,x as w,D as i,a5 as M}from"./index-DCgGlQVr.js";/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const P=[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]],y=N("lock",P);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C=[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]],R=N("user",C),_=w({email:i().email(),password:i().min(6,"Password must be at least 6 characters.")}),q=w({name:i().min(2,"Name is required."),role:M(["buyer","seller"]),email:i().email(),password:i().min(6,"Password must be at least 6 characters.")});function K(){const p=U(),u=E(),{signIn:v,signUp:S}=I(),[r,x]=m.useState("signin"),[c,d]=m.useState(null),h=m.useMemo(()=>new URLSearchParams(p.search).get("next")||"/dashboard",[p.search]),t=g({resolver:f(_),defaultValues:{email:"",password:""}}),s=g({resolver:f(q),defaultValues:{name:"",email:"",password:"",role:"buyer"}}),k=async o=>{d(null);try{await v(o.email,o.password),u(h)}catch(n){d(n instanceof Error?n.message:"Unable to sign in.")}},F=async o=>{d(null);try{await S(o),u(h)}catch(n){d(n instanceof Error?n.message:"Unable to create account.")}};return A?e.jsxs("section",{className:"min-h-screen auth-shell bg-background text-foreground px-4 py-12",children:[e.jsx(z,{title:r==="signin"?"Sign In":"Sign Up",description:"Access your Kyrgyz Riders account to manage bookings, submit tours, and connect with guides."}),e.jsxs("div",{className:"max-w-6xl mx-auto grid lg:grid-cols-[1.1fr_0.9fr] gap-6 lg:gap-8 items-stretch",children:[e.jsxs("div",{className:"hidden lg:flex relative overflow-hidden rounded-3xl border border-border bg-card/60 auth-hero",children:[e.jsx("div",{className:"absolute inset-0",style:{backgroundImage:"url('https://images.unsplash.com/photo-1469474968028-56623f02e42e?auto=format&fit=crop&w=1400&q=80')",backgroundSize:"cover",backgroundPosition:"center"},"aria-hidden":"true"}),e.jsx("div",{className:"absolute inset-0 bg-gradient-to-br from-black/65 via-black/35 to-transparent"}),e.jsxs("div",{className:"relative z-10 p-10 flex flex-col justify-between text-white",children:[e.jsxs("div",{children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.4em] text-white/70",children:"Kyrgyz Riders"}),e.jsx("h1",{className:"text-4xl mt-4 mb-4",children:"Begin your next mountain story"}),e.jsx("p",{className:"text-white/75",children:"Save itineraries, manage bookings, and unlock curated journeys across Kyrgyzstan."})]}),e.jsxs("div",{className:"grid grid-cols-2 gap-4 text-sm text-white/80",children:[e.jsxs("div",{className:"rounded-xl border border-white/20 bg-white/10 p-4",children:[e.jsx("p",{className:"text-2xl font-semibold",children:"24+"}),e.jsx("p",{children:"Curated routes"})]}),e.jsxs("div",{className:"rounded-xl border border-white/20 bg-white/10 p-4",children:[e.jsx("p",{className:"text-2xl font-semibold",children:"7"}),e.jsx("p",{children:"Regions explored"})]})]})]})]}),e.jsxs("div",{className:"bg-card/90 border border-border rounded-3xl shadow-lg p-6 sm:p-8 space-y-6 auth-panel",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsx("p",{className:"text-xs uppercase tracking-[0.3em] text-muted-foreground",children:"Account Access"}),e.jsx("h2",{className:"text-3xl text-foreground",children:r==="signin"?"Welcome back":"Create your account"}),e.jsx("p",{className:"text-muted-foreground text-sm",children:r==="signin"?"Sign in to manage your bookings and travel requests.":"Join as a buyer or seller to access the full platform."})]}),e.jsxs("div",{className:"flex rounded-full border border-border bg-muted p-1",children:[e.jsx("button",{type:"button",onClick:()=>x("signin"),className:`flex-1 rounded-full py-2 text-sm transition-all ${r==="signin"?"bg-card text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Sign In"}),e.jsx("button",{type:"button",onClick:()=>x("signup"),className:`flex-1 rounded-full py-2 text-sm transition-all ${r==="signup"?"bg-card text-foreground shadow-sm":"text-muted-foreground hover:text-foreground"}`,children:"Sign Up"})]}),e.jsx("div",{className:"auth-divider",children:"Email Access"}),r==="signin"?e.jsxs("form",{onSubmit:t.handleSubmit(k),className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative auth-input",children:[e.jsx(b,{className:"auth-input-icon absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(l,{id:"signin-email",type:"email",placeholder:" ",className:"peer h-12 pl-10 pt-5 pb-2",...t.register("email")}),e.jsx(a,{htmlFor:"signin-email",className:"pointer-events-none absolute left-10 top-1/2 -translate-y-1/2 text-sm text-muted-foreground transition-all duration-200 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs peer-focus:text-primary",children:"Email address"})]}),t.formState.errors.email&&e.jsx("p",{className:"text-xs text-red-600",children:t.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative auth-input",children:[e.jsx(y,{className:"auth-input-icon absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(l,{id:"signin-password",type:"password",placeholder:" ",className:"peer h-12 pl-10 pt-5 pb-2",...t.register("password")}),e.jsx(a,{htmlFor:"signin-password",className:"pointer-events-none absolute left-10 top-1/2 -translate-y-1/2 text-sm text-muted-foreground transition-all duration-200 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs peer-focus:text-primary",children:"Password"})]}),t.formState.errors.password&&e.jsx("p",{className:"text-xs text-red-600",children:t.formState.errors.password.message})]}),c&&e.jsx("p",{className:"text-sm text-red-600",children:c}),e.jsx(j,{type:"submit",className:"w-full btn-micro bg-primary hover:bg-primary/90 text-primary-foreground",children:"Sign In"})]}):e.jsxs("form",{onSubmit:s.handleSubmit(F),className:"space-y-5",children:[e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative auth-input",children:[e.jsx(R,{className:"auth-input-icon absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(l,{id:"signup-name",placeholder:" ",className:"peer h-12 pl-10 pt-5 pb-2",...s.register("name")}),e.jsx(a,{htmlFor:"signup-name",className:"pointer-events-none absolute left-10 top-1/2 -translate-y-1/2 text-sm text-muted-foreground transition-all duration-200 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs peer-focus:text-primary",children:"Full name"})]}),s.formState.errors.name&&e.jsx("p",{className:"text-xs text-red-600",children:s.formState.errors.name.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative auth-input",children:[e.jsx(b,{className:"auth-input-icon absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(l,{id:"signup-email",type:"email",placeholder:" ",className:"peer h-12 pl-10 pt-5 pb-2",...s.register("email")}),e.jsx(a,{htmlFor:"signup-email",className:"pointer-events-none absolute left-10 top-1/2 -translate-y-1/2 text-sm text-muted-foreground transition-all duration-200 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs peer-focus:text-primary",children:"Email address"})]}),s.formState.errors.email&&e.jsx("p",{className:"text-xs text-red-600",children:s.formState.errors.email.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsxs("div",{className:"relative auth-input",children:[e.jsx(y,{className:"auth-input-icon absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),e.jsx(l,{id:"signup-password",type:"password",placeholder:" ",className:"peer h-12 pl-10 pt-5 pb-2",...s.register("password")}),e.jsx(a,{htmlFor:"signup-password",className:"pointer-events-none absolute left-10 top-1/2 -translate-y-1/2 text-sm text-muted-foreground transition-all duration-200 peer-placeholder-shown:top-1/2 peer-placeholder-shown:text-sm peer-focus:top-3 peer-focus:text-xs peer-focus:text-primary",children:"Password"})]}),s.formState.errors.password&&e.jsx("p",{className:"text-xs text-red-600",children:s.formState.errors.password.message})]}),e.jsxs("div",{className:"space-y-2",children:[e.jsx(a,{htmlFor:"signup-role",children:"Role"}),e.jsxs("select",{id:"signup-role",...s.register("role"),className:"h-11 w-full rounded-md border border-border bg-card px-3 text-sm",children:[e.jsx("option",{value:"buyer",children:"Buyer"}),e.jsx("option",{value:"seller",children:"Seller"})]})]}),c&&e.jsx("p",{className:"text-sm text-red-600",children:c}),e.jsx(j,{type:"submit",className:"w-full btn-micro bg-primary hover:bg-primary/90 text-primary-foreground",children:"Create Account"})]}),e.jsxs("p",{className:"text-xs text-muted-foreground",children:["Admin access?"," ",e.jsx(L,{to:"/admin/login",className:"text-primary underline underline-offset-4",children:"Go to admin console"})]})]})]})]}):e.jsxs("section",{className:"py-16 px-4 text-center",children:[e.jsx("h1",{className:"text-3xl text-foreground mb-3",children:"Account Setup Disabled"}),e.jsx("p",{className:"text-muted-foreground",children:"Configure the backend to enable authentication features."})]})}export{K as AuthPage};
