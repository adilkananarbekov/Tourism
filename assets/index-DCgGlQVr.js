const __vite__mapDeps=(i,m=__vite__mapDeps,d=(m.f||(m.f=["assets/HomePage-Dl4INBuQ.js","assets/shield-BIhqOz03.js","assets/star-D0C5l1bW.js","assets/ToursGrid-Bgt1X2Lf.js","assets/useTours-C9g_5PlU.js","assets/TourDetailPage-CzmMzf-2.js","assets/localStorage-B8oYglUC.js","assets/ToursPage-BJVL3T69.js","assets/FeedbackPage-EleWgJAw.js","assets/CreateTourPage-CJiy0mdH.js","assets/storage-Bp2D9fTQ.js","assets/UserDashboardPage-BlLy_HVs.js","assets/AdminLoginPage-CwWUPbDP.js","assets/AdminDashboardPage-BVSEuyNE.js","assets/AdminDashboardPage-CkbfgUCq.css"])))=>i.map(i=>d[i]);
var lx=Object.defineProperty;var ux=(t,e,n)=>e in t?lx(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n;var ri=(t,e,n)=>ux(t,typeof e!="symbol"?e+"":e,n);function cx(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const i in r)if(i!=="default"&&!(i in t)){const a=Object.getOwnPropertyDescriptor(r,i);a&&Object.defineProperty(t,i,a.get?a:{enumerable:!0,get:()=>r[i]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const i of document.querySelectorAll('link[rel="modulepreload"]'))r(i);new MutationObserver(i=>{for(const a of i)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function n(i){const a={};return i.integrity&&(a.integrity=i.integrity),i.referrerPolicy&&(a.referrerPolicy=i.referrerPolicy),i.crossOrigin==="use-credentials"?a.credentials="include":i.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(i){if(i.ep)return;i.ep=!0;const a=n(i);fetch(i.href,a)}})();var A9=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};function vl(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var Mp={exports:{}},hu={},jp={exports:{}},Ye={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var z_;function dx(){if(z_)return Ye;z_=1;var t=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),i=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),d=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),p=Symbol.for("react.memo"),_=Symbol.for("react.lazy"),v=Symbol.iterator;function E(F){return F===null||typeof F!="object"?null:(F=v&&F[v]||F["@@iterator"],typeof F=="function"?F:null)}var x={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},A=Object.assign,j={};function R(F,Q,le){this.props=F,this.context=Q,this.refs=j,this.updater=le||x}R.prototype.isReactComponent={},R.prototype.setState=function(F,Q){if(typeof F!="object"&&typeof F!="function"&&F!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,F,Q,"setState")},R.prototype.forceUpdate=function(F){this.updater.enqueueForceUpdate(this,F,"forceUpdate")};function K(){}K.prototype=R.prototype;function $(F,Q,le){this.props=F,this.context=Q,this.refs=j,this.updater=le||x}var ee=$.prototype=new K;ee.constructor=$,A(ee,R.prototype),ee.isPureReactComponent=!0;var J=Array.isArray,ce=Object.prototype.hasOwnProperty,_e={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function b(F,Q,le){var Ee,Me={},Ae=null,Oe=null;if(Q!=null)for(Ee in Q.ref!==void 0&&(Oe=Q.ref),Q.key!==void 0&&(Ae=""+Q.key),Q)ce.call(Q,Ee)&&!L.hasOwnProperty(Ee)&&(Me[Ee]=Q[Ee]);var Ke=arguments.length-2;if(Ke===1)Me.children=le;else if(1<Ke){for(var Ze=Array(Ke),lt=0;lt<Ke;lt++)Ze[lt]=arguments[lt+2];Me.children=Ze}if(F&&F.defaultProps)for(Ee in Ke=F.defaultProps,Ke)Me[Ee]===void 0&&(Me[Ee]=Ke[Ee]);return{$$typeof:t,type:F,key:Ae,ref:Oe,props:Me,_owner:_e.current}}function C(F,Q){return{$$typeof:t,type:F.type,key:Q,ref:F.ref,props:F.props,_owner:F._owner}}function D(F){return typeof F=="object"&&F!==null&&F.$$typeof===t}function V(F){var Q={"=":"=0",":":"=2"};return"$"+F.replace(/[=:]/g,function(le){return Q[le]})}var P=/\/+/g;function S(F,Q){return typeof F=="object"&&F!==null&&F.key!=null?V(""+F.key):Q.toString(36)}function De(F,Q,le,Ee,Me){var Ae=typeof F;(Ae==="undefined"||Ae==="boolean")&&(F=null);var Oe=!1;if(F===null)Oe=!0;else switch(Ae){case"string":case"number":Oe=!0;break;case"object":switch(F.$$typeof){case t:case e:Oe=!0}}if(Oe)return Oe=F,Me=Me(Oe),F=Ee===""?"."+S(Oe,0):Ee,J(Me)?(le="",F!=null&&(le=F.replace(P,"$&/")+"/"),De(Me,Q,le,"",function(lt){return lt})):Me!=null&&(D(Me)&&(Me=C(Me,le+(!Me.key||Oe&&Oe.key===Me.key?"":(""+Me.key).replace(P,"$&/")+"/")+F)),Q.push(Me)),1;if(Oe=0,Ee=Ee===""?".":Ee+":",J(F))for(var Ke=0;Ke<F.length;Ke++){Ae=F[Ke];var Ze=Ee+S(Ae,Ke);Oe+=De(Ae,Q,le,Ze,Me)}else if(Ze=E(F),typeof Ze=="function")for(F=Ze.call(F),Ke=0;!(Ae=F.next()).done;)Ae=Ae.value,Ze=Ee+S(Ae,Ke++),Oe+=De(Ae,Q,le,Ze,Me);else if(Ae==="object")throw Q=String(F),Error("Objects are not valid as a React child (found: "+(Q==="[object Object]"?"object with keys {"+Object.keys(F).join(", ")+"}":Q)+"). If you meant to render a collection of children, use an array instead.");return Oe}function Le(F,Q,le){if(F==null)return F;var Ee=[],Me=0;return De(F,Ee,"","",function(Ae){return Q.call(le,Ae,Me++)}),Ee}function me(F){if(F._status===-1){var Q=F._result;Q=Q(),Q.then(function(le){(F._status===0||F._status===-1)&&(F._status=1,F._result=le)},function(le){(F._status===0||F._status===-1)&&(F._status=2,F._result=le)}),F._status===-1&&(F._status=0,F._result=Q)}if(F._status===1)return F._result.default;throw F._result}var Ne={current:null},Z={transition:null},ve={ReactCurrentDispatcher:Ne,ReactCurrentBatchConfig:Z,ReactCurrentOwner:_e};function pe(){throw Error("act(...) is not supported in production builds of React.")}return Ye.Children={map:Le,forEach:function(F,Q,le){Le(F,function(){Q.apply(this,arguments)},le)},count:function(F){var Q=0;return Le(F,function(){Q++}),Q},toArray:function(F){return Le(F,function(Q){return Q})||[]},only:function(F){if(!D(F))throw Error("React.Children.only expected to receive a single React element child.");return F}},Ye.Component=R,Ye.Fragment=n,Ye.Profiler=i,Ye.PureComponent=$,Ye.StrictMode=r,Ye.Suspense=f,Ye.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ve,Ye.act=pe,Ye.cloneElement=function(F,Q,le){if(F==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+F+".");var Ee=A({},F.props),Me=F.key,Ae=F.ref,Oe=F._owner;if(Q!=null){if(Q.ref!==void 0&&(Ae=Q.ref,Oe=_e.current),Q.key!==void 0&&(Me=""+Q.key),F.type&&F.type.defaultProps)var Ke=F.type.defaultProps;for(Ze in Q)ce.call(Q,Ze)&&!L.hasOwnProperty(Ze)&&(Ee[Ze]=Q[Ze]===void 0&&Ke!==void 0?Ke[Ze]:Q[Ze])}var Ze=arguments.length-2;if(Ze===1)Ee.children=le;else if(1<Ze){Ke=Array(Ze);for(var lt=0;lt<Ze;lt++)Ke[lt]=arguments[lt+2];Ee.children=Ke}return{$$typeof:t,type:F.type,key:Me,ref:Ae,props:Ee,_owner:Oe}},Ye.createContext=function(F){return F={$$typeof:l,_currentValue:F,_currentValue2:F,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},F.Provider={$$typeof:a,_context:F},F.Consumer=F},Ye.createElement=b,Ye.createFactory=function(F){var Q=b.bind(null,F);return Q.type=F,Q},Ye.createRef=function(){return{current:null}},Ye.forwardRef=function(F){return{$$typeof:d,render:F}},Ye.isValidElement=D,Ye.lazy=function(F){return{$$typeof:_,_payload:{_status:-1,_result:F},_init:me}},Ye.memo=function(F,Q){return{$$typeof:p,type:F,compare:Q===void 0?null:Q}},Ye.startTransition=function(F){var Q=Z.transition;Z.transition={};try{F()}finally{Z.transition=Q}},Ye.unstable_act=pe,Ye.useCallback=function(F,Q){return Ne.current.useCallback(F,Q)},Ye.useContext=function(F){return Ne.current.useContext(F)},Ye.useDebugValue=function(){},Ye.useDeferredValue=function(F){return Ne.current.useDeferredValue(F)},Ye.useEffect=function(F,Q){return Ne.current.useEffect(F,Q)},Ye.useId=function(){return Ne.current.useId()},Ye.useImperativeHandle=function(F,Q,le){return Ne.current.useImperativeHandle(F,Q,le)},Ye.useInsertionEffect=function(F,Q){return Ne.current.useInsertionEffect(F,Q)},Ye.useLayoutEffect=function(F,Q){return Ne.current.useLayoutEffect(F,Q)},Ye.useMemo=function(F,Q){return Ne.current.useMemo(F,Q)},Ye.useReducer=function(F,Q,le){return Ne.current.useReducer(F,Q,le)},Ye.useRef=function(F){return Ne.current.useRef(F)},Ye.useState=function(F){return Ne.current.useState(F)},Ye.useSyncExternalStore=function(F,Q,le){return Ne.current.useSyncExternalStore(F,Q,le)},Ye.useTransition=function(){return Ne.current.useTransition()},Ye.version="18.3.1",Ye}var $_;function ug(){return $_||($_=1,jp.exports=dx()),jp.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var B_;function hx(){if(B_)return hu;B_=1;var t=ug(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,i=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(d,f,p){var _,v={},E=null,x=null;p!==void 0&&(E=""+p),f.key!==void 0&&(E=""+f.key),f.ref!==void 0&&(x=f.ref);for(_ in f)r.call(f,_)&&!a.hasOwnProperty(_)&&(v[_]=f[_]);if(d&&d.defaultProps)for(_ in f=d.defaultProps,f)v[_]===void 0&&(v[_]=f[_]);return{$$typeof:e,type:d,key:E,ref:x,props:v,_owner:i.current}}return hu.Fragment=n,hu.jsx=l,hu.jsxs=l,hu}var q_;function fx(){return q_||(q_=1,Mp.exports=hx()),Mp.exports}var T=fx(),U=ug();const se=vl(U),VE=cx({__proto__:null,default:se},[U]);var xd={},Fp={exports:{}},cr={},Up={exports:{}},zp={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var H_;function px(){return H_||(H_=1,(function(t){function e(Z,ve){var pe=Z.length;Z.push(ve);e:for(;0<pe;){var F=pe-1>>>1,Q=Z[F];if(0<i(Q,ve))Z[F]=ve,Z[pe]=Q,pe=F;else break e}}function n(Z){return Z.length===0?null:Z[0]}function r(Z){if(Z.length===0)return null;var ve=Z[0],pe=Z.pop();if(pe!==ve){Z[0]=pe;e:for(var F=0,Q=Z.length,le=Q>>>1;F<le;){var Ee=2*(F+1)-1,Me=Z[Ee],Ae=Ee+1,Oe=Z[Ae];if(0>i(Me,pe))Ae<Q&&0>i(Oe,Me)?(Z[F]=Oe,Z[Ae]=pe,F=Ae):(Z[F]=Me,Z[Ee]=pe,F=Ee);else if(Ae<Q&&0>i(Oe,pe))Z[F]=Oe,Z[Ae]=pe,F=Ae;else break e}}return ve}function i(Z,ve){var pe=Z.sortIndex-ve.sortIndex;return pe!==0?pe:Z.id-ve.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;t.unstable_now=function(){return a.now()}}else{var l=Date,d=l.now();t.unstable_now=function(){return l.now()-d}}var f=[],p=[],_=1,v=null,E=3,x=!1,A=!1,j=!1,R=typeof setTimeout=="function"?setTimeout:null,K=typeof clearTimeout=="function"?clearTimeout:null,$=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ee(Z){for(var ve=n(p);ve!==null;){if(ve.callback===null)r(p);else if(ve.startTime<=Z)r(p),ve.sortIndex=ve.expirationTime,e(f,ve);else break;ve=n(p)}}function J(Z){if(j=!1,ee(Z),!A)if(n(f)!==null)A=!0,me(ce);else{var ve=n(p);ve!==null&&Ne(J,ve.startTime-Z)}}function ce(Z,ve){A=!1,j&&(j=!1,K(b),b=-1),x=!0;var pe=E;try{for(ee(ve),v=n(f);v!==null&&(!(v.expirationTime>ve)||Z&&!V());){var F=v.callback;if(typeof F=="function"){v.callback=null,E=v.priorityLevel;var Q=F(v.expirationTime<=ve);ve=t.unstable_now(),typeof Q=="function"?v.callback=Q:v===n(f)&&r(f),ee(ve)}else r(f);v=n(f)}if(v!==null)var le=!0;else{var Ee=n(p);Ee!==null&&Ne(J,Ee.startTime-ve),le=!1}return le}finally{v=null,E=pe,x=!1}}var _e=!1,L=null,b=-1,C=5,D=-1;function V(){return!(t.unstable_now()-D<C)}function P(){if(L!==null){var Z=t.unstable_now();D=Z;var ve=!0;try{ve=L(!0,Z)}finally{ve?S():(_e=!1,L=null)}}else _e=!1}var S;if(typeof $=="function")S=function(){$(P)};else if(typeof MessageChannel<"u"){var De=new MessageChannel,Le=De.port2;De.port1.onmessage=P,S=function(){Le.postMessage(null)}}else S=function(){R(P,0)};function me(Z){L=Z,_e||(_e=!0,S())}function Ne(Z,ve){b=R(function(){Z(t.unstable_now())},ve)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(Z){Z.callback=null},t.unstable_continueExecution=function(){A||x||(A=!0,me(ce))},t.unstable_forceFrameRate=function(Z){0>Z||125<Z?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<Z?Math.floor(1e3/Z):5},t.unstable_getCurrentPriorityLevel=function(){return E},t.unstable_getFirstCallbackNode=function(){return n(f)},t.unstable_next=function(Z){switch(E){case 1:case 2:case 3:var ve=3;break;default:ve=E}var pe=E;E=ve;try{return Z()}finally{E=pe}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(Z,ve){switch(Z){case 1:case 2:case 3:case 4:case 5:break;default:Z=3}var pe=E;E=Z;try{return ve()}finally{E=pe}},t.unstable_scheduleCallback=function(Z,ve,pe){var F=t.unstable_now();switch(typeof pe=="object"&&pe!==null?(pe=pe.delay,pe=typeof pe=="number"&&0<pe?F+pe:F):pe=F,Z){case 1:var Q=-1;break;case 2:Q=250;break;case 5:Q=1073741823;break;case 4:Q=1e4;break;default:Q=5e3}return Q=pe+Q,Z={id:_++,callback:ve,priorityLevel:Z,startTime:pe,expirationTime:Q,sortIndex:-1},pe>F?(Z.sortIndex=pe,e(p,Z),n(f)===null&&Z===n(p)&&(j?(K(b),b=-1):j=!0,Ne(J,pe-F))):(Z.sortIndex=Q,e(f,Z),A||x||(A=!0,me(ce))),Z},t.unstable_shouldYield=V,t.unstable_wrapCallback=function(Z){var ve=E;return function(){var pe=E;E=ve;try{return Z.apply(this,arguments)}finally{E=pe}}}})(zp)),zp}var W_;function mx(){return W_||(W_=1,Up.exports=px()),Up.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var K_;function gx(){if(K_)return cr;K_=1;var t=ug(),e=mx();function n(s){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+s,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+s+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,i={};function a(s,o){l(s,o),l(s+"Capture",o)}function l(s,o){for(i[s]=o,s=0;s<o.length;s++)r.add(o[s])}var d=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,p=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,_={},v={};function E(s){return f.call(v,s)?!0:f.call(_,s)?!1:p.test(s)?v[s]=!0:(_[s]=!0,!1)}function x(s,o,u,h){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return h?!1:u!==null?!u.acceptsBooleans:(s=s.toLowerCase().slice(0,5),s!=="data-"&&s!=="aria-");default:return!1}}function A(s,o,u,h){if(o===null||typeof o>"u"||x(s,o,u,h))return!0;if(h)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function j(s,o,u,h,m,y,I){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=h,this.attributeNamespace=m,this.mustUseProperty=u,this.propertyName=s,this.type=o,this.sanitizeURL=y,this.removeEmptyString=I}var R={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(s){R[s]=new j(s,0,!1,s,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(s){var o=s[0];R[o]=new j(o,1,!1,s[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(s){R[s]=new j(s,2,!1,s.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(s){R[s]=new j(s,2,!1,s,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(s){R[s]=new j(s,3,!1,s.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(s){R[s]=new j(s,3,!0,s,null,!1,!1)}),["capture","download"].forEach(function(s){R[s]=new j(s,4,!1,s,null,!1,!1)}),["cols","rows","size","span"].forEach(function(s){R[s]=new j(s,6,!1,s,null,!1,!1)}),["rowSpan","start"].forEach(function(s){R[s]=new j(s,5,!1,s.toLowerCase(),null,!1,!1)});var K=/[\-:]([a-z])/g;function $(s){return s[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(s){var o=s.replace(K,$);R[o]=new j(o,1,!1,s,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(s){var o=s.replace(K,$);R[o]=new j(o,1,!1,s,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(s){var o=s.replace(K,$);R[o]=new j(o,1,!1,s,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(s){R[s]=new j(s,1,!1,s.toLowerCase(),null,!1,!1)}),R.xlinkHref=new j("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(s){R[s]=new j(s,1,!1,s.toLowerCase(),null,!0,!0)});function ee(s,o,u,h){var m=R.hasOwnProperty(o)?R[o]:null;(m!==null?m.type!==0:h||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(A(o,u,m,h)&&(u=null),h||m===null?E(o)&&(u===null?s.removeAttribute(o):s.setAttribute(o,""+u)):m.mustUseProperty?s[m.propertyName]=u===null?m.type===3?!1:"":u:(o=m.attributeName,h=m.attributeNamespace,u===null?s.removeAttribute(o):(m=m.type,u=m===3||m===4&&u===!0?"":""+u,h?s.setAttributeNS(h,o,u):s.setAttribute(o,u))))}var J=t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ce=Symbol.for("react.element"),_e=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),b=Symbol.for("react.strict_mode"),C=Symbol.for("react.profiler"),D=Symbol.for("react.provider"),V=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),S=Symbol.for("react.suspense"),De=Symbol.for("react.suspense_list"),Le=Symbol.for("react.memo"),me=Symbol.for("react.lazy"),Ne=Symbol.for("react.offscreen"),Z=Symbol.iterator;function ve(s){return s===null||typeof s!="object"?null:(s=Z&&s[Z]||s["@@iterator"],typeof s=="function"?s:null)}var pe=Object.assign,F;function Q(s){if(F===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);F=o&&o[1]||""}return`
`+F+s}var le=!1;function Ee(s,o){if(!s||le)return"";le=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(G){var h=G}Reflect.construct(s,[],o)}else{try{o.call()}catch(G){h=G}s.call(o.prototype)}else{try{throw Error()}catch(G){h=G}s()}}catch(G){if(G&&h&&typeof G.stack=="string"){for(var m=G.stack.split(`
`),y=h.stack.split(`
`),I=m.length-1,N=y.length-1;1<=I&&0<=N&&m[I]!==y[N];)N--;for(;1<=I&&0<=N;I--,N--)if(m[I]!==y[N]){if(I!==1||N!==1)do if(I--,N--,0>N||m[I]!==y[N]){var M=`
`+m[I].replace(" at new "," at ");return s.displayName&&M.includes("<anonymous>")&&(M=M.replace("<anonymous>",s.displayName)),M}while(1<=I&&0<=N);break}}}finally{le=!1,Error.prepareStackTrace=u}return(s=s?s.displayName||s.name:"")?Q(s):""}function Me(s){switch(s.tag){case 5:return Q(s.type);case 16:return Q("Lazy");case 13:return Q("Suspense");case 19:return Q("SuspenseList");case 0:case 2:case 15:return s=Ee(s.type,!1),s;case 11:return s=Ee(s.type.render,!1),s;case 1:return s=Ee(s.type,!0),s;default:return""}}function Ae(s){if(s==null)return null;if(typeof s=="function")return s.displayName||s.name||null;if(typeof s=="string")return s;switch(s){case L:return"Fragment";case _e:return"Portal";case C:return"Profiler";case b:return"StrictMode";case S:return"Suspense";case De:return"SuspenseList"}if(typeof s=="object")switch(s.$$typeof){case V:return(s.displayName||"Context")+".Consumer";case D:return(s._context.displayName||"Context")+".Provider";case P:var o=s.render;return s=s.displayName,s||(s=o.displayName||o.name||"",s=s!==""?"ForwardRef("+s+")":"ForwardRef"),s;case Le:return o=s.displayName||null,o!==null?o:Ae(s.type)||"Memo";case me:o=s._payload,s=s._init;try{return Ae(s(o))}catch{}}return null}function Oe(s){var o=s.type;switch(s.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return s=o.render,s=s.displayName||s.name||"",o.displayName||(s!==""?"ForwardRef("+s+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Ae(o);case 8:return o===b?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ke(s){switch(typeof s){case"boolean":case"number":case"string":case"undefined":return s;case"object":return s;default:return""}}function Ze(s){var o=s.type;return(s=s.nodeName)&&s.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function lt(s){var o=Ze(s)?"checked":"value",u=Object.getOwnPropertyDescriptor(s.constructor.prototype,o),h=""+s[o];if(!s.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var m=u.get,y=u.set;return Object.defineProperty(s,o,{configurable:!0,get:function(){return m.call(this)},set:function(I){h=""+I,y.call(this,I)}}),Object.defineProperty(s,o,{enumerable:u.enumerable}),{getValue:function(){return h},setValue:function(I){h=""+I},stopTracking:function(){s._valueTracker=null,delete s[o]}}}}function Zt(s){s._valueTracker||(s._valueTracker=lt(s))}function hn(s){if(!s)return!1;var o=s._valueTracker;if(!o)return!0;var u=o.getValue(),h="";return s&&(h=Ze(s)?s.checked?"true":"false":s.value),s=h,s!==u?(o.setValue(s),!0):!1}function xr(s){if(s=s||(typeof document<"u"?document:void 0),typeof s>"u")return null;try{return s.activeElement||s.body}catch{return s.body}}function Qn(s,o){var u=o.checked;return pe({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??s._wrapperState.initialChecked})}function ps(s,o){var u=o.defaultValue==null?"":o.defaultValue,h=o.checked!=null?o.checked:o.defaultChecked;u=Ke(o.value!=null?o.value:u),s._wrapperState={initialChecked:h,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function qr(s,o){o=o.checked,o!=null&&ee(s,"checked",o,!1)}function Yn(s,o){qr(s,o);var u=Ke(o.value),h=o.type;if(u!=null)h==="number"?(u===0&&s.value===""||s.value!=u)&&(s.value=""+u):s.value!==""+u&&(s.value=""+u);else if(h==="submit"||h==="reset"){s.removeAttribute("value");return}o.hasOwnProperty("value")?sn(s,o.type,u):o.hasOwnProperty("defaultValue")&&sn(s,o.type,Ke(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(s.defaultChecked=!!o.defaultChecked)}function $s(s,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var h=o.type;if(!(h!=="submit"&&h!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+s._wrapperState.initialValue,u||o===s.value||(s.value=o),s.defaultValue=o}u=s.name,u!==""&&(s.name=""),s.defaultChecked=!!s._wrapperState.initialChecked,u!==""&&(s.name=u)}function sn(s,o,u){(o!=="number"||xr(s.ownerDocument)!==s)&&(u==null?s.defaultValue=""+s._wrapperState.initialValue:s.defaultValue!==""+u&&(s.defaultValue=""+u))}var Ar=Array.isArray;function Jn(s,o,u,h){if(s=s.options,o){o={};for(var m=0;m<u.length;m++)o["$"+u[m]]=!0;for(u=0;u<s.length;u++)m=o.hasOwnProperty("$"+s[u].value),s[u].selected!==m&&(s[u].selected=m),m&&h&&(s[u].defaultSelected=!0)}else{for(u=""+Ke(u),o=null,m=0;m<s.length;m++){if(s[m].value===u){s[m].selected=!0,h&&(s[m].defaultSelected=!0);return}o!==null||s[m].disabled||(o=s[m])}o!==null&&(o.selected=!0)}}function O(s,o){if(o.dangerouslySetInnerHTML!=null)throw Error(n(91));return pe({},o,{value:void 0,defaultValue:void 0,children:""+s._wrapperState.initialValue})}function H(s,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(n(92));if(Ar(u)){if(1<u.length)throw Error(n(93));u=u[0]}o=u}o==null&&(o=""),u=o}s._wrapperState={initialValue:Ke(u)}}function X(s,o){var u=Ke(o.value),h=Ke(o.defaultValue);u!=null&&(u=""+u,u!==s.value&&(s.value=u),o.defaultValue==null&&s.defaultValue!==u&&(s.defaultValue=u)),h!=null&&(s.defaultValue=""+h)}function ge(s){var o=s.textContent;o===s._wrapperState.initialValue&&o!==""&&o!==null&&(s.value=o)}function oe(s){switch(s){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function re(s,o){return s==null||s==="http://www.w3.org/1999/xhtml"?oe(o):s==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":s}var ye,Ge=(function(s){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,h,m){MSApp.execUnsafeLocalFunction(function(){return s(o,u,h,m)})}:s})(function(s,o){if(s.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in s)s.innerHTML=o;else{for(ye=ye||document.createElement("div"),ye.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=ye.firstChild;s.firstChild;)s.removeChild(s.firstChild);for(;o.firstChild;)s.appendChild(o.firstChild)}});function et(s,o){if(o){var u=s.firstChild;if(u&&u===s.lastChild&&u.nodeType===3){u.nodeValue=o;return}}s.textContent=o}var ft={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},bn=["Webkit","ms","Moz","O"];Object.keys(ft).forEach(function(s){bn.forEach(function(o){o=o+s.charAt(0).toUpperCase()+s.substring(1),ft[o]=ft[s]})});function Hr(s,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||ft.hasOwnProperty(s)&&ft[s]?(""+o).trim():o+"px"}function Wr(s,o){s=s.style;for(var u in o)if(o.hasOwnProperty(u)){var h=u.indexOf("--")===0,m=Hr(u,o[u],h);u==="float"&&(u="cssFloat"),h?s.setProperty(u,m):s[u]=m}}var ms=pe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Kr(s,o){if(o){if(ms[s]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(n(137,s));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(n(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(n(61))}if(o.style!=null&&typeof o.style!="object")throw Error(n(62))}}function Bs(s,o){if(s.indexOf("-")===-1)return typeof o.is=="string";switch(s){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Xn=null;function Un(s){return s=s.target||s.srcElement||window,s.correspondingUseElement&&(s=s.correspondingUseElement),s.nodeType===3?s.parentNode:s}var yi=null,er=null,gr=null;function qs(s){if(s=Yl(s)){if(typeof yi!="function")throw Error(n(280));var o=s.stateNode;o&&(o=$c(o),yi(s.stateNode,s.type,o))}}function ze(s){er?gr?gr.push(s):gr=[s]:er=s}function Tt(){if(er){var s=er,o=gr;if(gr=er=null,qs(s),o)for(s=0;s<o.length;s++)qs(o[s])}}function It(s,o){return s(o)}function Qt(){}var tr=!1;function At(s,o,u){if(tr)return s(o,u);tr=!0;try{return It(s,o,u)}finally{tr=!1,(er!==null||gr!==null)&&(Qt(),Tt())}}function st(s,o){var u=s.stateNode;if(u===null)return null;var h=$c(u);if(h===null)return null;u=h[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(h=!h.disabled)||(s=s.type,h=!(s==="button"||s==="input"||s==="select"||s==="textarea")),s=!h;break e;default:s=!1}if(s)return null;if(u&&typeof u!="function")throw Error(n(231,o,typeof u));return u}var Gr=!1;if(d)try{var Rt={};Object.defineProperty(Rt,"passive",{get:function(){Gr=!0}}),window.addEventListener("test",Rt,Rt),window.removeEventListener("test",Rt,Rt)}catch{Gr=!1}function Yt(s,o,u,h,m,y,I,N,M){var G=Array.prototype.slice.call(arguments,3);try{o.apply(u,G)}catch(ae){this.onError(ae)}}var gs=!1,nr=null,Rr=!1,Pl=null,df={onError:function(s){gs=!0,nr=s}};function aa(s,o,u,h,m,y,I,N,M){gs=!1,nr=null,Yt.apply(df,arguments)}function fc(s,o,u,h,m,y,I,N,M){if(aa.apply(this,arguments),gs){if(gs){var G=nr;gs=!1,nr=null}else throw Error(n(198));Rr||(Rr=!0,Pl=G)}}function Zr(s){var o=s,u=s;if(s.alternate)for(;o.return;)o=o.return;else{s=o;do o=s,(o.flags&4098)!==0&&(u=o.return),s=o.return;while(s)}return o.tag===3?u:null}function fo(s){if(s.tag===13){var o=s.memoizedState;if(o===null&&(s=s.alternate,s!==null&&(o=s.memoizedState)),o!==null)return o.dehydrated}return null}function Qr(s){if(Zr(s)!==s)throw Error(n(188))}function pc(s){var o=s.alternate;if(!o){if(o=Zr(s),o===null)throw Error(n(188));return o!==s?null:s}for(var u=s,h=o;;){var m=u.return;if(m===null)break;var y=m.alternate;if(y===null){if(h=m.return,h!==null){u=h;continue}break}if(m.child===y.child){for(y=m.child;y;){if(y===u)return Qr(m),s;if(y===h)return Qr(m),o;y=y.sibling}throw Error(n(188))}if(u.return!==h.return)u=m,h=y;else{for(var I=!1,N=m.child;N;){if(N===u){I=!0,u=m,h=y;break}if(N===h){I=!0,h=m,u=y;break}N=N.sibling}if(!I){for(N=y.child;N;){if(N===u){I=!0,u=y,h=m;break}if(N===h){I=!0,h=y,u=m;break}N=N.sibling}if(!I)throw Error(n(189))}}if(u.alternate!==h)throw Error(n(190))}if(u.tag!==3)throw Error(n(188));return u.stateNode.current===u?s:o}function Nl(s){return s=pc(s),s!==null?la(s):null}function la(s){if(s.tag===5||s.tag===6)return s;for(s=s.child;s!==null;){var o=la(s);if(o!==null)return o;s=s.sibling}return null}var ua=e.unstable_scheduleCallback,Ol=e.unstable_cancelCallback,mc=e.unstable_shouldYield,hf=e.unstable_requestPaint,gt=e.unstable_now,gc=e.unstable_getCurrentPriorityLevel,po=e.unstable_ImmediatePriority,vi=e.unstable_UserBlockingPriority,Cr=e.unstable_NormalPriority,Dl=e.unstable_LowPriority,yc=e.unstable_IdlePriority,mo=null,yr=null;function vc(s){if(yr&&typeof yr.onCommitFiberRoot=="function")try{yr.onCommitFiberRoot(mo,s,void 0,(s.current.flags&128)===128)}catch{}}var zn=Math.clz32?Math.clz32:wc,Ll=Math.log,_c=Math.LN2;function wc(s){return s>>>=0,s===0?32:31-(Ll(s)/_c|0)|0}var ca=64,da=4194304;function _i(s){switch(s&-s){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return s&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return s&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return s}}function go(s,o){var u=s.pendingLanes;if(u===0)return 0;var h=0,m=s.suspendedLanes,y=s.pingedLanes,I=u&268435455;if(I!==0){var N=I&~m;N!==0?h=_i(N):(y&=I,y!==0&&(h=_i(y)))}else I=u&~m,I!==0?h=_i(I):y!==0&&(h=_i(y));if(h===0)return 0;if(o!==0&&o!==h&&(o&m)===0&&(m=h&-h,y=o&-o,m>=y||m===16&&(y&4194240)!==0))return o;if((h&4)!==0&&(h|=u&16),o=s.entangledLanes,o!==0)for(s=s.entanglements,o&=h;0<o;)u=31-zn(o),m=1<<u,h|=s[u],o&=~m;return h}function ff(s,o){switch(s){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Hs(s,o){for(var u=s.suspendedLanes,h=s.pingedLanes,m=s.expirationTimes,y=s.pendingLanes;0<y;){var I=31-zn(y),N=1<<I,M=m[I];M===-1?((N&u)===0||(N&h)!==0)&&(m[I]=ff(N,o)):M<=o&&(s.expiredLanes|=N),y&=~N}}function vr(s){return s=s.pendingLanes&-1073741825,s!==0?s:s&1073741824?1073741824:0}function yo(){var s=ca;return ca<<=1,(ca&4194240)===0&&(ca=64),s}function wi(s){for(var o=[],u=0;31>u;u++)o.push(s);return o}function Ei(s,o,u){s.pendingLanes|=o,o!==536870912&&(s.suspendedLanes=0,s.pingedLanes=0),s=s.eventTimes,o=31-zn(o),s[o]=u}function pt(s,o){var u=s.pendingLanes&~o;s.pendingLanes=o,s.suspendedLanes=0,s.pingedLanes=0,s.expiredLanes&=o,s.mutableReadLanes&=o,s.entangledLanes&=o,o=s.entanglements;var h=s.eventTimes;for(s=s.expirationTimes;0<u;){var m=31-zn(u),y=1<<m;o[m]=0,h[m]=-1,s[m]=-1,u&=~y}}function Ti(s,o){var u=s.entangledLanes|=o;for(s=s.entanglements;u;){var h=31-zn(u),m=1<<h;m&o|s[h]&o&&(s[h]|=o),u&=~m}}var nt=0;function Ii(s){return s&=-s,1<s?4<s?(s&268435455)!==0?16:536870912:4:1}var Ec,ha,Tc,Ic,bc,Vl=!1,ys=[],fn=null,Yr=null,Jr=null,bi=new Map,Pr=new Map,vs=[],pf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function kc(s,o){switch(s){case"focusin":case"focusout":fn=null;break;case"dragenter":case"dragleave":Yr=null;break;case"mouseover":case"mouseout":Jr=null;break;case"pointerover":case"pointerout":bi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pr.delete(o.pointerId)}}function rr(s,o,u,h,m,y){return s===null||s.nativeEvent!==y?(s={blockedOn:o,domEventName:u,eventSystemFlags:h,nativeEvent:y,targetContainers:[m]},o!==null&&(o=Yl(o),o!==null&&ha(o)),s):(s.eventSystemFlags|=h,o=s.targetContainers,m!==null&&o.indexOf(m)===-1&&o.push(m),s)}function mf(s,o,u,h,m){switch(o){case"focusin":return fn=rr(fn,s,o,u,h,m),!0;case"dragenter":return Yr=rr(Yr,s,o,u,h,m),!0;case"mouseover":return Jr=rr(Jr,s,o,u,h,m),!0;case"pointerover":var y=m.pointerId;return bi.set(y,rr(bi.get(y)||null,s,o,u,h,m)),!0;case"gotpointercapture":return y=m.pointerId,Pr.set(y,rr(Pr.get(y)||null,s,o,u,h,m)),!0}return!1}function Sc(s){var o=To(s.target);if(o!==null){var u=Zr(o);if(u!==null){if(o=u.tag,o===13){if(o=fo(u),o!==null){s.blockedOn=o,bc(s.priority,function(){Tc(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){s.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}s.blockedOn=null}function _s(s){if(s.blockedOn!==null)return!1;for(var o=s.targetContainers;0<o.length;){var u=fa(s.domEventName,s.eventSystemFlags,o[0],s.nativeEvent);if(u===null){u=s.nativeEvent;var h=new u.constructor(u.type,u);Xn=h,u.target.dispatchEvent(h),Xn=null}else return o=Yl(u),o!==null&&ha(o),s.blockedOn=u,!1;o.shift()}return!0}function vo(s,o,u){_s(s)&&u.delete(o)}function xc(){Vl=!1,fn!==null&&_s(fn)&&(fn=null),Yr!==null&&_s(Yr)&&(Yr=null),Jr!==null&&_s(Jr)&&(Jr=null),bi.forEach(vo),Pr.forEach(vo)}function Xr(s,o){s.blockedOn===o&&(s.blockedOn=null,Vl||(Vl=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,xc)))}function es(s){function o(m){return Xr(m,s)}if(0<ys.length){Xr(ys[0],s);for(var u=1;u<ys.length;u++){var h=ys[u];h.blockedOn===s&&(h.blockedOn=null)}}for(fn!==null&&Xr(fn,s),Yr!==null&&Xr(Yr,s),Jr!==null&&Xr(Jr,s),bi.forEach(o),Pr.forEach(o),u=0;u<vs.length;u++)h=vs[u],h.blockedOn===s&&(h.blockedOn=null);for(;0<vs.length&&(u=vs[0],u.blockedOn===null);)Sc(u),u.blockedOn===null&&vs.shift()}var Ws=J.ReactCurrentBatchConfig,ki=!0;function bt(s,o,u,h){var m=nt,y=Ws.transition;Ws.transition=null;try{nt=1,Ml(s,o,u,h)}finally{nt=m,Ws.transition=y}}function gf(s,o,u,h){var m=nt,y=Ws.transition;Ws.transition=null;try{nt=4,Ml(s,o,u,h)}finally{nt=m,Ws.transition=y}}function Ml(s,o,u,h){if(ki){var m=fa(s,o,u,h);if(m===null)xf(s,o,h,_o,u),kc(s,h);else if(mf(m,s,o,u,h))h.stopPropagation();else if(kc(s,h),o&4&&-1<pf.indexOf(s)){for(;m!==null;){var y=Yl(m);if(y!==null&&Ec(y),y=fa(s,o,u,h),y===null&&xf(s,o,h,_o,u),y===m)break;m=y}m!==null&&h.stopPropagation()}else xf(s,o,h,null,u)}}var _o=null;function fa(s,o,u,h){if(_o=null,s=Un(h),s=To(s),s!==null)if(o=Zr(s),o===null)s=null;else if(u=o.tag,u===13){if(s=fo(o),s!==null)return s;s=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;s=null}else o!==s&&(s=null);return _o=s,null}function jl(s){switch(s){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(gc()){case po:return 1;case vi:return 4;case Cr:case Dl:return 16;case yc:return 536870912;default:return 16}default:return 16}}var _r=null,pa=null,sr=null;function Fl(){if(sr)return sr;var s,o=pa,u=o.length,h,m="value"in _r?_r.value:_r.textContent,y=m.length;for(s=0;s<u&&o[s]===m[s];s++);var I=u-s;for(h=1;h<=I&&o[u-h]===m[y-h];h++);return sr=m.slice(s,1<h?1-h:void 0)}function ma(s){var o=s.keyCode;return"charCode"in s?(s=s.charCode,s===0&&o===13&&(s=13)):s=o,s===10&&(s=13),32<=s||s===13?s:0}function ws(){return!0}function Ul(){return!1}function pn(s){function o(u,h,m,y,I){this._reactName=u,this._targetInst=m,this.type=h,this.nativeEvent=y,this.target=I,this.currentTarget=null;for(var N in s)s.hasOwnProperty(N)&&(u=s[N],this[N]=u?u(y):y[N]);return this.isDefaultPrevented=(y.defaultPrevented!=null?y.defaultPrevented:y.returnValue===!1)?ws:Ul,this.isPropagationStopped=Ul,this}return pe(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=ws)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=ws)},persist:function(){},isPersistent:ws}),o}var ts={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(s){return s.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ga=pn(ts),Es=pe({},ts,{view:0,detail:0}),yf=pn(Es),ya,Ks,Si,wo=pe({},Es,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Ts,button:0,buttons:0,relatedTarget:function(s){return s.relatedTarget===void 0?s.fromElement===s.srcElement?s.toElement:s.fromElement:s.relatedTarget},movementX:function(s){return"movementX"in s?s.movementX:(s!==Si&&(Si&&s.type==="mousemove"?(ya=s.screenX-Si.screenX,Ks=s.screenY-Si.screenY):Ks=ya=0,Si=s),ya)},movementY:function(s){return"movementY"in s?s.movementY:Ks}}),va=pn(wo),zl=pe({},wo,{dataTransfer:0}),Ac=pn(zl),_a=pe({},Es,{relatedTarget:0}),wa=pn(_a),Rc=pe({},ts,{animationName:0,elapsedTime:0,pseudoElement:0}),Gs=pn(Rc),Cc=pe({},ts,{clipboardData:function(s){return"clipboardData"in s?s.clipboardData:window.clipboardData}}),Pc=pn(Cc),Nc=pe({},ts,{data:0}),$l=pn(Nc),Ea={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},$n={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Oc={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Dc(s){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(s):(s=Oc[s])?!!o[s]:!1}function Ts(){return Dc}var c=pe({},Es,{key:function(s){if(s.key){var o=Ea[s.key]||s.key;if(o!=="Unidentified")return o}return s.type==="keypress"?(s=ma(s),s===13?"Enter":String.fromCharCode(s)):s.type==="keydown"||s.type==="keyup"?$n[s.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Ts,charCode:function(s){return s.type==="keypress"?ma(s):0},keyCode:function(s){return s.type==="keydown"||s.type==="keyup"?s.keyCode:0},which:function(s){return s.type==="keypress"?ma(s):s.type==="keydown"||s.type==="keyup"?s.keyCode:0}}),g=pn(c),w=pe({},wo,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=pn(w),B=pe({},Es,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Ts}),Y=pn(B),fe=pe({},ts,{propertyName:0,elapsedTime:0,pseudoElement:0}),dt=pn(fe),Jt=pe({},wo,{deltaX:function(s){return"deltaX"in s?s.deltaX:"wheelDeltaX"in s?-s.wheelDeltaX:0},deltaY:function(s){return"deltaY"in s?s.deltaY:"wheelDeltaY"in s?-s.wheelDeltaY:"wheelDelta"in s?-s.wheelDelta:0},deltaZ:0,deltaMode:0}),it=pn(Jt),on=[9,13,27,32],$t=d&&"CompositionEvent"in window,Nr=null;d&&"documentMode"in document&&(Nr=document.documentMode);var wr=d&&"TextEvent"in window&&!Nr,Eo=d&&(!$t||Nr&&8<Nr&&11>=Nr),Ta=" ",Ly=!1;function Vy(s,o){switch(s){case"keyup":return on.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function My(s){return s=s.detail,typeof s=="object"&&"data"in s?s.data:null}var Ia=!1;function iS(s,o){switch(s){case"compositionend":return My(o);case"keypress":return o.which!==32?null:(Ly=!0,Ta);case"textInput":return s=o.data,s===Ta&&Ly?null:s;default:return null}}function oS(s,o){if(Ia)return s==="compositionend"||!$t&&Vy(s,o)?(s=Fl(),sr=pa=_r=null,Ia=!1,s):null;switch(s){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Eo&&o.locale!=="ko"?null:o.data;default:return null}}var aS={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function jy(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o==="input"?!!aS[s.type]:o==="textarea"}function Fy(s,o,u,h){ze(h),o=Fc(o,"onChange"),0<o.length&&(u=new ga("onChange","change",null,u,h),s.push({event:u,listeners:o}))}var Bl=null,ql=null;function lS(s){rv(s,0)}function Lc(s){var o=Aa(s);if(hn(o))return s}function uS(s,o){if(s==="change")return o}var Uy=!1;if(d){var vf;if(d){var _f="oninput"in document;if(!_f){var zy=document.createElement("div");zy.setAttribute("oninput","return;"),_f=typeof zy.oninput=="function"}vf=_f}else vf=!1;Uy=vf&&(!document.documentMode||9<document.documentMode)}function $y(){Bl&&(Bl.detachEvent("onpropertychange",By),ql=Bl=null)}function By(s){if(s.propertyName==="value"&&Lc(ql)){var o=[];Fy(o,ql,s,Un(s)),At(lS,o)}}function cS(s,o,u){s==="focusin"?($y(),Bl=o,ql=u,Bl.attachEvent("onpropertychange",By)):s==="focusout"&&$y()}function dS(s){if(s==="selectionchange"||s==="keyup"||s==="keydown")return Lc(ql)}function hS(s,o){if(s==="click")return Lc(o)}function fS(s,o){if(s==="input"||s==="change")return Lc(o)}function pS(s,o){return s===o&&(s!==0||1/s===1/o)||s!==s&&o!==o}var ns=typeof Object.is=="function"?Object.is:pS;function Hl(s,o){if(ns(s,o))return!0;if(typeof s!="object"||s===null||typeof o!="object"||o===null)return!1;var u=Object.keys(s),h=Object.keys(o);if(u.length!==h.length)return!1;for(h=0;h<u.length;h++){var m=u[h];if(!f.call(o,m)||!ns(s[m],o[m]))return!1}return!0}function qy(s){for(;s&&s.firstChild;)s=s.firstChild;return s}function Hy(s,o){var u=qy(s);s=0;for(var h;u;){if(u.nodeType===3){if(h=s+u.textContent.length,s<=o&&h>=o)return{node:u,offset:o-s};s=h}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=qy(u)}}function Wy(s,o){return s&&o?s===o?!0:s&&s.nodeType===3?!1:o&&o.nodeType===3?Wy(s,o.parentNode):"contains"in s?s.contains(o):s.compareDocumentPosition?!!(s.compareDocumentPosition(o)&16):!1:!1}function Ky(){for(var s=window,o=xr();o instanceof s.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)s=o.contentWindow;else break;o=xr(s.document)}return o}function wf(s){var o=s&&s.nodeName&&s.nodeName.toLowerCase();return o&&(o==="input"&&(s.type==="text"||s.type==="search"||s.type==="tel"||s.type==="url"||s.type==="password")||o==="textarea"||s.contentEditable==="true")}function mS(s){var o=Ky(),u=s.focusedElem,h=s.selectionRange;if(o!==u&&u&&u.ownerDocument&&Wy(u.ownerDocument.documentElement,u)){if(h!==null&&wf(u)){if(o=h.start,s=h.end,s===void 0&&(s=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(s,u.value.length);else if(s=(o=u.ownerDocument||document)&&o.defaultView||window,s.getSelection){s=s.getSelection();var m=u.textContent.length,y=Math.min(h.start,m);h=h.end===void 0?y:Math.min(h.end,m),!s.extend&&y>h&&(m=h,h=y,y=m),m=Hy(u,y);var I=Hy(u,h);m&&I&&(s.rangeCount!==1||s.anchorNode!==m.node||s.anchorOffset!==m.offset||s.focusNode!==I.node||s.focusOffset!==I.offset)&&(o=o.createRange(),o.setStart(m.node,m.offset),s.removeAllRanges(),y>h?(s.addRange(o),s.extend(I.node,I.offset)):(o.setEnd(I.node,I.offset),s.addRange(o)))}}for(o=[],s=u;s=s.parentNode;)s.nodeType===1&&o.push({element:s,left:s.scrollLeft,top:s.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)s=o[u],s.element.scrollLeft=s.left,s.element.scrollTop=s.top}}var gS=d&&"documentMode"in document&&11>=document.documentMode,ba=null,Ef=null,Wl=null,Tf=!1;function Gy(s,o,u){var h=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Tf||ba==null||ba!==xr(h)||(h=ba,"selectionStart"in h&&wf(h)?h={start:h.selectionStart,end:h.selectionEnd}:(h=(h.ownerDocument&&h.ownerDocument.defaultView||window).getSelection(),h={anchorNode:h.anchorNode,anchorOffset:h.anchorOffset,focusNode:h.focusNode,focusOffset:h.focusOffset}),Wl&&Hl(Wl,h)||(Wl=h,h=Fc(Ef,"onSelect"),0<h.length&&(o=new ga("onSelect","select",null,o,u),s.push({event:o,listeners:h}),o.target=ba)))}function Vc(s,o){var u={};return u[s.toLowerCase()]=o.toLowerCase(),u["Webkit"+s]="webkit"+o,u["Moz"+s]="moz"+o,u}var ka={animationend:Vc("Animation","AnimationEnd"),animationiteration:Vc("Animation","AnimationIteration"),animationstart:Vc("Animation","AnimationStart"),transitionend:Vc("Transition","TransitionEnd")},If={},Zy={};d&&(Zy=document.createElement("div").style,"AnimationEvent"in window||(delete ka.animationend.animation,delete ka.animationiteration.animation,delete ka.animationstart.animation),"TransitionEvent"in window||delete ka.transitionend.transition);function Mc(s){if(If[s])return If[s];if(!ka[s])return s;var o=ka[s],u;for(u in o)if(o.hasOwnProperty(u)&&u in Zy)return If[s]=o[u];return s}var Qy=Mc("animationend"),Yy=Mc("animationiteration"),Jy=Mc("animationstart"),Xy=Mc("transitionend"),ev=new Map,tv="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function xi(s,o){ev.set(s,o),a(o,[s])}for(var bf=0;bf<tv.length;bf++){var kf=tv[bf],yS=kf.toLowerCase(),vS=kf[0].toUpperCase()+kf.slice(1);xi(yS,"on"+vS)}xi(Qy,"onAnimationEnd"),xi(Yy,"onAnimationIteration"),xi(Jy,"onAnimationStart"),xi("dblclick","onDoubleClick"),xi("focusin","onFocus"),xi("focusout","onBlur"),xi(Xy,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Kl="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),_S=new Set("cancel close invalid load scroll toggle".split(" ").concat(Kl));function nv(s,o,u){var h=s.type||"unknown-event";s.currentTarget=u,fc(h,o,void 0,s),s.currentTarget=null}function rv(s,o){o=(o&4)!==0;for(var u=0;u<s.length;u++){var h=s[u],m=h.event;h=h.listeners;e:{var y=void 0;if(o)for(var I=h.length-1;0<=I;I--){var N=h[I],M=N.instance,G=N.currentTarget;if(N=N.listener,M!==y&&m.isPropagationStopped())break e;nv(m,N,G),y=M}else for(I=0;I<h.length;I++){if(N=h[I],M=N.instance,G=N.currentTarget,N=N.listener,M!==y&&m.isPropagationStopped())break e;nv(m,N,G),y=M}}}if(Rr)throw s=Pl,Rr=!1,Pl=null,s}function _t(s,o){var u=o[Of];u===void 0&&(u=o[Of]=new Set);var h=s+"__bubble";u.has(h)||(sv(o,s,2,!1),u.add(h))}function Sf(s,o,u){var h=0;o&&(h|=4),sv(u,s,h,o)}var jc="_reactListening"+Math.random().toString(36).slice(2);function Gl(s){if(!s[jc]){s[jc]=!0,r.forEach(function(u){u!=="selectionchange"&&(_S.has(u)||Sf(u,!1,s),Sf(u,!0,s))});var o=s.nodeType===9?s:s.ownerDocument;o===null||o[jc]||(o[jc]=!0,Sf("selectionchange",!1,o))}}function sv(s,o,u,h){switch(jl(o)){case 1:var m=bt;break;case 4:m=gf;break;default:m=Ml}u=m.bind(null,o,u,s),m=void 0,!Gr||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(m=!0),h?m!==void 0?s.addEventListener(o,u,{capture:!0,passive:m}):s.addEventListener(o,u,!0):m!==void 0?s.addEventListener(o,u,{passive:m}):s.addEventListener(o,u,!1)}function xf(s,o,u,h,m){var y=h;if((o&1)===0&&(o&2)===0&&h!==null)e:for(;;){if(h===null)return;var I=h.tag;if(I===3||I===4){var N=h.stateNode.containerInfo;if(N===m||N.nodeType===8&&N.parentNode===m)break;if(I===4)for(I=h.return;I!==null;){var M=I.tag;if((M===3||M===4)&&(M=I.stateNode.containerInfo,M===m||M.nodeType===8&&M.parentNode===m))return;I=I.return}for(;N!==null;){if(I=To(N),I===null)return;if(M=I.tag,M===5||M===6){h=y=I;continue e}N=N.parentNode}}h=h.return}At(function(){var G=y,ae=Un(u),de=[];e:{var ie=ev.get(s);if(ie!==void 0){var we=ga,be=s;switch(s){case"keypress":if(ma(u)===0)break e;case"keydown":case"keyup":we=g;break;case"focusin":be="focus",we=wa;break;case"focusout":be="blur",we=wa;break;case"beforeblur":case"afterblur":we=wa;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":we=va;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":we=Ac;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":we=Y;break;case Qy:case Yy:case Jy:we=Gs;break;case Xy:we=dt;break;case"scroll":we=yf;break;case"wheel":we=it;break;case"copy":case"cut":case"paste":we=Pc;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":we=k}var Re=(o&4)!==0,jt=!Re&&s==="scroll",q=Re?ie!==null?ie+"Capture":null:ie;Re=[];for(var z=G,W;z!==null;){W=z;var he=W.stateNode;if(W.tag===5&&he!==null&&(W=he,q!==null&&(he=st(z,q),he!=null&&Re.push(Zl(z,he,W)))),jt)break;z=z.return}0<Re.length&&(ie=new we(ie,be,null,u,ae),de.push({event:ie,listeners:Re}))}}if((o&7)===0){e:{if(ie=s==="mouseover"||s==="pointerover",we=s==="mouseout"||s==="pointerout",ie&&u!==Xn&&(be=u.relatedTarget||u.fromElement)&&(To(be)||be[Zs]))break e;if((we||ie)&&(ie=ae.window===ae?ae:(ie=ae.ownerDocument)?ie.defaultView||ie.parentWindow:window,we?(be=u.relatedTarget||u.toElement,we=G,be=be?To(be):null,be!==null&&(jt=Zr(be),be!==jt||be.tag!==5&&be.tag!==6)&&(be=null)):(we=null,be=G),we!==be)){if(Re=va,he="onMouseLeave",q="onMouseEnter",z="mouse",(s==="pointerout"||s==="pointerover")&&(Re=k,he="onPointerLeave",q="onPointerEnter",z="pointer"),jt=we==null?ie:Aa(we),W=be==null?ie:Aa(be),ie=new Re(he,z+"leave",we,u,ae),ie.target=jt,ie.relatedTarget=W,he=null,To(ae)===G&&(Re=new Re(q,z+"enter",be,u,ae),Re.target=W,Re.relatedTarget=jt,he=Re),jt=he,we&&be)t:{for(Re=we,q=be,z=0,W=Re;W;W=Sa(W))z++;for(W=0,he=q;he;he=Sa(he))W++;for(;0<z-W;)Re=Sa(Re),z--;for(;0<W-z;)q=Sa(q),W--;for(;z--;){if(Re===q||q!==null&&Re===q.alternate)break t;Re=Sa(Re),q=Sa(q)}Re=null}else Re=null;we!==null&&iv(de,ie,we,Re,!1),be!==null&&jt!==null&&iv(de,jt,be,Re,!0)}}e:{if(ie=G?Aa(G):window,we=ie.nodeName&&ie.nodeName.toLowerCase(),we==="select"||we==="input"&&ie.type==="file")var Pe=uS;else if(jy(ie))if(Uy)Pe=fS;else{Pe=dS;var Fe=cS}else(we=ie.nodeName)&&we.toLowerCase()==="input"&&(ie.type==="checkbox"||ie.type==="radio")&&(Pe=hS);if(Pe&&(Pe=Pe(s,G))){Fy(de,Pe,u,ae);break e}Fe&&Fe(s,ie,G),s==="focusout"&&(Fe=ie._wrapperState)&&Fe.controlled&&ie.type==="number"&&sn(ie,"number",ie.value)}switch(Fe=G?Aa(G):window,s){case"focusin":(jy(Fe)||Fe.contentEditable==="true")&&(ba=Fe,Ef=G,Wl=null);break;case"focusout":Wl=Ef=ba=null;break;case"mousedown":Tf=!0;break;case"contextmenu":case"mouseup":case"dragend":Tf=!1,Gy(de,u,ae);break;case"selectionchange":if(gS)break;case"keydown":case"keyup":Gy(de,u,ae)}var Ue;if($t)e:{switch(s){case"compositionstart":var Be="onCompositionStart";break e;case"compositionend":Be="onCompositionEnd";break e;case"compositionupdate":Be="onCompositionUpdate";break e}Be=void 0}else Ia?Vy(s,u)&&(Be="onCompositionEnd"):s==="keydown"&&u.keyCode===229&&(Be="onCompositionStart");Be&&(Eo&&u.locale!=="ko"&&(Ia||Be!=="onCompositionStart"?Be==="onCompositionEnd"&&Ia&&(Ue=Fl()):(_r=ae,pa="value"in _r?_r.value:_r.textContent,Ia=!0)),Fe=Fc(G,Be),0<Fe.length&&(Be=new $l(Be,s,null,u,ae),de.push({event:Be,listeners:Fe}),Ue?Be.data=Ue:(Ue=My(u),Ue!==null&&(Be.data=Ue)))),(Ue=wr?iS(s,u):oS(s,u))&&(G=Fc(G,"onBeforeInput"),0<G.length&&(ae=new $l("onBeforeInput","beforeinput",null,u,ae),de.push({event:ae,listeners:G}),ae.data=Ue))}rv(de,o)})}function Zl(s,o,u){return{instance:s,listener:o,currentTarget:u}}function Fc(s,o){for(var u=o+"Capture",h=[];s!==null;){var m=s,y=m.stateNode;m.tag===5&&y!==null&&(m=y,y=st(s,u),y!=null&&h.unshift(Zl(s,y,m)),y=st(s,o),y!=null&&h.push(Zl(s,y,m))),s=s.return}return h}function Sa(s){if(s===null)return null;do s=s.return;while(s&&s.tag!==5);return s||null}function iv(s,o,u,h,m){for(var y=o._reactName,I=[];u!==null&&u!==h;){var N=u,M=N.alternate,G=N.stateNode;if(M!==null&&M===h)break;N.tag===5&&G!==null&&(N=G,m?(M=st(u,y),M!=null&&I.unshift(Zl(u,M,N))):m||(M=st(u,y),M!=null&&I.push(Zl(u,M,N)))),u=u.return}I.length!==0&&s.push({event:o,listeners:I})}var wS=/\r\n?/g,ES=/\u0000|\uFFFD/g;function ov(s){return(typeof s=="string"?s:""+s).replace(wS,`
`).replace(ES,"")}function Uc(s,o,u){if(o=ov(o),ov(s)!==o&&u)throw Error(n(425))}function zc(){}var Af=null,Rf=null;function Cf(s,o){return s==="textarea"||s==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Pf=typeof setTimeout=="function"?setTimeout:void 0,TS=typeof clearTimeout=="function"?clearTimeout:void 0,av=typeof Promise=="function"?Promise:void 0,IS=typeof queueMicrotask=="function"?queueMicrotask:typeof av<"u"?function(s){return av.resolve(null).then(s).catch(bS)}:Pf;function bS(s){setTimeout(function(){throw s})}function Nf(s,o){var u=o,h=0;do{var m=u.nextSibling;if(s.removeChild(u),m&&m.nodeType===8)if(u=m.data,u==="/$"){if(h===0){s.removeChild(m),es(o);return}h--}else u!=="$"&&u!=="$?"&&u!=="$!"||h++;u=m}while(u);es(o)}function Ai(s){for(;s!=null;s=s.nextSibling){var o=s.nodeType;if(o===1||o===3)break;if(o===8){if(o=s.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return s}function lv(s){s=s.previousSibling;for(var o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return s;o--}else u==="/$"&&o++}s=s.previousSibling}return null}var xa=Math.random().toString(36).slice(2),Is="__reactFiber$"+xa,Ql="__reactProps$"+xa,Zs="__reactContainer$"+xa,Of="__reactEvents$"+xa,kS="__reactListeners$"+xa,SS="__reactHandles$"+xa;function To(s){var o=s[Is];if(o)return o;for(var u=s.parentNode;u;){if(o=u[Zs]||u[Is]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(s=lv(s);s!==null;){if(u=s[Is])return u;s=lv(s)}return o}s=u,u=s.parentNode}return null}function Yl(s){return s=s[Is]||s[Zs],!s||s.tag!==5&&s.tag!==6&&s.tag!==13&&s.tag!==3?null:s}function Aa(s){if(s.tag===5||s.tag===6)return s.stateNode;throw Error(n(33))}function $c(s){return s[Ql]||null}var Df=[],Ra=-1;function Ri(s){return{current:s}}function wt(s){0>Ra||(s.current=Df[Ra],Df[Ra]=null,Ra--)}function yt(s,o){Ra++,Df[Ra]=s.current,s.current=o}var Ci={},kn=Ri(Ci),ir=Ri(!1),Io=Ci;function Ca(s,o){var u=s.type.contextTypes;if(!u)return Ci;var h=s.stateNode;if(h&&h.__reactInternalMemoizedUnmaskedChildContext===o)return h.__reactInternalMemoizedMaskedChildContext;var m={},y;for(y in u)m[y]=o[y];return h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=o,s.__reactInternalMemoizedMaskedChildContext=m),m}function or(s){return s=s.childContextTypes,s!=null}function Bc(){wt(ir),wt(kn)}function uv(s,o,u){if(kn.current!==Ci)throw Error(n(168));yt(kn,o),yt(ir,u)}function cv(s,o,u){var h=s.stateNode;if(o=o.childContextTypes,typeof h.getChildContext!="function")return u;h=h.getChildContext();for(var m in h)if(!(m in o))throw Error(n(108,Oe(s)||"Unknown",m));return pe({},u,h)}function qc(s){return s=(s=s.stateNode)&&s.__reactInternalMemoizedMergedChildContext||Ci,Io=kn.current,yt(kn,s),yt(ir,ir.current),!0}function dv(s,o,u){var h=s.stateNode;if(!h)throw Error(n(169));u?(s=cv(s,o,Io),h.__reactInternalMemoizedMergedChildContext=s,wt(ir),wt(kn),yt(kn,s)):wt(ir),yt(ir,u)}var Qs=null,Hc=!1,Lf=!1;function hv(s){Qs===null?Qs=[s]:Qs.push(s)}function xS(s){Hc=!0,hv(s)}function Pi(){if(!Lf&&Qs!==null){Lf=!0;var s=0,o=nt;try{var u=Qs;for(nt=1;s<u.length;s++){var h=u[s];do h=h(!0);while(h!==null)}Qs=null,Hc=!1}catch(m){throw Qs!==null&&(Qs=Qs.slice(s+1)),ua(po,Pi),m}finally{nt=o,Lf=!1}}return null}var Pa=[],Na=0,Wc=null,Kc=0,Or=[],Dr=0,bo=null,Ys=1,Js="";function ko(s,o){Pa[Na++]=Kc,Pa[Na++]=Wc,Wc=s,Kc=o}function fv(s,o,u){Or[Dr++]=Ys,Or[Dr++]=Js,Or[Dr++]=bo,bo=s;var h=Ys;s=Js;var m=32-zn(h)-1;h&=~(1<<m),u+=1;var y=32-zn(o)+m;if(30<y){var I=m-m%5;y=(h&(1<<I)-1).toString(32),h>>=I,m-=I,Ys=1<<32-zn(o)+m|u<<m|h,Js=y+s}else Ys=1<<y|u<<m|h,Js=s}function Vf(s){s.return!==null&&(ko(s,1),fv(s,1,0))}function Mf(s){for(;s===Wc;)Wc=Pa[--Na],Pa[Na]=null,Kc=Pa[--Na],Pa[Na]=null;for(;s===bo;)bo=Or[--Dr],Or[Dr]=null,Js=Or[--Dr],Or[Dr]=null,Ys=Or[--Dr],Or[Dr]=null}var Er=null,Tr=null,kt=!1,rs=null;function pv(s,o){var u=jr(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=s,o=s.deletions,o===null?(s.deletions=[u],s.flags|=16):o.push(u)}function mv(s,o){switch(s.tag){case 5:var u=s.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(s.stateNode=o,Er=s,Tr=Ai(o.firstChild),!0):!1;case 6:return o=s.pendingProps===""||o.nodeType!==3?null:o,o!==null?(s.stateNode=o,Er=s,Tr=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=bo!==null?{id:Ys,overflow:Js}:null,s.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=jr(18,null,null,0),u.stateNode=o,u.return=s,s.child=u,Er=s,Tr=null,!0):!1;default:return!1}}function jf(s){return(s.mode&1)!==0&&(s.flags&128)===0}function Ff(s){if(kt){var o=Tr;if(o){var u=o;if(!mv(s,o)){if(jf(s))throw Error(n(418));o=Ai(u.nextSibling);var h=Er;o&&mv(s,o)?pv(h,u):(s.flags=s.flags&-4097|2,kt=!1,Er=s)}}else{if(jf(s))throw Error(n(418));s.flags=s.flags&-4097|2,kt=!1,Er=s}}}function gv(s){for(s=s.return;s!==null&&s.tag!==5&&s.tag!==3&&s.tag!==13;)s=s.return;Er=s}function Gc(s){if(s!==Er)return!1;if(!kt)return gv(s),kt=!0,!1;var o;if((o=s.tag!==3)&&!(o=s.tag!==5)&&(o=s.type,o=o!=="head"&&o!=="body"&&!Cf(s.type,s.memoizedProps)),o&&(o=Tr)){if(jf(s))throw yv(),Error(n(418));for(;o;)pv(s,o),o=Ai(o.nextSibling)}if(gv(s),s.tag===13){if(s=s.memoizedState,s=s!==null?s.dehydrated:null,!s)throw Error(n(317));e:{for(s=s.nextSibling,o=0;s;){if(s.nodeType===8){var u=s.data;if(u==="/$"){if(o===0){Tr=Ai(s.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}s=s.nextSibling}Tr=null}}else Tr=Er?Ai(s.stateNode.nextSibling):null;return!0}function yv(){for(var s=Tr;s;)s=Ai(s.nextSibling)}function Oa(){Tr=Er=null,kt=!1}function Uf(s){rs===null?rs=[s]:rs.push(s)}var AS=J.ReactCurrentBatchConfig;function Jl(s,o,u){if(s=u.ref,s!==null&&typeof s!="function"&&typeof s!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(n(309));var h=u.stateNode}if(!h)throw Error(n(147,s));var m=h,y=""+s;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===y?o.ref:(o=function(I){var N=m.refs;I===null?delete N[y]:N[y]=I},o._stringRef=y,o)}if(typeof s!="string")throw Error(n(284));if(!u._owner)throw Error(n(290,s))}return s}function Zc(s,o){throw s=Object.prototype.toString.call(o),Error(n(31,s==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":s))}function vv(s){var o=s._init;return o(s._payload)}function _v(s){function o(q,z){if(s){var W=q.deletions;W===null?(q.deletions=[z],q.flags|=16):W.push(z)}}function u(q,z){if(!s)return null;for(;z!==null;)o(q,z),z=z.sibling;return null}function h(q,z){for(q=new Map;z!==null;)z.key!==null?q.set(z.key,z):q.set(z.index,z),z=z.sibling;return q}function m(q,z){return q=Fi(q,z),q.index=0,q.sibling=null,q}function y(q,z,W){return q.index=W,s?(W=q.alternate,W!==null?(W=W.index,W<z?(q.flags|=2,z):W):(q.flags|=2,z)):(q.flags|=1048576,z)}function I(q){return s&&q.alternate===null&&(q.flags|=2),q}function N(q,z,W,he){return z===null||z.tag!==6?(z=Pp(W,q.mode,he),z.return=q,z):(z=m(z,W),z.return=q,z)}function M(q,z,W,he){var Pe=W.type;return Pe===L?ae(q,z,W.props.children,he,W.key):z!==null&&(z.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===me&&vv(Pe)===z.type)?(he=m(z,W.props),he.ref=Jl(q,z,W),he.return=q,he):(he=_d(W.type,W.key,W.props,null,q.mode,he),he.ref=Jl(q,z,W),he.return=q,he)}function G(q,z,W,he){return z===null||z.tag!==4||z.stateNode.containerInfo!==W.containerInfo||z.stateNode.implementation!==W.implementation?(z=Np(W,q.mode,he),z.return=q,z):(z=m(z,W.children||[]),z.return=q,z)}function ae(q,z,W,he,Pe){return z===null||z.tag!==7?(z=Oo(W,q.mode,he,Pe),z.return=q,z):(z=m(z,W),z.return=q,z)}function de(q,z,W){if(typeof z=="string"&&z!==""||typeof z=="number")return z=Pp(""+z,q.mode,W),z.return=q,z;if(typeof z=="object"&&z!==null){switch(z.$$typeof){case ce:return W=_d(z.type,z.key,z.props,null,q.mode,W),W.ref=Jl(q,null,z),W.return=q,W;case _e:return z=Np(z,q.mode,W),z.return=q,z;case me:var he=z._init;return de(q,he(z._payload),W)}if(Ar(z)||ve(z))return z=Oo(z,q.mode,W,null),z.return=q,z;Zc(q,z)}return null}function ie(q,z,W,he){var Pe=z!==null?z.key:null;if(typeof W=="string"&&W!==""||typeof W=="number")return Pe!==null?null:N(q,z,""+W,he);if(typeof W=="object"&&W!==null){switch(W.$$typeof){case ce:return W.key===Pe?M(q,z,W,he):null;case _e:return W.key===Pe?G(q,z,W,he):null;case me:return Pe=W._init,ie(q,z,Pe(W._payload),he)}if(Ar(W)||ve(W))return Pe!==null?null:ae(q,z,W,he,null);Zc(q,W)}return null}function we(q,z,W,he,Pe){if(typeof he=="string"&&he!==""||typeof he=="number")return q=q.get(W)||null,N(z,q,""+he,Pe);if(typeof he=="object"&&he!==null){switch(he.$$typeof){case ce:return q=q.get(he.key===null?W:he.key)||null,M(z,q,he,Pe);case _e:return q=q.get(he.key===null?W:he.key)||null,G(z,q,he,Pe);case me:var Fe=he._init;return we(q,z,W,Fe(he._payload),Pe)}if(Ar(he)||ve(he))return q=q.get(W)||null,ae(z,q,he,Pe,null);Zc(z,he)}return null}function be(q,z,W,he){for(var Pe=null,Fe=null,Ue=z,Be=z=0,un=null;Ue!==null&&Be<W.length;Be++){Ue.index>Be?(un=Ue,Ue=null):un=Ue.sibling;var ut=ie(q,Ue,W[Be],he);if(ut===null){Ue===null&&(Ue=un);break}s&&Ue&&ut.alternate===null&&o(q,Ue),z=y(ut,z,Be),Fe===null?Pe=ut:Fe.sibling=ut,Fe=ut,Ue=un}if(Be===W.length)return u(q,Ue),kt&&ko(q,Be),Pe;if(Ue===null){for(;Be<W.length;Be++)Ue=de(q,W[Be],he),Ue!==null&&(z=y(Ue,z,Be),Fe===null?Pe=Ue:Fe.sibling=Ue,Fe=Ue);return kt&&ko(q,Be),Pe}for(Ue=h(q,Ue);Be<W.length;Be++)un=we(Ue,q,Be,W[Be],he),un!==null&&(s&&un.alternate!==null&&Ue.delete(un.key===null?Be:un.key),z=y(un,z,Be),Fe===null?Pe=un:Fe.sibling=un,Fe=un);return s&&Ue.forEach(function(Ui){return o(q,Ui)}),kt&&ko(q,Be),Pe}function Re(q,z,W,he){var Pe=ve(W);if(typeof Pe!="function")throw Error(n(150));if(W=Pe.call(W),W==null)throw Error(n(151));for(var Fe=Pe=null,Ue=z,Be=z=0,un=null,ut=W.next();Ue!==null&&!ut.done;Be++,ut=W.next()){Ue.index>Be?(un=Ue,Ue=null):un=Ue.sibling;var Ui=ie(q,Ue,ut.value,he);if(Ui===null){Ue===null&&(Ue=un);break}s&&Ue&&Ui.alternate===null&&o(q,Ue),z=y(Ui,z,Be),Fe===null?Pe=Ui:Fe.sibling=Ui,Fe=Ui,Ue=un}if(ut.done)return u(q,Ue),kt&&ko(q,Be),Pe;if(Ue===null){for(;!ut.done;Be++,ut=W.next())ut=de(q,ut.value,he),ut!==null&&(z=y(ut,z,Be),Fe===null?Pe=ut:Fe.sibling=ut,Fe=ut);return kt&&ko(q,Be),Pe}for(Ue=h(q,Ue);!ut.done;Be++,ut=W.next())ut=we(Ue,q,Be,ut.value,he),ut!==null&&(s&&ut.alternate!==null&&Ue.delete(ut.key===null?Be:ut.key),z=y(ut,z,Be),Fe===null?Pe=ut:Fe.sibling=ut,Fe=ut);return s&&Ue.forEach(function(ax){return o(q,ax)}),kt&&ko(q,Be),Pe}function jt(q,z,W,he){if(typeof W=="object"&&W!==null&&W.type===L&&W.key===null&&(W=W.props.children),typeof W=="object"&&W!==null){switch(W.$$typeof){case ce:e:{for(var Pe=W.key,Fe=z;Fe!==null;){if(Fe.key===Pe){if(Pe=W.type,Pe===L){if(Fe.tag===7){u(q,Fe.sibling),z=m(Fe,W.props.children),z.return=q,q=z;break e}}else if(Fe.elementType===Pe||typeof Pe=="object"&&Pe!==null&&Pe.$$typeof===me&&vv(Pe)===Fe.type){u(q,Fe.sibling),z=m(Fe,W.props),z.ref=Jl(q,Fe,W),z.return=q,q=z;break e}u(q,Fe);break}else o(q,Fe);Fe=Fe.sibling}W.type===L?(z=Oo(W.props.children,q.mode,he,W.key),z.return=q,q=z):(he=_d(W.type,W.key,W.props,null,q.mode,he),he.ref=Jl(q,z,W),he.return=q,q=he)}return I(q);case _e:e:{for(Fe=W.key;z!==null;){if(z.key===Fe)if(z.tag===4&&z.stateNode.containerInfo===W.containerInfo&&z.stateNode.implementation===W.implementation){u(q,z.sibling),z=m(z,W.children||[]),z.return=q,q=z;break e}else{u(q,z);break}else o(q,z);z=z.sibling}z=Np(W,q.mode,he),z.return=q,q=z}return I(q);case me:return Fe=W._init,jt(q,z,Fe(W._payload),he)}if(Ar(W))return be(q,z,W,he);if(ve(W))return Re(q,z,W,he);Zc(q,W)}return typeof W=="string"&&W!==""||typeof W=="number"?(W=""+W,z!==null&&z.tag===6?(u(q,z.sibling),z=m(z,W),z.return=q,q=z):(u(q,z),z=Pp(W,q.mode,he),z.return=q,q=z),I(q)):u(q,z)}return jt}var Da=_v(!0),wv=_v(!1),Qc=Ri(null),Yc=null,La=null,zf=null;function $f(){zf=La=Yc=null}function Bf(s){var o=Qc.current;wt(Qc),s._currentValue=o}function qf(s,o,u){for(;s!==null;){var h=s.alternate;if((s.childLanes&o)!==o?(s.childLanes|=o,h!==null&&(h.childLanes|=o)):h!==null&&(h.childLanes&o)!==o&&(h.childLanes|=o),s===u)break;s=s.return}}function Va(s,o){Yc=s,zf=La=null,s=s.dependencies,s!==null&&s.firstContext!==null&&((s.lanes&o)!==0&&(ar=!0),s.firstContext=null)}function Lr(s){var o=s._currentValue;if(zf!==s)if(s={context:s,memoizedValue:o,next:null},La===null){if(Yc===null)throw Error(n(308));La=s,Yc.dependencies={lanes:0,firstContext:s}}else La=La.next=s;return o}var So=null;function Hf(s){So===null?So=[s]:So.push(s)}function Ev(s,o,u,h){var m=o.interleaved;return m===null?(u.next=u,Hf(o)):(u.next=m.next,m.next=u),o.interleaved=u,Xs(s,h)}function Xs(s,o){s.lanes|=o;var u=s.alternate;for(u!==null&&(u.lanes|=o),u=s,s=s.return;s!==null;)s.childLanes|=o,u=s.alternate,u!==null&&(u.childLanes|=o),u=s,s=s.return;return u.tag===3?u.stateNode:null}var Ni=!1;function Wf(s){s.updateQueue={baseState:s.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Tv(s,o){s=s.updateQueue,o.updateQueue===s&&(o.updateQueue={baseState:s.baseState,firstBaseUpdate:s.firstBaseUpdate,lastBaseUpdate:s.lastBaseUpdate,shared:s.shared,effects:s.effects})}function ei(s,o){return{eventTime:s,lane:o,tag:0,payload:null,callback:null,next:null}}function Oi(s,o,u){var h=s.updateQueue;if(h===null)return null;if(h=h.shared,(at&2)!==0){var m=h.pending;return m===null?o.next=o:(o.next=m.next,m.next=o),h.pending=o,Xs(s,u)}return m=h.interleaved,m===null?(o.next=o,Hf(h)):(o.next=m.next,m.next=o),h.interleaved=o,Xs(s,u)}function Jc(s,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ti(s,u)}}function Iv(s,o){var u=s.updateQueue,h=s.alternate;if(h!==null&&(h=h.updateQueue,u===h)){var m=null,y=null;if(u=u.firstBaseUpdate,u!==null){do{var I={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};y===null?m=y=I:y=y.next=I,u=u.next}while(u!==null);y===null?m=y=o:y=y.next=o}else m=y=o;u={baseState:h.baseState,firstBaseUpdate:m,lastBaseUpdate:y,shared:h.shared,effects:h.effects},s.updateQueue=u;return}s=u.lastBaseUpdate,s===null?u.firstBaseUpdate=o:s.next=o,u.lastBaseUpdate=o}function Xc(s,o,u,h){var m=s.updateQueue;Ni=!1;var y=m.firstBaseUpdate,I=m.lastBaseUpdate,N=m.shared.pending;if(N!==null){m.shared.pending=null;var M=N,G=M.next;M.next=null,I===null?y=G:I.next=G,I=M;var ae=s.alternate;ae!==null&&(ae=ae.updateQueue,N=ae.lastBaseUpdate,N!==I&&(N===null?ae.firstBaseUpdate=G:N.next=G,ae.lastBaseUpdate=M))}if(y!==null){var de=m.baseState;I=0,ae=G=M=null,N=y;do{var ie=N.lane,we=N.eventTime;if((h&ie)===ie){ae!==null&&(ae=ae.next={eventTime:we,lane:0,tag:N.tag,payload:N.payload,callback:N.callback,next:null});e:{var be=s,Re=N;switch(ie=o,we=u,Re.tag){case 1:if(be=Re.payload,typeof be=="function"){de=be.call(we,de,ie);break e}de=be;break e;case 3:be.flags=be.flags&-65537|128;case 0:if(be=Re.payload,ie=typeof be=="function"?be.call(we,de,ie):be,ie==null)break e;de=pe({},de,ie);break e;case 2:Ni=!0}}N.callback!==null&&N.lane!==0&&(s.flags|=64,ie=m.effects,ie===null?m.effects=[N]:ie.push(N))}else we={eventTime:we,lane:ie,tag:N.tag,payload:N.payload,callback:N.callback,next:null},ae===null?(G=ae=we,M=de):ae=ae.next=we,I|=ie;if(N=N.next,N===null){if(N=m.shared.pending,N===null)break;ie=N,N=ie.next,ie.next=null,m.lastBaseUpdate=ie,m.shared.pending=null}}while(!0);if(ae===null&&(M=de),m.baseState=M,m.firstBaseUpdate=G,m.lastBaseUpdate=ae,o=m.shared.interleaved,o!==null){m=o;do I|=m.lane,m=m.next;while(m!==o)}else y===null&&(m.shared.lanes=0);Ro|=I,s.lanes=I,s.memoizedState=de}}function bv(s,o,u){if(s=o.effects,o.effects=null,s!==null)for(o=0;o<s.length;o++){var h=s[o],m=h.callback;if(m!==null){if(h.callback=null,h=u,typeof m!="function")throw Error(n(191,m));m.call(h)}}}var Xl={},bs=Ri(Xl),eu=Ri(Xl),tu=Ri(Xl);function xo(s){if(s===Xl)throw Error(n(174));return s}function Kf(s,o){switch(yt(tu,o),yt(eu,s),yt(bs,Xl),s=o.nodeType,s){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:re(null,"");break;default:s=s===8?o.parentNode:o,o=s.namespaceURI||null,s=s.tagName,o=re(o,s)}wt(bs),yt(bs,o)}function Ma(){wt(bs),wt(eu),wt(tu)}function kv(s){xo(tu.current);var o=xo(bs.current),u=re(o,s.type);o!==u&&(yt(eu,s),yt(bs,u))}function Gf(s){eu.current===s&&(wt(bs),wt(eu))}var Ct=Ri(0);function ed(s){for(var o=s;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var Zf=[];function Qf(){for(var s=0;s<Zf.length;s++)Zf[s]._workInProgressVersionPrimary=null;Zf.length=0}var td=J.ReactCurrentDispatcher,Yf=J.ReactCurrentBatchConfig,Ao=0,Pt=null,Xt=null,an=null,nd=!1,nu=!1,ru=0,RS=0;function Sn(){throw Error(n(321))}function Jf(s,o){if(o===null)return!1;for(var u=0;u<o.length&&u<s.length;u++)if(!ns(s[u],o[u]))return!1;return!0}function Xf(s,o,u,h,m,y){if(Ao=y,Pt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,td.current=s===null||s.memoizedState===null?OS:DS,s=u(h,m),nu){y=0;do{if(nu=!1,ru=0,25<=y)throw Error(n(301));y+=1,an=Xt=null,o.updateQueue=null,td.current=LS,s=u(h,m)}while(nu)}if(td.current=id,o=Xt!==null&&Xt.next!==null,Ao=0,an=Xt=Pt=null,nd=!1,o)throw Error(n(300));return s}function ep(){var s=ru!==0;return ru=0,s}function ks(){var s={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return an===null?Pt.memoizedState=an=s:an=an.next=s,an}function Vr(){if(Xt===null){var s=Pt.alternate;s=s!==null?s.memoizedState:null}else s=Xt.next;var o=an===null?Pt.memoizedState:an.next;if(o!==null)an=o,Xt=s;else{if(s===null)throw Error(n(310));Xt=s,s={memoizedState:Xt.memoizedState,baseState:Xt.baseState,baseQueue:Xt.baseQueue,queue:Xt.queue,next:null},an===null?Pt.memoizedState=an=s:an=an.next=s}return an}function su(s,o){return typeof o=="function"?o(s):o}function tp(s){var o=Vr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var h=Xt,m=h.baseQueue,y=u.pending;if(y!==null){if(m!==null){var I=m.next;m.next=y.next,y.next=I}h.baseQueue=m=y,u.pending=null}if(m!==null){y=m.next,h=h.baseState;var N=I=null,M=null,G=y;do{var ae=G.lane;if((Ao&ae)===ae)M!==null&&(M=M.next={lane:0,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null}),h=G.hasEagerState?G.eagerState:s(h,G.action);else{var de={lane:ae,action:G.action,hasEagerState:G.hasEagerState,eagerState:G.eagerState,next:null};M===null?(N=M=de,I=h):M=M.next=de,Pt.lanes|=ae,Ro|=ae}G=G.next}while(G!==null&&G!==y);M===null?I=h:M.next=N,ns(h,o.memoizedState)||(ar=!0),o.memoizedState=h,o.baseState=I,o.baseQueue=M,u.lastRenderedState=h}if(s=u.interleaved,s!==null){m=s;do y=m.lane,Pt.lanes|=y,Ro|=y,m=m.next;while(m!==s)}else m===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function np(s){var o=Vr(),u=o.queue;if(u===null)throw Error(n(311));u.lastRenderedReducer=s;var h=u.dispatch,m=u.pending,y=o.memoizedState;if(m!==null){u.pending=null;var I=m=m.next;do y=s(y,I.action),I=I.next;while(I!==m);ns(y,o.memoizedState)||(ar=!0),o.memoizedState=y,o.baseQueue===null&&(o.baseState=y),u.lastRenderedState=y}return[y,h]}function Sv(){}function xv(s,o){var u=Pt,h=Vr(),m=o(),y=!ns(h.memoizedState,m);if(y&&(h.memoizedState=m,ar=!0),h=h.queue,rp(Cv.bind(null,u,h,s),[s]),h.getSnapshot!==o||y||an!==null&&an.memoizedState.tag&1){if(u.flags|=2048,iu(9,Rv.bind(null,u,h,m,o),void 0,null),ln===null)throw Error(n(349));(Ao&30)!==0||Av(u,o,m)}return m}function Av(s,o,u){s.flags|=16384,s={getSnapshot:o,value:u},o=Pt.updateQueue,o===null?(o={lastEffect:null,stores:null},Pt.updateQueue=o,o.stores=[s]):(u=o.stores,u===null?o.stores=[s]:u.push(s))}function Rv(s,o,u,h){o.value=u,o.getSnapshot=h,Pv(o)&&Nv(s)}function Cv(s,o,u){return u(function(){Pv(o)&&Nv(s)})}function Pv(s){var o=s.getSnapshot;s=s.value;try{var u=o();return!ns(s,u)}catch{return!0}}function Nv(s){var o=Xs(s,1);o!==null&&as(o,s,1,-1)}function Ov(s){var o=ks();return typeof s=="function"&&(s=s()),o.memoizedState=o.baseState=s,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:su,lastRenderedState:s},o.queue=s,s=s.dispatch=NS.bind(null,Pt,s),[o.memoizedState,s]}function iu(s,o,u,h){return s={tag:s,create:o,destroy:u,deps:h,next:null},o=Pt.updateQueue,o===null?(o={lastEffect:null,stores:null},Pt.updateQueue=o,o.lastEffect=s.next=s):(u=o.lastEffect,u===null?o.lastEffect=s.next=s:(h=u.next,u.next=s,s.next=h,o.lastEffect=s)),s}function Dv(){return Vr().memoizedState}function rd(s,o,u,h){var m=ks();Pt.flags|=s,m.memoizedState=iu(1|o,u,void 0,h===void 0?null:h)}function sd(s,o,u,h){var m=Vr();h=h===void 0?null:h;var y=void 0;if(Xt!==null){var I=Xt.memoizedState;if(y=I.destroy,h!==null&&Jf(h,I.deps)){m.memoizedState=iu(o,u,y,h);return}}Pt.flags|=s,m.memoizedState=iu(1|o,u,y,h)}function Lv(s,o){return rd(8390656,8,s,o)}function rp(s,o){return sd(2048,8,s,o)}function Vv(s,o){return sd(4,2,s,o)}function Mv(s,o){return sd(4,4,s,o)}function jv(s,o){if(typeof o=="function")return s=s(),o(s),function(){o(null)};if(o!=null)return s=s(),o.current=s,function(){o.current=null}}function Fv(s,o,u){return u=u!=null?u.concat([s]):null,sd(4,4,jv.bind(null,o,s),u)}function sp(){}function Uv(s,o){var u=Vr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Jf(o,h[1])?h[0]:(u.memoizedState=[s,o],s)}function zv(s,o){var u=Vr();o=o===void 0?null:o;var h=u.memoizedState;return h!==null&&o!==null&&Jf(o,h[1])?h[0]:(s=s(),u.memoizedState=[s,o],s)}function $v(s,o,u){return(Ao&21)===0?(s.baseState&&(s.baseState=!1,ar=!0),s.memoizedState=u):(ns(u,o)||(u=yo(),Pt.lanes|=u,Ro|=u,s.baseState=!0),o)}function CS(s,o){var u=nt;nt=u!==0&&4>u?u:4,s(!0);var h=Yf.transition;Yf.transition={};try{s(!1),o()}finally{nt=u,Yf.transition=h}}function Bv(){return Vr().memoizedState}function PS(s,o,u){var h=Mi(s);if(u={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null},qv(s))Hv(o,u);else if(u=Ev(s,o,u,h),u!==null){var m=qn();as(u,s,h,m),Wv(u,o,h)}}function NS(s,o,u){var h=Mi(s),m={lane:h,action:u,hasEagerState:!1,eagerState:null,next:null};if(qv(s))Hv(o,m);else{var y=s.alternate;if(s.lanes===0&&(y===null||y.lanes===0)&&(y=o.lastRenderedReducer,y!==null))try{var I=o.lastRenderedState,N=y(I,u);if(m.hasEagerState=!0,m.eagerState=N,ns(N,I)){var M=o.interleaved;M===null?(m.next=m,Hf(o)):(m.next=M.next,M.next=m),o.interleaved=m;return}}catch{}finally{}u=Ev(s,o,m,h),u!==null&&(m=qn(),as(u,s,h,m),Wv(u,o,h))}}function qv(s){var o=s.alternate;return s===Pt||o!==null&&o===Pt}function Hv(s,o){nu=nd=!0;var u=s.pending;u===null?o.next=o:(o.next=u.next,u.next=o),s.pending=o}function Wv(s,o,u){if((u&4194240)!==0){var h=o.lanes;h&=s.pendingLanes,u|=h,o.lanes=u,Ti(s,u)}}var id={readContext:Lr,useCallback:Sn,useContext:Sn,useEffect:Sn,useImperativeHandle:Sn,useInsertionEffect:Sn,useLayoutEffect:Sn,useMemo:Sn,useReducer:Sn,useRef:Sn,useState:Sn,useDebugValue:Sn,useDeferredValue:Sn,useTransition:Sn,useMutableSource:Sn,useSyncExternalStore:Sn,useId:Sn,unstable_isNewReconciler:!1},OS={readContext:Lr,useCallback:function(s,o){return ks().memoizedState=[s,o===void 0?null:o],s},useContext:Lr,useEffect:Lv,useImperativeHandle:function(s,o,u){return u=u!=null?u.concat([s]):null,rd(4194308,4,jv.bind(null,o,s),u)},useLayoutEffect:function(s,o){return rd(4194308,4,s,o)},useInsertionEffect:function(s,o){return rd(4,2,s,o)},useMemo:function(s,o){var u=ks();return o=o===void 0?null:o,s=s(),u.memoizedState=[s,o],s},useReducer:function(s,o,u){var h=ks();return o=u!==void 0?u(o):o,h.memoizedState=h.baseState=o,s={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:s,lastRenderedState:o},h.queue=s,s=s.dispatch=PS.bind(null,Pt,s),[h.memoizedState,s]},useRef:function(s){var o=ks();return s={current:s},o.memoizedState=s},useState:Ov,useDebugValue:sp,useDeferredValue:function(s){return ks().memoizedState=s},useTransition:function(){var s=Ov(!1),o=s[0];return s=CS.bind(null,s[1]),ks().memoizedState=s,[o,s]},useMutableSource:function(){},useSyncExternalStore:function(s,o,u){var h=Pt,m=ks();if(kt){if(u===void 0)throw Error(n(407));u=u()}else{if(u=o(),ln===null)throw Error(n(349));(Ao&30)!==0||Av(h,o,u)}m.memoizedState=u;var y={value:u,getSnapshot:o};return m.queue=y,Lv(Cv.bind(null,h,y,s),[s]),h.flags|=2048,iu(9,Rv.bind(null,h,y,u,o),void 0,null),u},useId:function(){var s=ks(),o=ln.identifierPrefix;if(kt){var u=Js,h=Ys;u=(h&~(1<<32-zn(h)-1)).toString(32)+u,o=":"+o+"R"+u,u=ru++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=RS++,o=":"+o+"r"+u.toString(32)+":";return s.memoizedState=o},unstable_isNewReconciler:!1},DS={readContext:Lr,useCallback:Uv,useContext:Lr,useEffect:rp,useImperativeHandle:Fv,useInsertionEffect:Vv,useLayoutEffect:Mv,useMemo:zv,useReducer:tp,useRef:Dv,useState:function(){return tp(su)},useDebugValue:sp,useDeferredValue:function(s){var o=Vr();return $v(o,Xt.memoizedState,s)},useTransition:function(){var s=tp(su)[0],o=Vr().memoizedState;return[s,o]},useMutableSource:Sv,useSyncExternalStore:xv,useId:Bv,unstable_isNewReconciler:!1},LS={readContext:Lr,useCallback:Uv,useContext:Lr,useEffect:rp,useImperativeHandle:Fv,useInsertionEffect:Vv,useLayoutEffect:Mv,useMemo:zv,useReducer:np,useRef:Dv,useState:function(){return np(su)},useDebugValue:sp,useDeferredValue:function(s){var o=Vr();return Xt===null?o.memoizedState=s:$v(o,Xt.memoizedState,s)},useTransition:function(){var s=np(su)[0],o=Vr().memoizedState;return[s,o]},useMutableSource:Sv,useSyncExternalStore:xv,useId:Bv,unstable_isNewReconciler:!1};function ss(s,o){if(s&&s.defaultProps){o=pe({},o),s=s.defaultProps;for(var u in s)o[u]===void 0&&(o[u]=s[u]);return o}return o}function ip(s,o,u,h){o=s.memoizedState,u=u(h,o),u=u==null?o:pe({},o,u),s.memoizedState=u,s.lanes===0&&(s.updateQueue.baseState=u)}var od={isMounted:function(s){return(s=s._reactInternals)?Zr(s)===s:!1},enqueueSetState:function(s,o,u){s=s._reactInternals;var h=qn(),m=Mi(s),y=ei(h,m);y.payload=o,u!=null&&(y.callback=u),o=Oi(s,y,m),o!==null&&(as(o,s,m,h),Jc(o,s,m))},enqueueReplaceState:function(s,o,u){s=s._reactInternals;var h=qn(),m=Mi(s),y=ei(h,m);y.tag=1,y.payload=o,u!=null&&(y.callback=u),o=Oi(s,y,m),o!==null&&(as(o,s,m,h),Jc(o,s,m))},enqueueForceUpdate:function(s,o){s=s._reactInternals;var u=qn(),h=Mi(s),m=ei(u,h);m.tag=2,o!=null&&(m.callback=o),o=Oi(s,m,h),o!==null&&(as(o,s,h,u),Jc(o,s,h))}};function Kv(s,o,u,h,m,y,I){return s=s.stateNode,typeof s.shouldComponentUpdate=="function"?s.shouldComponentUpdate(h,y,I):o.prototype&&o.prototype.isPureReactComponent?!Hl(u,h)||!Hl(m,y):!0}function Gv(s,o,u){var h=!1,m=Ci,y=o.contextType;return typeof y=="object"&&y!==null?y=Lr(y):(m=or(o)?Io:kn.current,h=o.contextTypes,y=(h=h!=null)?Ca(s,m):Ci),o=new o(u,y),s.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=od,s.stateNode=o,o._reactInternals=s,h&&(s=s.stateNode,s.__reactInternalMemoizedUnmaskedChildContext=m,s.__reactInternalMemoizedMaskedChildContext=y),o}function Zv(s,o,u,h){s=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,h),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,h),o.state!==s&&od.enqueueReplaceState(o,o.state,null)}function op(s,o,u,h){var m=s.stateNode;m.props=u,m.state=s.memoizedState,m.refs={},Wf(s);var y=o.contextType;typeof y=="object"&&y!==null?m.context=Lr(y):(y=or(o)?Io:kn.current,m.context=Ca(s,y)),m.state=s.memoizedState,y=o.getDerivedStateFromProps,typeof y=="function"&&(ip(s,o,y,u),m.state=s.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof m.getSnapshotBeforeUpdate=="function"||typeof m.UNSAFE_componentWillMount!="function"&&typeof m.componentWillMount!="function"||(o=m.state,typeof m.componentWillMount=="function"&&m.componentWillMount(),typeof m.UNSAFE_componentWillMount=="function"&&m.UNSAFE_componentWillMount(),o!==m.state&&od.enqueueReplaceState(m,m.state,null),Xc(s,u,m,h),m.state=s.memoizedState),typeof m.componentDidMount=="function"&&(s.flags|=4194308)}function ja(s,o){try{var u="",h=o;do u+=Me(h),h=h.return;while(h);var m=u}catch(y){m=`
Error generating stack: `+y.message+`
`+y.stack}return{value:s,source:o,stack:m,digest:null}}function ap(s,o,u){return{value:s,source:null,stack:u??null,digest:o??null}}function lp(s,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var VS=typeof WeakMap=="function"?WeakMap:Map;function Qv(s,o,u){u=ei(-1,u),u.tag=3,u.payload={element:null};var h=o.value;return u.callback=function(){fd||(fd=!0,Ip=h),lp(s,o)},u}function Yv(s,o,u){u=ei(-1,u),u.tag=3;var h=s.type.getDerivedStateFromError;if(typeof h=="function"){var m=o.value;u.payload=function(){return h(m)},u.callback=function(){lp(s,o)}}var y=s.stateNode;return y!==null&&typeof y.componentDidCatch=="function"&&(u.callback=function(){lp(s,o),typeof h!="function"&&(Li===null?Li=new Set([this]):Li.add(this));var I=o.stack;this.componentDidCatch(o.value,{componentStack:I!==null?I:""})}),u}function Jv(s,o,u){var h=s.pingCache;if(h===null){h=s.pingCache=new VS;var m=new Set;h.set(o,m)}else m=h.get(o),m===void 0&&(m=new Set,h.set(o,m));m.has(u)||(m.add(u),s=QS.bind(null,s,o,u),o.then(s,s))}function Xv(s){do{var o;if((o=s.tag===13)&&(o=s.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return s;s=s.return}while(s!==null);return null}function e_(s,o,u,h,m){return(s.mode&1)===0?(s===o?s.flags|=65536:(s.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ei(-1,1),o.tag=2,Oi(u,o,1))),u.lanes|=1),s):(s.flags|=65536,s.lanes=m,s)}var MS=J.ReactCurrentOwner,ar=!1;function Bn(s,o,u,h){o.child=s===null?wv(o,null,u,h):Da(o,s.child,u,h)}function t_(s,o,u,h,m){u=u.render;var y=o.ref;return Va(o,m),h=Xf(s,o,u,h,y,m),u=ep(),s!==null&&!ar?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ti(s,o,m)):(kt&&u&&Vf(o),o.flags|=1,Bn(s,o,h,m),o.child)}function n_(s,o,u,h,m){if(s===null){var y=u.type;return typeof y=="function"&&!Cp(y)&&y.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=y,r_(s,o,y,h,m)):(s=_d(u.type,null,h,o,o.mode,m),s.ref=o.ref,s.return=o,o.child=s)}if(y=s.child,(s.lanes&m)===0){var I=y.memoizedProps;if(u=u.compare,u=u!==null?u:Hl,u(I,h)&&s.ref===o.ref)return ti(s,o,m)}return o.flags|=1,s=Fi(y,h),s.ref=o.ref,s.return=o,o.child=s}function r_(s,o,u,h,m){if(s!==null){var y=s.memoizedProps;if(Hl(y,h)&&s.ref===o.ref)if(ar=!1,o.pendingProps=h=y,(s.lanes&m)!==0)(s.flags&131072)!==0&&(ar=!0);else return o.lanes=s.lanes,ti(s,o,m)}return up(s,o,u,h,m)}function s_(s,o,u){var h=o.pendingProps,m=h.children,y=s!==null?s.memoizedState:null;if(h.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},yt(Ua,Ir),Ir|=u;else{if((u&1073741824)===0)return s=y!==null?y.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:s,cachePool:null,transitions:null},o.updateQueue=null,yt(Ua,Ir),Ir|=s,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},h=y!==null?y.baseLanes:u,yt(Ua,Ir),Ir|=h}else y!==null?(h=y.baseLanes|u,o.memoizedState=null):h=u,yt(Ua,Ir),Ir|=h;return Bn(s,o,m,u),o.child}function i_(s,o){var u=o.ref;(s===null&&u!==null||s!==null&&s.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function up(s,o,u,h,m){var y=or(u)?Io:kn.current;return y=Ca(o,y),Va(o,m),u=Xf(s,o,u,h,y,m),h=ep(),s!==null&&!ar?(o.updateQueue=s.updateQueue,o.flags&=-2053,s.lanes&=~m,ti(s,o,m)):(kt&&h&&Vf(o),o.flags|=1,Bn(s,o,u,m),o.child)}function o_(s,o,u,h,m){if(or(u)){var y=!0;qc(o)}else y=!1;if(Va(o,m),o.stateNode===null)ld(s,o),Gv(o,u,h),op(o,u,h,m),h=!0;else if(s===null){var I=o.stateNode,N=o.memoizedProps;I.props=N;var M=I.context,G=u.contextType;typeof G=="object"&&G!==null?G=Lr(G):(G=or(u)?Io:kn.current,G=Ca(o,G));var ae=u.getDerivedStateFromProps,de=typeof ae=="function"||typeof I.getSnapshotBeforeUpdate=="function";de||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(N!==h||M!==G)&&Zv(o,I,h,G),Ni=!1;var ie=o.memoizedState;I.state=ie,Xc(o,h,I,m),M=o.memoizedState,N!==h||ie!==M||ir.current||Ni?(typeof ae=="function"&&(ip(o,u,ae,h),M=o.memoizedState),(N=Ni||Kv(o,u,N,h,ie,M,G))?(de||typeof I.UNSAFE_componentWillMount!="function"&&typeof I.componentWillMount!="function"||(typeof I.componentWillMount=="function"&&I.componentWillMount(),typeof I.UNSAFE_componentWillMount=="function"&&I.UNSAFE_componentWillMount()),typeof I.componentDidMount=="function"&&(o.flags|=4194308)):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=h,o.memoizedState=M),I.props=h,I.state=M,I.context=G,h=N):(typeof I.componentDidMount=="function"&&(o.flags|=4194308),h=!1)}else{I=o.stateNode,Tv(s,o),N=o.memoizedProps,G=o.type===o.elementType?N:ss(o.type,N),I.props=G,de=o.pendingProps,ie=I.context,M=u.contextType,typeof M=="object"&&M!==null?M=Lr(M):(M=or(u)?Io:kn.current,M=Ca(o,M));var we=u.getDerivedStateFromProps;(ae=typeof we=="function"||typeof I.getSnapshotBeforeUpdate=="function")||typeof I.UNSAFE_componentWillReceiveProps!="function"&&typeof I.componentWillReceiveProps!="function"||(N!==de||ie!==M)&&Zv(o,I,h,M),Ni=!1,ie=o.memoizedState,I.state=ie,Xc(o,h,I,m);var be=o.memoizedState;N!==de||ie!==be||ir.current||Ni?(typeof we=="function"&&(ip(o,u,we,h),be=o.memoizedState),(G=Ni||Kv(o,u,G,h,ie,be,M)||!1)?(ae||typeof I.UNSAFE_componentWillUpdate!="function"&&typeof I.componentWillUpdate!="function"||(typeof I.componentWillUpdate=="function"&&I.componentWillUpdate(h,be,M),typeof I.UNSAFE_componentWillUpdate=="function"&&I.UNSAFE_componentWillUpdate(h,be,M)),typeof I.componentDidUpdate=="function"&&(o.flags|=4),typeof I.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof I.componentDidUpdate!="function"||N===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),o.memoizedProps=h,o.memoizedState=be),I.props=h,I.state=be,I.context=M,h=G):(typeof I.componentDidUpdate!="function"||N===s.memoizedProps&&ie===s.memoizedState||(o.flags|=4),typeof I.getSnapshotBeforeUpdate!="function"||N===s.memoizedProps&&ie===s.memoizedState||(o.flags|=1024),h=!1)}return cp(s,o,u,h,y,m)}function cp(s,o,u,h,m,y){i_(s,o);var I=(o.flags&128)!==0;if(!h&&!I)return m&&dv(o,u,!1),ti(s,o,y);h=o.stateNode,MS.current=o;var N=I&&typeof u.getDerivedStateFromError!="function"?null:h.render();return o.flags|=1,s!==null&&I?(o.child=Da(o,s.child,null,y),o.child=Da(o,null,N,y)):Bn(s,o,N,y),o.memoizedState=h.state,m&&dv(o,u,!0),o.child}function a_(s){var o=s.stateNode;o.pendingContext?uv(s,o.pendingContext,o.pendingContext!==o.context):o.context&&uv(s,o.context,!1),Kf(s,o.containerInfo)}function l_(s,o,u,h,m){return Oa(),Uf(m),o.flags|=256,Bn(s,o,u,h),o.child}var dp={dehydrated:null,treeContext:null,retryLane:0};function hp(s){return{baseLanes:s,cachePool:null,transitions:null}}function u_(s,o,u){var h=o.pendingProps,m=Ct.current,y=!1,I=(o.flags&128)!==0,N;if((N=I)||(N=s!==null&&s.memoizedState===null?!1:(m&2)!==0),N?(y=!0,o.flags&=-129):(s===null||s.memoizedState!==null)&&(m|=1),yt(Ct,m&1),s===null)return Ff(o),s=o.memoizedState,s!==null&&(s=s.dehydrated,s!==null)?((o.mode&1)===0?o.lanes=1:s.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(I=h.children,s=h.fallback,y?(h=o.mode,y=o.child,I={mode:"hidden",children:I},(h&1)===0&&y!==null?(y.childLanes=0,y.pendingProps=I):y=wd(I,h,0,null),s=Oo(s,h,u,null),y.return=o,s.return=o,y.sibling=s,o.child=y,o.child.memoizedState=hp(u),o.memoizedState=dp,s):fp(o,I));if(m=s.memoizedState,m!==null&&(N=m.dehydrated,N!==null))return jS(s,o,I,h,N,m,u);if(y){y=h.fallback,I=o.mode,m=s.child,N=m.sibling;var M={mode:"hidden",children:h.children};return(I&1)===0&&o.child!==m?(h=o.child,h.childLanes=0,h.pendingProps=M,o.deletions=null):(h=Fi(m,M),h.subtreeFlags=m.subtreeFlags&14680064),N!==null?y=Fi(N,y):(y=Oo(y,I,u,null),y.flags|=2),y.return=o,h.return=o,h.sibling=y,o.child=h,h=y,y=o.child,I=s.child.memoizedState,I=I===null?hp(u):{baseLanes:I.baseLanes|u,cachePool:null,transitions:I.transitions},y.memoizedState=I,y.childLanes=s.childLanes&~u,o.memoizedState=dp,h}return y=s.child,s=y.sibling,h=Fi(y,{mode:"visible",children:h.children}),(o.mode&1)===0&&(h.lanes=u),h.return=o,h.sibling=null,s!==null&&(u=o.deletions,u===null?(o.deletions=[s],o.flags|=16):u.push(s)),o.child=h,o.memoizedState=null,h}function fp(s,o){return o=wd({mode:"visible",children:o},s.mode,0,null),o.return=s,s.child=o}function ad(s,o,u,h){return h!==null&&Uf(h),Da(o,s.child,null,u),s=fp(o,o.pendingProps.children),s.flags|=2,o.memoizedState=null,s}function jS(s,o,u,h,m,y,I){if(u)return o.flags&256?(o.flags&=-257,h=ap(Error(n(422))),ad(s,o,I,h)):o.memoizedState!==null?(o.child=s.child,o.flags|=128,null):(y=h.fallback,m=o.mode,h=wd({mode:"visible",children:h.children},m,0,null),y=Oo(y,m,I,null),y.flags|=2,h.return=o,y.return=o,h.sibling=y,o.child=h,(o.mode&1)!==0&&Da(o,s.child,null,I),o.child.memoizedState=hp(I),o.memoizedState=dp,y);if((o.mode&1)===0)return ad(s,o,I,null);if(m.data==="$!"){if(h=m.nextSibling&&m.nextSibling.dataset,h)var N=h.dgst;return h=N,y=Error(n(419)),h=ap(y,h,void 0),ad(s,o,I,h)}if(N=(I&s.childLanes)!==0,ar||N){if(h=ln,h!==null){switch(I&-I){case 4:m=2;break;case 16:m=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:m=32;break;case 536870912:m=268435456;break;default:m=0}m=(m&(h.suspendedLanes|I))!==0?0:m,m!==0&&m!==y.retryLane&&(y.retryLane=m,Xs(s,m),as(h,s,m,-1))}return Rp(),h=ap(Error(n(421))),ad(s,o,I,h)}return m.data==="$?"?(o.flags|=128,o.child=s.child,o=YS.bind(null,s),m._reactRetry=o,null):(s=y.treeContext,Tr=Ai(m.nextSibling),Er=o,kt=!0,rs=null,s!==null&&(Or[Dr++]=Ys,Or[Dr++]=Js,Or[Dr++]=bo,Ys=s.id,Js=s.overflow,bo=o),o=fp(o,h.children),o.flags|=4096,o)}function c_(s,o,u){s.lanes|=o;var h=s.alternate;h!==null&&(h.lanes|=o),qf(s.return,o,u)}function pp(s,o,u,h,m){var y=s.memoizedState;y===null?s.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:h,tail:u,tailMode:m}:(y.isBackwards=o,y.rendering=null,y.renderingStartTime=0,y.last=h,y.tail=u,y.tailMode=m)}function d_(s,o,u){var h=o.pendingProps,m=h.revealOrder,y=h.tail;if(Bn(s,o,h.children,u),h=Ct.current,(h&2)!==0)h=h&1|2,o.flags|=128;else{if(s!==null&&(s.flags&128)!==0)e:for(s=o.child;s!==null;){if(s.tag===13)s.memoizedState!==null&&c_(s,u,o);else if(s.tag===19)c_(s,u,o);else if(s.child!==null){s.child.return=s,s=s.child;continue}if(s===o)break e;for(;s.sibling===null;){if(s.return===null||s.return===o)break e;s=s.return}s.sibling.return=s.return,s=s.sibling}h&=1}if(yt(Ct,h),(o.mode&1)===0)o.memoizedState=null;else switch(m){case"forwards":for(u=o.child,m=null;u!==null;)s=u.alternate,s!==null&&ed(s)===null&&(m=u),u=u.sibling;u=m,u===null?(m=o.child,o.child=null):(m=u.sibling,u.sibling=null),pp(o,!1,m,u,y);break;case"backwards":for(u=null,m=o.child,o.child=null;m!==null;){if(s=m.alternate,s!==null&&ed(s)===null){o.child=m;break}s=m.sibling,m.sibling=u,u=m,m=s}pp(o,!0,u,null,y);break;case"together":pp(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function ld(s,o){(o.mode&1)===0&&s!==null&&(s.alternate=null,o.alternate=null,o.flags|=2)}function ti(s,o,u){if(s!==null&&(o.dependencies=s.dependencies),Ro|=o.lanes,(u&o.childLanes)===0)return null;if(s!==null&&o.child!==s.child)throw Error(n(153));if(o.child!==null){for(s=o.child,u=Fi(s,s.pendingProps),o.child=u,u.return=o;s.sibling!==null;)s=s.sibling,u=u.sibling=Fi(s,s.pendingProps),u.return=o;u.sibling=null}return o.child}function FS(s,o,u){switch(o.tag){case 3:a_(o),Oa();break;case 5:kv(o);break;case 1:or(o.type)&&qc(o);break;case 4:Kf(o,o.stateNode.containerInfo);break;case 10:var h=o.type._context,m=o.memoizedProps.value;yt(Qc,h._currentValue),h._currentValue=m;break;case 13:if(h=o.memoizedState,h!==null)return h.dehydrated!==null?(yt(Ct,Ct.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?u_(s,o,u):(yt(Ct,Ct.current&1),s=ti(s,o,u),s!==null?s.sibling:null);yt(Ct,Ct.current&1);break;case 19:if(h=(u&o.childLanes)!==0,(s.flags&128)!==0){if(h)return d_(s,o,u);o.flags|=128}if(m=o.memoizedState,m!==null&&(m.rendering=null,m.tail=null,m.lastEffect=null),yt(Ct,Ct.current),h)break;return null;case 22:case 23:return o.lanes=0,s_(s,o,u)}return ti(s,o,u)}var h_,mp,f_,p_;h_=function(s,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)s.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},mp=function(){},f_=function(s,o,u,h){var m=s.memoizedProps;if(m!==h){s=o.stateNode,xo(bs.current);var y=null;switch(u){case"input":m=Qn(s,m),h=Qn(s,h),y=[];break;case"select":m=pe({},m,{value:void 0}),h=pe({},h,{value:void 0}),y=[];break;case"textarea":m=O(s,m),h=O(s,h),y=[];break;default:typeof m.onClick!="function"&&typeof h.onClick=="function"&&(s.onclick=zc)}Kr(u,h);var I;u=null;for(G in m)if(!h.hasOwnProperty(G)&&m.hasOwnProperty(G)&&m[G]!=null)if(G==="style"){var N=m[G];for(I in N)N.hasOwnProperty(I)&&(u||(u={}),u[I]="")}else G!=="dangerouslySetInnerHTML"&&G!=="children"&&G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&G!=="autoFocus"&&(i.hasOwnProperty(G)?y||(y=[]):(y=y||[]).push(G,null));for(G in h){var M=h[G];if(N=m!=null?m[G]:void 0,h.hasOwnProperty(G)&&M!==N&&(M!=null||N!=null))if(G==="style")if(N){for(I in N)!N.hasOwnProperty(I)||M&&M.hasOwnProperty(I)||(u||(u={}),u[I]="");for(I in M)M.hasOwnProperty(I)&&N[I]!==M[I]&&(u||(u={}),u[I]=M[I])}else u||(y||(y=[]),y.push(G,u)),u=M;else G==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,N=N?N.__html:void 0,M!=null&&N!==M&&(y=y||[]).push(G,M)):G==="children"?typeof M!="string"&&typeof M!="number"||(y=y||[]).push(G,""+M):G!=="suppressContentEditableWarning"&&G!=="suppressHydrationWarning"&&(i.hasOwnProperty(G)?(M!=null&&G==="onScroll"&&_t("scroll",s),y||N===M||(y=[])):(y=y||[]).push(G,M))}u&&(y=y||[]).push("style",u);var G=y;(o.updateQueue=G)&&(o.flags|=4)}},p_=function(s,o,u,h){u!==h&&(o.flags|=4)};function ou(s,o){if(!kt)switch(s.tailMode){case"hidden":o=s.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?s.tail=null:u.sibling=null;break;case"collapsed":u=s.tail;for(var h=null;u!==null;)u.alternate!==null&&(h=u),u=u.sibling;h===null?o||s.tail===null?s.tail=null:s.tail.sibling=null:h.sibling=null}}function xn(s){var o=s.alternate!==null&&s.alternate.child===s.child,u=0,h=0;if(o)for(var m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags&14680064,h|=m.flags&14680064,m.return=s,m=m.sibling;else for(m=s.child;m!==null;)u|=m.lanes|m.childLanes,h|=m.subtreeFlags,h|=m.flags,m.return=s,m=m.sibling;return s.subtreeFlags|=h,s.childLanes=u,o}function US(s,o,u){var h=o.pendingProps;switch(Mf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return xn(o),null;case 1:return or(o.type)&&Bc(),xn(o),null;case 3:return h=o.stateNode,Ma(),wt(ir),wt(kn),Qf(),h.pendingContext&&(h.context=h.pendingContext,h.pendingContext=null),(s===null||s.child===null)&&(Gc(o)?o.flags|=4:s===null||s.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,rs!==null&&(Sp(rs),rs=null))),mp(s,o),xn(o),null;case 5:Gf(o);var m=xo(tu.current);if(u=o.type,s!==null&&o.stateNode!=null)f_(s,o,u,h,m),s.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!h){if(o.stateNode===null)throw Error(n(166));return xn(o),null}if(s=xo(bs.current),Gc(o)){h=o.stateNode,u=o.type;var y=o.memoizedProps;switch(h[Is]=o,h[Ql]=y,s=(o.mode&1)!==0,u){case"dialog":_t("cancel",h),_t("close",h);break;case"iframe":case"object":case"embed":_t("load",h);break;case"video":case"audio":for(m=0;m<Kl.length;m++)_t(Kl[m],h);break;case"source":_t("error",h);break;case"img":case"image":case"link":_t("error",h),_t("load",h);break;case"details":_t("toggle",h);break;case"input":ps(h,y),_t("invalid",h);break;case"select":h._wrapperState={wasMultiple:!!y.multiple},_t("invalid",h);break;case"textarea":H(h,y),_t("invalid",h)}Kr(u,y),m=null;for(var I in y)if(y.hasOwnProperty(I)){var N=y[I];I==="children"?typeof N=="string"?h.textContent!==N&&(y.suppressHydrationWarning!==!0&&Uc(h.textContent,N,s),m=["children",N]):typeof N=="number"&&h.textContent!==""+N&&(y.suppressHydrationWarning!==!0&&Uc(h.textContent,N,s),m=["children",""+N]):i.hasOwnProperty(I)&&N!=null&&I==="onScroll"&&_t("scroll",h)}switch(u){case"input":Zt(h),$s(h,y,!0);break;case"textarea":Zt(h),ge(h);break;case"select":case"option":break;default:typeof y.onClick=="function"&&(h.onclick=zc)}h=m,o.updateQueue=h,h!==null&&(o.flags|=4)}else{I=m.nodeType===9?m:m.ownerDocument,s==="http://www.w3.org/1999/xhtml"&&(s=oe(u)),s==="http://www.w3.org/1999/xhtml"?u==="script"?(s=I.createElement("div"),s.innerHTML="<script><\/script>",s=s.removeChild(s.firstChild)):typeof h.is=="string"?s=I.createElement(u,{is:h.is}):(s=I.createElement(u),u==="select"&&(I=s,h.multiple?I.multiple=!0:h.size&&(I.size=h.size))):s=I.createElementNS(s,u),s[Is]=o,s[Ql]=h,h_(s,o,!1,!1),o.stateNode=s;e:{switch(I=Bs(u,h),u){case"dialog":_t("cancel",s),_t("close",s),m=h;break;case"iframe":case"object":case"embed":_t("load",s),m=h;break;case"video":case"audio":for(m=0;m<Kl.length;m++)_t(Kl[m],s);m=h;break;case"source":_t("error",s),m=h;break;case"img":case"image":case"link":_t("error",s),_t("load",s),m=h;break;case"details":_t("toggle",s),m=h;break;case"input":ps(s,h),m=Qn(s,h),_t("invalid",s);break;case"option":m=h;break;case"select":s._wrapperState={wasMultiple:!!h.multiple},m=pe({},h,{value:void 0}),_t("invalid",s);break;case"textarea":H(s,h),m=O(s,h),_t("invalid",s);break;default:m=h}Kr(u,m),N=m;for(y in N)if(N.hasOwnProperty(y)){var M=N[y];y==="style"?Wr(s,M):y==="dangerouslySetInnerHTML"?(M=M?M.__html:void 0,M!=null&&Ge(s,M)):y==="children"?typeof M=="string"?(u!=="textarea"||M!=="")&&et(s,M):typeof M=="number"&&et(s,""+M):y!=="suppressContentEditableWarning"&&y!=="suppressHydrationWarning"&&y!=="autoFocus"&&(i.hasOwnProperty(y)?M!=null&&y==="onScroll"&&_t("scroll",s):M!=null&&ee(s,y,M,I))}switch(u){case"input":Zt(s),$s(s,h,!1);break;case"textarea":Zt(s),ge(s);break;case"option":h.value!=null&&s.setAttribute("value",""+Ke(h.value));break;case"select":s.multiple=!!h.multiple,y=h.value,y!=null?Jn(s,!!h.multiple,y,!1):h.defaultValue!=null&&Jn(s,!!h.multiple,h.defaultValue,!0);break;default:typeof m.onClick=="function"&&(s.onclick=zc)}switch(u){case"button":case"input":case"select":case"textarea":h=!!h.autoFocus;break e;case"img":h=!0;break e;default:h=!1}}h&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return xn(o),null;case 6:if(s&&o.stateNode!=null)p_(s,o,s.memoizedProps,h);else{if(typeof h!="string"&&o.stateNode===null)throw Error(n(166));if(u=xo(tu.current),xo(bs.current),Gc(o)){if(h=o.stateNode,u=o.memoizedProps,h[Is]=o,(y=h.nodeValue!==u)&&(s=Er,s!==null))switch(s.tag){case 3:Uc(h.nodeValue,u,(s.mode&1)!==0);break;case 5:s.memoizedProps.suppressHydrationWarning!==!0&&Uc(h.nodeValue,u,(s.mode&1)!==0)}y&&(o.flags|=4)}else h=(u.nodeType===9?u:u.ownerDocument).createTextNode(h),h[Is]=o,o.stateNode=h}return xn(o),null;case 13:if(wt(Ct),h=o.memoizedState,s===null||s.memoizedState!==null&&s.memoizedState.dehydrated!==null){if(kt&&Tr!==null&&(o.mode&1)!==0&&(o.flags&128)===0)yv(),Oa(),o.flags|=98560,y=!1;else if(y=Gc(o),h!==null&&h.dehydrated!==null){if(s===null){if(!y)throw Error(n(318));if(y=o.memoizedState,y=y!==null?y.dehydrated:null,!y)throw Error(n(317));y[Is]=o}else Oa(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;xn(o),y=!1}else rs!==null&&(Sp(rs),rs=null),y=!0;if(!y)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(h=h!==null,h!==(s!==null&&s.memoizedState!==null)&&h&&(o.child.flags|=8192,(o.mode&1)!==0&&(s===null||(Ct.current&1)!==0?en===0&&(en=3):Rp())),o.updateQueue!==null&&(o.flags|=4),xn(o),null);case 4:return Ma(),mp(s,o),s===null&&Gl(o.stateNode.containerInfo),xn(o),null;case 10:return Bf(o.type._context),xn(o),null;case 17:return or(o.type)&&Bc(),xn(o),null;case 19:if(wt(Ct),y=o.memoizedState,y===null)return xn(o),null;if(h=(o.flags&128)!==0,I=y.rendering,I===null)if(h)ou(y,!1);else{if(en!==0||s!==null&&(s.flags&128)!==0)for(s=o.child;s!==null;){if(I=ed(s),I!==null){for(o.flags|=128,ou(y,!1),h=I.updateQueue,h!==null&&(o.updateQueue=h,o.flags|=4),o.subtreeFlags=0,h=u,u=o.child;u!==null;)y=u,s=h,y.flags&=14680066,I=y.alternate,I===null?(y.childLanes=0,y.lanes=s,y.child=null,y.subtreeFlags=0,y.memoizedProps=null,y.memoizedState=null,y.updateQueue=null,y.dependencies=null,y.stateNode=null):(y.childLanes=I.childLanes,y.lanes=I.lanes,y.child=I.child,y.subtreeFlags=0,y.deletions=null,y.memoizedProps=I.memoizedProps,y.memoizedState=I.memoizedState,y.updateQueue=I.updateQueue,y.type=I.type,s=I.dependencies,y.dependencies=s===null?null:{lanes:s.lanes,firstContext:s.firstContext}),u=u.sibling;return yt(Ct,Ct.current&1|2),o.child}s=s.sibling}y.tail!==null&&gt()>za&&(o.flags|=128,h=!0,ou(y,!1),o.lanes=4194304)}else{if(!h)if(s=ed(I),s!==null){if(o.flags|=128,h=!0,u=s.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),ou(y,!0),y.tail===null&&y.tailMode==="hidden"&&!I.alternate&&!kt)return xn(o),null}else 2*gt()-y.renderingStartTime>za&&u!==1073741824&&(o.flags|=128,h=!0,ou(y,!1),o.lanes=4194304);y.isBackwards?(I.sibling=o.child,o.child=I):(u=y.last,u!==null?u.sibling=I:o.child=I,y.last=I)}return y.tail!==null?(o=y.tail,y.rendering=o,y.tail=o.sibling,y.renderingStartTime=gt(),o.sibling=null,u=Ct.current,yt(Ct,h?u&1|2:u&1),o):(xn(o),null);case 22:case 23:return Ap(),h=o.memoizedState!==null,s!==null&&s.memoizedState!==null!==h&&(o.flags|=8192),h&&(o.mode&1)!==0?(Ir&1073741824)!==0&&(xn(o),o.subtreeFlags&6&&(o.flags|=8192)):xn(o),null;case 24:return null;case 25:return null}throw Error(n(156,o.tag))}function zS(s,o){switch(Mf(o),o.tag){case 1:return or(o.type)&&Bc(),s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 3:return Ma(),wt(ir),wt(kn),Qf(),s=o.flags,(s&65536)!==0&&(s&128)===0?(o.flags=s&-65537|128,o):null;case 5:return Gf(o),null;case 13:if(wt(Ct),s=o.memoizedState,s!==null&&s.dehydrated!==null){if(o.alternate===null)throw Error(n(340));Oa()}return s=o.flags,s&65536?(o.flags=s&-65537|128,o):null;case 19:return wt(Ct),null;case 4:return Ma(),null;case 10:return Bf(o.type._context),null;case 22:case 23:return Ap(),null;case 24:return null;default:return null}}var ud=!1,An=!1,$S=typeof WeakSet=="function"?WeakSet:Set,Ie=null;function Fa(s,o){var u=s.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(h){Lt(s,o,h)}else u.current=null}function gp(s,o,u){try{u()}catch(h){Lt(s,o,h)}}var m_=!1;function BS(s,o){if(Af=ki,s=Ky(),wf(s)){if("selectionStart"in s)var u={start:s.selectionStart,end:s.selectionEnd};else e:{u=(u=s.ownerDocument)&&u.defaultView||window;var h=u.getSelection&&u.getSelection();if(h&&h.rangeCount!==0){u=h.anchorNode;var m=h.anchorOffset,y=h.focusNode;h=h.focusOffset;try{u.nodeType,y.nodeType}catch{u=null;break e}var I=0,N=-1,M=-1,G=0,ae=0,de=s,ie=null;t:for(;;){for(var we;de!==u||m!==0&&de.nodeType!==3||(N=I+m),de!==y||h!==0&&de.nodeType!==3||(M=I+h),de.nodeType===3&&(I+=de.nodeValue.length),(we=de.firstChild)!==null;)ie=de,de=we;for(;;){if(de===s)break t;if(ie===u&&++G===m&&(N=I),ie===y&&++ae===h&&(M=I),(we=de.nextSibling)!==null)break;de=ie,ie=de.parentNode}de=we}u=N===-1||M===-1?null:{start:N,end:M}}else u=null}u=u||{start:0,end:0}}else u=null;for(Rf={focusedElem:s,selectionRange:u},ki=!1,Ie=o;Ie!==null;)if(o=Ie,s=o.child,(o.subtreeFlags&1028)!==0&&s!==null)s.return=o,Ie=s;else for(;Ie!==null;){o=Ie;try{var be=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(be!==null){var Re=be.memoizedProps,jt=be.memoizedState,q=o.stateNode,z=q.getSnapshotBeforeUpdate(o.elementType===o.type?Re:ss(o.type,Re),jt);q.__reactInternalSnapshotBeforeUpdate=z}break;case 3:var W=o.stateNode.containerInfo;W.nodeType===1?W.textContent="":W.nodeType===9&&W.documentElement&&W.removeChild(W.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(he){Lt(o,o.return,he)}if(s=o.sibling,s!==null){s.return=o.return,Ie=s;break}Ie=o.return}return be=m_,m_=!1,be}function au(s,o,u){var h=o.updateQueue;if(h=h!==null?h.lastEffect:null,h!==null){var m=h=h.next;do{if((m.tag&s)===s){var y=m.destroy;m.destroy=void 0,y!==void 0&&gp(o,u,y)}m=m.next}while(m!==h)}}function cd(s,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&s)===s){var h=u.create;u.destroy=h()}u=u.next}while(u!==o)}}function yp(s){var o=s.ref;if(o!==null){var u=s.stateNode;switch(s.tag){case 5:s=u;break;default:s=u}typeof o=="function"?o(s):o.current=s}}function g_(s){var o=s.alternate;o!==null&&(s.alternate=null,g_(o)),s.child=null,s.deletions=null,s.sibling=null,s.tag===5&&(o=s.stateNode,o!==null&&(delete o[Is],delete o[Ql],delete o[Of],delete o[kS],delete o[SS])),s.stateNode=null,s.return=null,s.dependencies=null,s.memoizedProps=null,s.memoizedState=null,s.pendingProps=null,s.stateNode=null,s.updateQueue=null}function y_(s){return s.tag===5||s.tag===3||s.tag===4}function v_(s){e:for(;;){for(;s.sibling===null;){if(s.return===null||y_(s.return))return null;s=s.return}for(s.sibling.return=s.return,s=s.sibling;s.tag!==5&&s.tag!==6&&s.tag!==18;){if(s.flags&2||s.child===null||s.tag===4)continue e;s.child.return=s,s=s.child}if(!(s.flags&2))return s.stateNode}}function vp(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(s,o):u.insertBefore(s,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(s,u)):(o=u,o.appendChild(s)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=zc));else if(h!==4&&(s=s.child,s!==null))for(vp(s,o,u),s=s.sibling;s!==null;)vp(s,o,u),s=s.sibling}function _p(s,o,u){var h=s.tag;if(h===5||h===6)s=s.stateNode,o?u.insertBefore(s,o):u.appendChild(s);else if(h!==4&&(s=s.child,s!==null))for(_p(s,o,u),s=s.sibling;s!==null;)_p(s,o,u),s=s.sibling}var mn=null,is=!1;function Di(s,o,u){for(u=u.child;u!==null;)__(s,o,u),u=u.sibling}function __(s,o,u){if(yr&&typeof yr.onCommitFiberUnmount=="function")try{yr.onCommitFiberUnmount(mo,u)}catch{}switch(u.tag){case 5:An||Fa(u,o);case 6:var h=mn,m=is;mn=null,Di(s,o,u),mn=h,is=m,mn!==null&&(is?(s=mn,u=u.stateNode,s.nodeType===8?s.parentNode.removeChild(u):s.removeChild(u)):mn.removeChild(u.stateNode));break;case 18:mn!==null&&(is?(s=mn,u=u.stateNode,s.nodeType===8?Nf(s.parentNode,u):s.nodeType===1&&Nf(s,u),es(s)):Nf(mn,u.stateNode));break;case 4:h=mn,m=is,mn=u.stateNode.containerInfo,is=!0,Di(s,o,u),mn=h,is=m;break;case 0:case 11:case 14:case 15:if(!An&&(h=u.updateQueue,h!==null&&(h=h.lastEffect,h!==null))){m=h=h.next;do{var y=m,I=y.destroy;y=y.tag,I!==void 0&&((y&2)!==0||(y&4)!==0)&&gp(u,o,I),m=m.next}while(m!==h)}Di(s,o,u);break;case 1:if(!An&&(Fa(u,o),h=u.stateNode,typeof h.componentWillUnmount=="function"))try{h.props=u.memoizedProps,h.state=u.memoizedState,h.componentWillUnmount()}catch(N){Lt(u,o,N)}Di(s,o,u);break;case 21:Di(s,o,u);break;case 22:u.mode&1?(An=(h=An)||u.memoizedState!==null,Di(s,o,u),An=h):Di(s,o,u);break;default:Di(s,o,u)}}function w_(s){var o=s.updateQueue;if(o!==null){s.updateQueue=null;var u=s.stateNode;u===null&&(u=s.stateNode=new $S),o.forEach(function(h){var m=JS.bind(null,s,h);u.has(h)||(u.add(h),h.then(m,m))})}}function os(s,o){var u=o.deletions;if(u!==null)for(var h=0;h<u.length;h++){var m=u[h];try{var y=s,I=o,N=I;e:for(;N!==null;){switch(N.tag){case 5:mn=N.stateNode,is=!1;break e;case 3:mn=N.stateNode.containerInfo,is=!0;break e;case 4:mn=N.stateNode.containerInfo,is=!0;break e}N=N.return}if(mn===null)throw Error(n(160));__(y,I,m),mn=null,is=!1;var M=m.alternate;M!==null&&(M.return=null),m.return=null}catch(G){Lt(m,o,G)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)E_(o,s),o=o.sibling}function E_(s,o){var u=s.alternate,h=s.flags;switch(s.tag){case 0:case 11:case 14:case 15:if(os(o,s),Ss(s),h&4){try{au(3,s,s.return),cd(3,s)}catch(Re){Lt(s,s.return,Re)}try{au(5,s,s.return)}catch(Re){Lt(s,s.return,Re)}}break;case 1:os(o,s),Ss(s),h&512&&u!==null&&Fa(u,u.return);break;case 5:if(os(o,s),Ss(s),h&512&&u!==null&&Fa(u,u.return),s.flags&32){var m=s.stateNode;try{et(m,"")}catch(Re){Lt(s,s.return,Re)}}if(h&4&&(m=s.stateNode,m!=null)){var y=s.memoizedProps,I=u!==null?u.memoizedProps:y,N=s.type,M=s.updateQueue;if(s.updateQueue=null,M!==null)try{N==="input"&&y.type==="radio"&&y.name!=null&&qr(m,y),Bs(N,I);var G=Bs(N,y);for(I=0;I<M.length;I+=2){var ae=M[I],de=M[I+1];ae==="style"?Wr(m,de):ae==="dangerouslySetInnerHTML"?Ge(m,de):ae==="children"?et(m,de):ee(m,ae,de,G)}switch(N){case"input":Yn(m,y);break;case"textarea":X(m,y);break;case"select":var ie=m._wrapperState.wasMultiple;m._wrapperState.wasMultiple=!!y.multiple;var we=y.value;we!=null?Jn(m,!!y.multiple,we,!1):ie!==!!y.multiple&&(y.defaultValue!=null?Jn(m,!!y.multiple,y.defaultValue,!0):Jn(m,!!y.multiple,y.multiple?[]:"",!1))}m[Ql]=y}catch(Re){Lt(s,s.return,Re)}}break;case 6:if(os(o,s),Ss(s),h&4){if(s.stateNode===null)throw Error(n(162));m=s.stateNode,y=s.memoizedProps;try{m.nodeValue=y}catch(Re){Lt(s,s.return,Re)}}break;case 3:if(os(o,s),Ss(s),h&4&&u!==null&&u.memoizedState.isDehydrated)try{es(o.containerInfo)}catch(Re){Lt(s,s.return,Re)}break;case 4:os(o,s),Ss(s);break;case 13:os(o,s),Ss(s),m=s.child,m.flags&8192&&(y=m.memoizedState!==null,m.stateNode.isHidden=y,!y||m.alternate!==null&&m.alternate.memoizedState!==null||(Tp=gt())),h&4&&w_(s);break;case 22:if(ae=u!==null&&u.memoizedState!==null,s.mode&1?(An=(G=An)||ae,os(o,s),An=G):os(o,s),Ss(s),h&8192){if(G=s.memoizedState!==null,(s.stateNode.isHidden=G)&&!ae&&(s.mode&1)!==0)for(Ie=s,ae=s.child;ae!==null;){for(de=Ie=ae;Ie!==null;){switch(ie=Ie,we=ie.child,ie.tag){case 0:case 11:case 14:case 15:au(4,ie,ie.return);break;case 1:Fa(ie,ie.return);var be=ie.stateNode;if(typeof be.componentWillUnmount=="function"){h=ie,u=ie.return;try{o=h,be.props=o.memoizedProps,be.state=o.memoizedState,be.componentWillUnmount()}catch(Re){Lt(h,u,Re)}}break;case 5:Fa(ie,ie.return);break;case 22:if(ie.memoizedState!==null){b_(de);continue}}we!==null?(we.return=ie,Ie=we):b_(de)}ae=ae.sibling}e:for(ae=null,de=s;;){if(de.tag===5){if(ae===null){ae=de;try{m=de.stateNode,G?(y=m.style,typeof y.setProperty=="function"?y.setProperty("display","none","important"):y.display="none"):(N=de.stateNode,M=de.memoizedProps.style,I=M!=null&&M.hasOwnProperty("display")?M.display:null,N.style.display=Hr("display",I))}catch(Re){Lt(s,s.return,Re)}}}else if(de.tag===6){if(ae===null)try{de.stateNode.nodeValue=G?"":de.memoizedProps}catch(Re){Lt(s,s.return,Re)}}else if((de.tag!==22&&de.tag!==23||de.memoizedState===null||de===s)&&de.child!==null){de.child.return=de,de=de.child;continue}if(de===s)break e;for(;de.sibling===null;){if(de.return===null||de.return===s)break e;ae===de&&(ae=null),de=de.return}ae===de&&(ae=null),de.sibling.return=de.return,de=de.sibling}}break;case 19:os(o,s),Ss(s),h&4&&w_(s);break;case 21:break;default:os(o,s),Ss(s)}}function Ss(s){var o=s.flags;if(o&2){try{e:{for(var u=s.return;u!==null;){if(y_(u)){var h=u;break e}u=u.return}throw Error(n(160))}switch(h.tag){case 5:var m=h.stateNode;h.flags&32&&(et(m,""),h.flags&=-33);var y=v_(s);_p(s,y,m);break;case 3:case 4:var I=h.stateNode.containerInfo,N=v_(s);vp(s,N,I);break;default:throw Error(n(161))}}catch(M){Lt(s,s.return,M)}s.flags&=-3}o&4096&&(s.flags&=-4097)}function qS(s,o,u){Ie=s,T_(s)}function T_(s,o,u){for(var h=(s.mode&1)!==0;Ie!==null;){var m=Ie,y=m.child;if(m.tag===22&&h){var I=m.memoizedState!==null||ud;if(!I){var N=m.alternate,M=N!==null&&N.memoizedState!==null||An;N=ud;var G=An;if(ud=I,(An=M)&&!G)for(Ie=m;Ie!==null;)I=Ie,M=I.child,I.tag===22&&I.memoizedState!==null?k_(m):M!==null?(M.return=I,Ie=M):k_(m);for(;y!==null;)Ie=y,T_(y),y=y.sibling;Ie=m,ud=N,An=G}I_(s)}else(m.subtreeFlags&8772)!==0&&y!==null?(y.return=m,Ie=y):I_(s)}}function I_(s){for(;Ie!==null;){var o=Ie;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:An||cd(5,o);break;case 1:var h=o.stateNode;if(o.flags&4&&!An)if(u===null)h.componentDidMount();else{var m=o.elementType===o.type?u.memoizedProps:ss(o.type,u.memoizedProps);h.componentDidUpdate(m,u.memoizedState,h.__reactInternalSnapshotBeforeUpdate)}var y=o.updateQueue;y!==null&&bv(o,y,h);break;case 3:var I=o.updateQueue;if(I!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}bv(o,I,u)}break;case 5:var N=o.stateNode;if(u===null&&o.flags&4){u=N;var M=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":M.autoFocus&&u.focus();break;case"img":M.src&&(u.src=M.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var G=o.alternate;if(G!==null){var ae=G.memoizedState;if(ae!==null){var de=ae.dehydrated;de!==null&&es(de)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}An||o.flags&512&&yp(o)}catch(ie){Lt(o,o.return,ie)}}if(o===s){Ie=null;break}if(u=o.sibling,u!==null){u.return=o.return,Ie=u;break}Ie=o.return}}function b_(s){for(;Ie!==null;){var o=Ie;if(o===s){Ie=null;break}var u=o.sibling;if(u!==null){u.return=o.return,Ie=u;break}Ie=o.return}}function k_(s){for(;Ie!==null;){var o=Ie;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{cd(4,o)}catch(M){Lt(o,u,M)}break;case 1:var h=o.stateNode;if(typeof h.componentDidMount=="function"){var m=o.return;try{h.componentDidMount()}catch(M){Lt(o,m,M)}}var y=o.return;try{yp(o)}catch(M){Lt(o,y,M)}break;case 5:var I=o.return;try{yp(o)}catch(M){Lt(o,I,M)}}}catch(M){Lt(o,o.return,M)}if(o===s){Ie=null;break}var N=o.sibling;if(N!==null){N.return=o.return,Ie=N;break}Ie=o.return}}var HS=Math.ceil,dd=J.ReactCurrentDispatcher,wp=J.ReactCurrentOwner,Mr=J.ReactCurrentBatchConfig,at=0,ln=null,Bt=null,gn=0,Ir=0,Ua=Ri(0),en=0,lu=null,Ro=0,hd=0,Ep=0,uu=null,lr=null,Tp=0,za=1/0,ni=null,fd=!1,Ip=null,Li=null,pd=!1,Vi=null,md=0,cu=0,bp=null,gd=-1,yd=0;function qn(){return(at&6)!==0?gt():gd!==-1?gd:gd=gt()}function Mi(s){return(s.mode&1)===0?1:(at&2)!==0&&gn!==0?gn&-gn:AS.transition!==null?(yd===0&&(yd=yo()),yd):(s=nt,s!==0||(s=window.event,s=s===void 0?16:jl(s.type)),s)}function as(s,o,u,h){if(50<cu)throw cu=0,bp=null,Error(n(185));Ei(s,u,h),((at&2)===0||s!==ln)&&(s===ln&&((at&2)===0&&(hd|=u),en===4&&ji(s,gn)),ur(s,h),u===1&&at===0&&(o.mode&1)===0&&(za=gt()+500,Hc&&Pi()))}function ur(s,o){var u=s.callbackNode;Hs(s,o);var h=go(s,s===ln?gn:0);if(h===0)u!==null&&Ol(u),s.callbackNode=null,s.callbackPriority=0;else if(o=h&-h,s.callbackPriority!==o){if(u!=null&&Ol(u),o===1)s.tag===0?xS(x_.bind(null,s)):hv(x_.bind(null,s)),IS(function(){(at&6)===0&&Pi()}),u=null;else{switch(Ii(h)){case 1:u=po;break;case 4:u=vi;break;case 16:u=Cr;break;case 536870912:u=yc;break;default:u=Cr}u=L_(u,S_.bind(null,s))}s.callbackPriority=o,s.callbackNode=u}}function S_(s,o){if(gd=-1,yd=0,(at&6)!==0)throw Error(n(327));var u=s.callbackNode;if($a()&&s.callbackNode!==u)return null;var h=go(s,s===ln?gn:0);if(h===0)return null;if((h&30)!==0||(h&s.expiredLanes)!==0||o)o=vd(s,h);else{o=h;var m=at;at|=2;var y=R_();(ln!==s||gn!==o)&&(ni=null,za=gt()+500,Po(s,o));do try{GS();break}catch(N){A_(s,N)}while(!0);$f(),dd.current=y,at=m,Bt!==null?o=0:(ln=null,gn=0,o=en)}if(o!==0){if(o===2&&(m=vr(s),m!==0&&(h=m,o=kp(s,m))),o===1)throw u=lu,Po(s,0),ji(s,h),ur(s,gt()),u;if(o===6)ji(s,h);else{if(m=s.current.alternate,(h&30)===0&&!WS(m)&&(o=vd(s,h),o===2&&(y=vr(s),y!==0&&(h=y,o=kp(s,y))),o===1))throw u=lu,Po(s,0),ji(s,h),ur(s,gt()),u;switch(s.finishedWork=m,s.finishedLanes=h,o){case 0:case 1:throw Error(n(345));case 2:No(s,lr,ni);break;case 3:if(ji(s,h),(h&130023424)===h&&(o=Tp+500-gt(),10<o)){if(go(s,0)!==0)break;if(m=s.suspendedLanes,(m&h)!==h){qn(),s.pingedLanes|=s.suspendedLanes&m;break}s.timeoutHandle=Pf(No.bind(null,s,lr,ni),o);break}No(s,lr,ni);break;case 4:if(ji(s,h),(h&4194240)===h)break;for(o=s.eventTimes,m=-1;0<h;){var I=31-zn(h);y=1<<I,I=o[I],I>m&&(m=I),h&=~y}if(h=m,h=gt()-h,h=(120>h?120:480>h?480:1080>h?1080:1920>h?1920:3e3>h?3e3:4320>h?4320:1960*HS(h/1960))-h,10<h){s.timeoutHandle=Pf(No.bind(null,s,lr,ni),h);break}No(s,lr,ni);break;case 5:No(s,lr,ni);break;default:throw Error(n(329))}}}return ur(s,gt()),s.callbackNode===u?S_.bind(null,s):null}function kp(s,o){var u=uu;return s.current.memoizedState.isDehydrated&&(Po(s,o).flags|=256),s=vd(s,o),s!==2&&(o=lr,lr=u,o!==null&&Sp(o)),s}function Sp(s){lr===null?lr=s:lr.push.apply(lr,s)}function WS(s){for(var o=s;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var h=0;h<u.length;h++){var m=u[h],y=m.getSnapshot;m=m.value;try{if(!ns(y(),m))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===s)break;for(;o.sibling===null;){if(o.return===null||o.return===s)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function ji(s,o){for(o&=~Ep,o&=~hd,s.suspendedLanes|=o,s.pingedLanes&=~o,s=s.expirationTimes;0<o;){var u=31-zn(o),h=1<<u;s[u]=-1,o&=~h}}function x_(s){if((at&6)!==0)throw Error(n(327));$a();var o=go(s,0);if((o&1)===0)return ur(s,gt()),null;var u=vd(s,o);if(s.tag!==0&&u===2){var h=vr(s);h!==0&&(o=h,u=kp(s,h))}if(u===1)throw u=lu,Po(s,0),ji(s,o),ur(s,gt()),u;if(u===6)throw Error(n(345));return s.finishedWork=s.current.alternate,s.finishedLanes=o,No(s,lr,ni),ur(s,gt()),null}function xp(s,o){var u=at;at|=1;try{return s(o)}finally{at=u,at===0&&(za=gt()+500,Hc&&Pi())}}function Co(s){Vi!==null&&Vi.tag===0&&(at&6)===0&&$a();var o=at;at|=1;var u=Mr.transition,h=nt;try{if(Mr.transition=null,nt=1,s)return s()}finally{nt=h,Mr.transition=u,at=o,(at&6)===0&&Pi()}}function Ap(){Ir=Ua.current,wt(Ua)}function Po(s,o){s.finishedWork=null,s.finishedLanes=0;var u=s.timeoutHandle;if(u!==-1&&(s.timeoutHandle=-1,TS(u)),Bt!==null)for(u=Bt.return;u!==null;){var h=u;switch(Mf(h),h.tag){case 1:h=h.type.childContextTypes,h!=null&&Bc();break;case 3:Ma(),wt(ir),wt(kn),Qf();break;case 5:Gf(h);break;case 4:Ma();break;case 13:wt(Ct);break;case 19:wt(Ct);break;case 10:Bf(h.type._context);break;case 22:case 23:Ap()}u=u.return}if(ln=s,Bt=s=Fi(s.current,null),gn=Ir=o,en=0,lu=null,Ep=hd=Ro=0,lr=uu=null,So!==null){for(o=0;o<So.length;o++)if(u=So[o],h=u.interleaved,h!==null){u.interleaved=null;var m=h.next,y=u.pending;if(y!==null){var I=y.next;y.next=m,h.next=I}u.pending=h}So=null}return s}function A_(s,o){do{var u=Bt;try{if($f(),td.current=id,nd){for(var h=Pt.memoizedState;h!==null;){var m=h.queue;m!==null&&(m.pending=null),h=h.next}nd=!1}if(Ao=0,an=Xt=Pt=null,nu=!1,ru=0,wp.current=null,u===null||u.return===null){en=1,lu=o,Bt=null;break}e:{var y=s,I=u.return,N=u,M=o;if(o=gn,N.flags|=32768,M!==null&&typeof M=="object"&&typeof M.then=="function"){var G=M,ae=N,de=ae.tag;if((ae.mode&1)===0&&(de===0||de===11||de===15)){var ie=ae.alternate;ie?(ae.updateQueue=ie.updateQueue,ae.memoizedState=ie.memoizedState,ae.lanes=ie.lanes):(ae.updateQueue=null,ae.memoizedState=null)}var we=Xv(I);if(we!==null){we.flags&=-257,e_(we,I,N,y,o),we.mode&1&&Jv(y,G,o),o=we,M=G;var be=o.updateQueue;if(be===null){var Re=new Set;Re.add(M),o.updateQueue=Re}else be.add(M);break e}else{if((o&1)===0){Jv(y,G,o),Rp();break e}M=Error(n(426))}}else if(kt&&N.mode&1){var jt=Xv(I);if(jt!==null){(jt.flags&65536)===0&&(jt.flags|=256),e_(jt,I,N,y,o),Uf(ja(M,N));break e}}y=M=ja(M,N),en!==4&&(en=2),uu===null?uu=[y]:uu.push(y),y=I;do{switch(y.tag){case 3:y.flags|=65536,o&=-o,y.lanes|=o;var q=Qv(y,M,o);Iv(y,q);break e;case 1:N=M;var z=y.type,W=y.stateNode;if((y.flags&128)===0&&(typeof z.getDerivedStateFromError=="function"||W!==null&&typeof W.componentDidCatch=="function"&&(Li===null||!Li.has(W)))){y.flags|=65536,o&=-o,y.lanes|=o;var he=Yv(y,N,o);Iv(y,he);break e}}y=y.return}while(y!==null)}P_(u)}catch(Pe){o=Pe,Bt===u&&u!==null&&(Bt=u=u.return);continue}break}while(!0)}function R_(){var s=dd.current;return dd.current=id,s===null?id:s}function Rp(){(en===0||en===3||en===2)&&(en=4),ln===null||(Ro&268435455)===0&&(hd&268435455)===0||ji(ln,gn)}function vd(s,o){var u=at;at|=2;var h=R_();(ln!==s||gn!==o)&&(ni=null,Po(s,o));do try{KS();break}catch(m){A_(s,m)}while(!0);if($f(),at=u,dd.current=h,Bt!==null)throw Error(n(261));return ln=null,gn=0,en}function KS(){for(;Bt!==null;)C_(Bt)}function GS(){for(;Bt!==null&&!mc();)C_(Bt)}function C_(s){var o=D_(s.alternate,s,Ir);s.memoizedProps=s.pendingProps,o===null?P_(s):Bt=o,wp.current=null}function P_(s){var o=s;do{var u=o.alternate;if(s=o.return,(o.flags&32768)===0){if(u=US(u,o,Ir),u!==null){Bt=u;return}}else{if(u=zS(u,o),u!==null){u.flags&=32767,Bt=u;return}if(s!==null)s.flags|=32768,s.subtreeFlags=0,s.deletions=null;else{en=6,Bt=null;return}}if(o=o.sibling,o!==null){Bt=o;return}Bt=o=s}while(o!==null);en===0&&(en=5)}function No(s,o,u){var h=nt,m=Mr.transition;try{Mr.transition=null,nt=1,ZS(s,o,u,h)}finally{Mr.transition=m,nt=h}return null}function ZS(s,o,u,h){do $a();while(Vi!==null);if((at&6)!==0)throw Error(n(327));u=s.finishedWork;var m=s.finishedLanes;if(u===null)return null;if(s.finishedWork=null,s.finishedLanes=0,u===s.current)throw Error(n(177));s.callbackNode=null,s.callbackPriority=0;var y=u.lanes|u.childLanes;if(pt(s,y),s===ln&&(Bt=ln=null,gn=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||pd||(pd=!0,L_(Cr,function(){return $a(),null})),y=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||y){y=Mr.transition,Mr.transition=null;var I=nt;nt=1;var N=at;at|=4,wp.current=null,BS(s,u),E_(u,s),mS(Rf),ki=!!Af,Rf=Af=null,s.current=u,qS(u),hf(),at=N,nt=I,Mr.transition=y}else s.current=u;if(pd&&(pd=!1,Vi=s,md=m),y=s.pendingLanes,y===0&&(Li=null),vc(u.stateNode),ur(s,gt()),o!==null)for(h=s.onRecoverableError,u=0;u<o.length;u++)m=o[u],h(m.value,{componentStack:m.stack,digest:m.digest});if(fd)throw fd=!1,s=Ip,Ip=null,s;return(md&1)!==0&&s.tag!==0&&$a(),y=s.pendingLanes,(y&1)!==0?s===bp?cu++:(cu=0,bp=s):cu=0,Pi(),null}function $a(){if(Vi!==null){var s=Ii(md),o=Mr.transition,u=nt;try{if(Mr.transition=null,nt=16>s?16:s,Vi===null)var h=!1;else{if(s=Vi,Vi=null,md=0,(at&6)!==0)throw Error(n(331));var m=at;for(at|=4,Ie=s.current;Ie!==null;){var y=Ie,I=y.child;if((Ie.flags&16)!==0){var N=y.deletions;if(N!==null){for(var M=0;M<N.length;M++){var G=N[M];for(Ie=G;Ie!==null;){var ae=Ie;switch(ae.tag){case 0:case 11:case 15:au(8,ae,y)}var de=ae.child;if(de!==null)de.return=ae,Ie=de;else for(;Ie!==null;){ae=Ie;var ie=ae.sibling,we=ae.return;if(g_(ae),ae===G){Ie=null;break}if(ie!==null){ie.return=we,Ie=ie;break}Ie=we}}}var be=y.alternate;if(be!==null){var Re=be.child;if(Re!==null){be.child=null;do{var jt=Re.sibling;Re.sibling=null,Re=jt}while(Re!==null)}}Ie=y}}if((y.subtreeFlags&2064)!==0&&I!==null)I.return=y,Ie=I;else e:for(;Ie!==null;){if(y=Ie,(y.flags&2048)!==0)switch(y.tag){case 0:case 11:case 15:au(9,y,y.return)}var q=y.sibling;if(q!==null){q.return=y.return,Ie=q;break e}Ie=y.return}}var z=s.current;for(Ie=z;Ie!==null;){I=Ie;var W=I.child;if((I.subtreeFlags&2064)!==0&&W!==null)W.return=I,Ie=W;else e:for(I=z;Ie!==null;){if(N=Ie,(N.flags&2048)!==0)try{switch(N.tag){case 0:case 11:case 15:cd(9,N)}}catch(Pe){Lt(N,N.return,Pe)}if(N===I){Ie=null;break e}var he=N.sibling;if(he!==null){he.return=N.return,Ie=he;break e}Ie=N.return}}if(at=m,Pi(),yr&&typeof yr.onPostCommitFiberRoot=="function")try{yr.onPostCommitFiberRoot(mo,s)}catch{}h=!0}return h}finally{nt=u,Mr.transition=o}}return!1}function N_(s,o,u){o=ja(u,o),o=Qv(s,o,1),s=Oi(s,o,1),o=qn(),s!==null&&(Ei(s,1,o),ur(s,o))}function Lt(s,o,u){if(s.tag===3)N_(s,s,u);else for(;o!==null;){if(o.tag===3){N_(o,s,u);break}else if(o.tag===1){var h=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof h.componentDidCatch=="function"&&(Li===null||!Li.has(h))){s=ja(u,s),s=Yv(o,s,1),o=Oi(o,s,1),s=qn(),o!==null&&(Ei(o,1,s),ur(o,s));break}}o=o.return}}function QS(s,o,u){var h=s.pingCache;h!==null&&h.delete(o),o=qn(),s.pingedLanes|=s.suspendedLanes&u,ln===s&&(gn&u)===u&&(en===4||en===3&&(gn&130023424)===gn&&500>gt()-Tp?Po(s,0):Ep|=u),ur(s,o)}function O_(s,o){o===0&&((s.mode&1)===0?o=1:(o=da,da<<=1,(da&130023424)===0&&(da=4194304)));var u=qn();s=Xs(s,o),s!==null&&(Ei(s,o,u),ur(s,u))}function YS(s){var o=s.memoizedState,u=0;o!==null&&(u=o.retryLane),O_(s,u)}function JS(s,o){var u=0;switch(s.tag){case 13:var h=s.stateNode,m=s.memoizedState;m!==null&&(u=m.retryLane);break;case 19:h=s.stateNode;break;default:throw Error(n(314))}h!==null&&h.delete(o),O_(s,u)}var D_;D_=function(s,o,u){if(s!==null)if(s.memoizedProps!==o.pendingProps||ir.current)ar=!0;else{if((s.lanes&u)===0&&(o.flags&128)===0)return ar=!1,FS(s,o,u);ar=(s.flags&131072)!==0}else ar=!1,kt&&(o.flags&1048576)!==0&&fv(o,Kc,o.index);switch(o.lanes=0,o.tag){case 2:var h=o.type;ld(s,o),s=o.pendingProps;var m=Ca(o,kn.current);Va(o,u),m=Xf(null,o,h,s,m,u);var y=ep();return o.flags|=1,typeof m=="object"&&m!==null&&typeof m.render=="function"&&m.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,or(h)?(y=!0,qc(o)):y=!1,o.memoizedState=m.state!==null&&m.state!==void 0?m.state:null,Wf(o),m.updater=od,o.stateNode=m,m._reactInternals=o,op(o,h,s,u),o=cp(null,o,h,!0,y,u)):(o.tag=0,kt&&y&&Vf(o),Bn(null,o,m,u),o=o.child),o;case 16:h=o.elementType;e:{switch(ld(s,o),s=o.pendingProps,m=h._init,h=m(h._payload),o.type=h,m=o.tag=ex(h),s=ss(h,s),m){case 0:o=up(null,o,h,s,u);break e;case 1:o=o_(null,o,h,s,u);break e;case 11:o=t_(null,o,h,s,u);break e;case 14:o=n_(null,o,h,ss(h.type,s),u);break e}throw Error(n(306,h,""))}return o;case 0:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ss(h,m),up(s,o,h,m,u);case 1:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ss(h,m),o_(s,o,h,m,u);case 3:e:{if(a_(o),s===null)throw Error(n(387));h=o.pendingProps,y=o.memoizedState,m=y.element,Tv(s,o),Xc(o,h,null,u);var I=o.memoizedState;if(h=I.element,y.isDehydrated)if(y={element:h,isDehydrated:!1,cache:I.cache,pendingSuspenseBoundaries:I.pendingSuspenseBoundaries,transitions:I.transitions},o.updateQueue.baseState=y,o.memoizedState=y,o.flags&256){m=ja(Error(n(423)),o),o=l_(s,o,h,u,m);break e}else if(h!==m){m=ja(Error(n(424)),o),o=l_(s,o,h,u,m);break e}else for(Tr=Ai(o.stateNode.containerInfo.firstChild),Er=o,kt=!0,rs=null,u=wv(o,null,h,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Oa(),h===m){o=ti(s,o,u);break e}Bn(s,o,h,u)}o=o.child}return o;case 5:return kv(o),s===null&&Ff(o),h=o.type,m=o.pendingProps,y=s!==null?s.memoizedProps:null,I=m.children,Cf(h,m)?I=null:y!==null&&Cf(h,y)&&(o.flags|=32),i_(s,o),Bn(s,o,I,u),o.child;case 6:return s===null&&Ff(o),null;case 13:return u_(s,o,u);case 4:return Kf(o,o.stateNode.containerInfo),h=o.pendingProps,s===null?o.child=Da(o,null,h,u):Bn(s,o,h,u),o.child;case 11:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ss(h,m),t_(s,o,h,m,u);case 7:return Bn(s,o,o.pendingProps,u),o.child;case 8:return Bn(s,o,o.pendingProps.children,u),o.child;case 12:return Bn(s,o,o.pendingProps.children,u),o.child;case 10:e:{if(h=o.type._context,m=o.pendingProps,y=o.memoizedProps,I=m.value,yt(Qc,h._currentValue),h._currentValue=I,y!==null)if(ns(y.value,I)){if(y.children===m.children&&!ir.current){o=ti(s,o,u);break e}}else for(y=o.child,y!==null&&(y.return=o);y!==null;){var N=y.dependencies;if(N!==null){I=y.child;for(var M=N.firstContext;M!==null;){if(M.context===h){if(y.tag===1){M=ei(-1,u&-u),M.tag=2;var G=y.updateQueue;if(G!==null){G=G.shared;var ae=G.pending;ae===null?M.next=M:(M.next=ae.next,ae.next=M),G.pending=M}}y.lanes|=u,M=y.alternate,M!==null&&(M.lanes|=u),qf(y.return,u,o),N.lanes|=u;break}M=M.next}}else if(y.tag===10)I=y.type===o.type?null:y.child;else if(y.tag===18){if(I=y.return,I===null)throw Error(n(341));I.lanes|=u,N=I.alternate,N!==null&&(N.lanes|=u),qf(I,u,o),I=y.sibling}else I=y.child;if(I!==null)I.return=y;else for(I=y;I!==null;){if(I===o){I=null;break}if(y=I.sibling,y!==null){y.return=I.return,I=y;break}I=I.return}y=I}Bn(s,o,m.children,u),o=o.child}return o;case 9:return m=o.type,h=o.pendingProps.children,Va(o,u),m=Lr(m),h=h(m),o.flags|=1,Bn(s,o,h,u),o.child;case 14:return h=o.type,m=ss(h,o.pendingProps),m=ss(h.type,m),n_(s,o,h,m,u);case 15:return r_(s,o,o.type,o.pendingProps,u);case 17:return h=o.type,m=o.pendingProps,m=o.elementType===h?m:ss(h,m),ld(s,o),o.tag=1,or(h)?(s=!0,qc(o)):s=!1,Va(o,u),Gv(o,h,m),op(o,h,m,u),cp(null,o,h,!0,s,u);case 19:return d_(s,o,u);case 22:return s_(s,o,u)}throw Error(n(156,o.tag))};function L_(s,o){return ua(s,o)}function XS(s,o,u,h){this.tag=s,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=h,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function jr(s,o,u,h){return new XS(s,o,u,h)}function Cp(s){return s=s.prototype,!(!s||!s.isReactComponent)}function ex(s){if(typeof s=="function")return Cp(s)?1:0;if(s!=null){if(s=s.$$typeof,s===P)return 11;if(s===Le)return 14}return 2}function Fi(s,o){var u=s.alternate;return u===null?(u=jr(s.tag,o,s.key,s.mode),u.elementType=s.elementType,u.type=s.type,u.stateNode=s.stateNode,u.alternate=s,s.alternate=u):(u.pendingProps=o,u.type=s.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=s.flags&14680064,u.childLanes=s.childLanes,u.lanes=s.lanes,u.child=s.child,u.memoizedProps=s.memoizedProps,u.memoizedState=s.memoizedState,u.updateQueue=s.updateQueue,o=s.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=s.sibling,u.index=s.index,u.ref=s.ref,u}function _d(s,o,u,h,m,y){var I=2;if(h=s,typeof s=="function")Cp(s)&&(I=1);else if(typeof s=="string")I=5;else e:switch(s){case L:return Oo(u.children,m,y,o);case b:I=8,m|=8;break;case C:return s=jr(12,u,o,m|2),s.elementType=C,s.lanes=y,s;case S:return s=jr(13,u,o,m),s.elementType=S,s.lanes=y,s;case De:return s=jr(19,u,o,m),s.elementType=De,s.lanes=y,s;case Ne:return wd(u,m,y,o);default:if(typeof s=="object"&&s!==null)switch(s.$$typeof){case D:I=10;break e;case V:I=9;break e;case P:I=11;break e;case Le:I=14;break e;case me:I=16,h=null;break e}throw Error(n(130,s==null?s:typeof s,""))}return o=jr(I,u,o,m),o.elementType=s,o.type=h,o.lanes=y,o}function Oo(s,o,u,h){return s=jr(7,s,h,o),s.lanes=u,s}function wd(s,o,u,h){return s=jr(22,s,h,o),s.elementType=Ne,s.lanes=u,s.stateNode={isHidden:!1},s}function Pp(s,o,u){return s=jr(6,s,null,o),s.lanes=u,s}function Np(s,o,u){return o=jr(4,s.children!==null?s.children:[],s.key,o),o.lanes=u,o.stateNode={containerInfo:s.containerInfo,pendingChildren:null,implementation:s.implementation},o}function tx(s,o,u,h,m){this.tag=o,this.containerInfo=s,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=wi(0),this.expirationTimes=wi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=wi(0),this.identifierPrefix=h,this.onRecoverableError=m,this.mutableSourceEagerHydrationData=null}function Op(s,o,u,h,m,y,I,N,M){return s=new tx(s,o,u,N,M),o===1?(o=1,y===!0&&(o|=8)):o=0,y=jr(3,null,null,o),s.current=y,y.stateNode=s,y.memoizedState={element:h,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Wf(y),s}function nx(s,o,u){var h=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:h==null?null:""+h,children:s,containerInfo:o,implementation:u}}function V_(s){if(!s)return Ci;s=s._reactInternals;e:{if(Zr(s)!==s||s.tag!==1)throw Error(n(170));var o=s;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(or(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(n(171))}if(s.tag===1){var u=s.type;if(or(u))return cv(s,u,o)}return o}function M_(s,o,u,h,m,y,I,N,M){return s=Op(u,h,!0,s,m,y,I,N,M),s.context=V_(null),u=s.current,h=qn(),m=Mi(u),y=ei(h,m),y.callback=o??null,Oi(u,y,m),s.current.lanes=m,Ei(s,m,h),ur(s,h),s}function Ed(s,o,u,h){var m=o.current,y=qn(),I=Mi(m);return u=V_(u),o.context===null?o.context=u:o.pendingContext=u,o=ei(y,I),o.payload={element:s},h=h===void 0?null:h,h!==null&&(o.callback=h),s=Oi(m,o,I),s!==null&&(as(s,m,I,y),Jc(s,m,I)),I}function Td(s){if(s=s.current,!s.child)return null;switch(s.child.tag){case 5:return s.child.stateNode;default:return s.child.stateNode}}function j_(s,o){if(s=s.memoizedState,s!==null&&s.dehydrated!==null){var u=s.retryLane;s.retryLane=u!==0&&u<o?u:o}}function Dp(s,o){j_(s,o),(s=s.alternate)&&j_(s,o)}function rx(){return null}var F_=typeof reportError=="function"?reportError:function(s){console.error(s)};function Lp(s){this._internalRoot=s}Id.prototype.render=Lp.prototype.render=function(s){var o=this._internalRoot;if(o===null)throw Error(n(409));Ed(s,o,null,null)},Id.prototype.unmount=Lp.prototype.unmount=function(){var s=this._internalRoot;if(s!==null){this._internalRoot=null;var o=s.containerInfo;Co(function(){Ed(null,s,null,null)}),o[Zs]=null}};function Id(s){this._internalRoot=s}Id.prototype.unstable_scheduleHydration=function(s){if(s){var o=Ic();s={blockedOn:null,target:s,priority:o};for(var u=0;u<vs.length&&o!==0&&o<vs[u].priority;u++);vs.splice(u,0,s),u===0&&Sc(s)}};function Vp(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11)}function bd(s){return!(!s||s.nodeType!==1&&s.nodeType!==9&&s.nodeType!==11&&(s.nodeType!==8||s.nodeValue!==" react-mount-point-unstable "))}function U_(){}function sx(s,o,u,h,m){if(m){if(typeof h=="function"){var y=h;h=function(){var G=Td(I);y.call(G)}}var I=M_(o,h,s,0,null,!1,!1,"",U_);return s._reactRootContainer=I,s[Zs]=I.current,Gl(s.nodeType===8?s.parentNode:s),Co(),I}for(;m=s.lastChild;)s.removeChild(m);if(typeof h=="function"){var N=h;h=function(){var G=Td(M);N.call(G)}}var M=Op(s,0,!1,null,null,!1,!1,"",U_);return s._reactRootContainer=M,s[Zs]=M.current,Gl(s.nodeType===8?s.parentNode:s),Co(function(){Ed(o,M,u,h)}),M}function kd(s,o,u,h,m){var y=u._reactRootContainer;if(y){var I=y;if(typeof m=="function"){var N=m;m=function(){var M=Td(I);N.call(M)}}Ed(o,I,s,m)}else I=sx(u,o,s,m,h);return Td(I)}Ec=function(s){switch(s.tag){case 3:var o=s.stateNode;if(o.current.memoizedState.isDehydrated){var u=_i(o.pendingLanes);u!==0&&(Ti(o,u|1),ur(o,gt()),(at&6)===0&&(za=gt()+500,Pi()))}break;case 13:Co(function(){var h=Xs(s,1);if(h!==null){var m=qn();as(h,s,1,m)}}),Dp(s,1)}},ha=function(s){if(s.tag===13){var o=Xs(s,134217728);if(o!==null){var u=qn();as(o,s,134217728,u)}Dp(s,134217728)}},Tc=function(s){if(s.tag===13){var o=Mi(s),u=Xs(s,o);if(u!==null){var h=qn();as(u,s,o,h)}Dp(s,o)}},Ic=function(){return nt},bc=function(s,o){var u=nt;try{return nt=s,o()}finally{nt=u}},yi=function(s,o,u){switch(o){case"input":if(Yn(s,u),o=u.name,u.type==="radio"&&o!=null){for(u=s;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var h=u[o];if(h!==s&&h.form===s.form){var m=$c(h);if(!m)throw Error(n(90));hn(h),Yn(h,m)}}}break;case"textarea":X(s,u);break;case"select":o=u.value,o!=null&&Jn(s,!!u.multiple,o,!1)}},It=xp,Qt=Co;var ix={usingClientEntryPoint:!1,Events:[Yl,Aa,$c,ze,Tt,xp]},du={findFiberByHostInstance:To,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ox={bundleType:du.bundleType,version:du.version,rendererPackageName:du.rendererPackageName,rendererConfig:du.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:J.ReactCurrentDispatcher,findHostInstanceByFiber:function(s){return s=Nl(s),s===null?null:s.stateNode},findFiberByHostInstance:du.findFiberByHostInstance||rx,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Sd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Sd.isDisabled&&Sd.supportsFiber)try{mo=Sd.inject(ox),yr=Sd}catch{}}return cr.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=ix,cr.createPortal=function(s,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Vp(o))throw Error(n(200));return nx(s,o,null,u)},cr.createRoot=function(s,o){if(!Vp(s))throw Error(n(299));var u=!1,h="",m=F_;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(h=o.identifierPrefix),o.onRecoverableError!==void 0&&(m=o.onRecoverableError)),o=Op(s,1,!1,null,null,u,!1,h,m),s[Zs]=o.current,Gl(s.nodeType===8?s.parentNode:s),new Lp(o)},cr.findDOMNode=function(s){if(s==null)return null;if(s.nodeType===1)return s;var o=s._reactInternals;if(o===void 0)throw typeof s.render=="function"?Error(n(188)):(s=Object.keys(s).join(","),Error(n(268,s)));return s=Nl(o),s=s===null?null:s.stateNode,s},cr.flushSync=function(s){return Co(s)},cr.hydrate=function(s,o,u){if(!bd(o))throw Error(n(200));return kd(null,s,o,!0,u)},cr.hydrateRoot=function(s,o,u){if(!Vp(s))throw Error(n(405));var h=u!=null&&u.hydratedSources||null,m=!1,y="",I=F_;if(u!=null&&(u.unstable_strictMode===!0&&(m=!0),u.identifierPrefix!==void 0&&(y=u.identifierPrefix),u.onRecoverableError!==void 0&&(I=u.onRecoverableError)),o=M_(o,null,s,1,u??null,m,!1,y,I),s[Zs]=o.current,Gl(s),h)for(s=0;s<h.length;s++)u=h[s],m=u._getVersion,m=m(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,m]:o.mutableSourceEagerHydrationData.push(u,m);return new Id(o)},cr.render=function(s,o,u){if(!bd(o))throw Error(n(200));return kd(null,s,o,!1,u)},cr.unmountComponentAtNode=function(s){if(!bd(s))throw Error(n(40));return s._reactRootContainer?(Co(function(){kd(null,null,s,!1,function(){s._reactRootContainer=null,s[Zs]=null})}),!0):!1},cr.unstable_batchedUpdates=xp,cr.unstable_renderSubtreeIntoContainer=function(s,o,u,h){if(!bd(u))throw Error(n(200));if(s==null||s._reactInternals===void 0)throw Error(n(38));return kd(s,o,u,!1,h)},cr.version="18.3.1-next-f1338f8080-20240426",cr}var G_;function ME(){if(G_)return Fp.exports;G_=1;function t(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(t)}catch(e){console.error(e)}}return t(),Fp.exports=gx(),Fp.exports}var Z_;function yx(){if(Z_)return xd;Z_=1;var t=ME();return xd.createRoot=t.createRoot,xd.hydrateRoot=t.hydrateRoot,xd}var vx=yx();const _x=vl(vx),wx="modulepreload",Ex=function(t){return"/Tourism/"+t},Q_={},pr=function(e,n,r){let i=Promise.resolve();if(n&&n.length>0){let l=function(p){return Promise.all(p.map(_=>Promise.resolve(_).then(v=>({status:"fulfilled",value:v}),v=>({status:"rejected",reason:v}))))};document.getElementsByTagName("link");const d=document.querySelector("meta[property=csp-nonce]"),f=(d==null?void 0:d.nonce)||(d==null?void 0:d.getAttribute("nonce"));i=l(n.map(p=>{if(p=Ex(p),p in Q_)return;Q_[p]=!0;const _=p.endsWith(".css"),v=_?'[rel="stylesheet"]':"";if(document.querySelector(`link[href="${p}"]${v}`))return;const E=document.createElement("link");if(E.rel=_?"stylesheet":wx,_||(E.as="script"),E.crossOrigin="",E.href=p,f&&E.setAttribute("nonce",f),document.head.appendChild(E),_)return new Promise((x,A)=>{E.addEventListener("load",x),E.addEventListener("error",()=>A(new Error(`Unable to preload CSS for ${p}`)))})}))}function a(l){const d=new Event("vite:preloadError",{cancelable:!0});if(d.payload=l,window.dispatchEvent(d),!d.defaultPrevented)throw l}return i.then(l=>{for(const d of l||[])d.status==="rejected"&&a(d.reason);return e().catch(a)})};var Tx=ME();const Ix=vl(Tx);/**
 * @remix-run/router v1.20.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Lu(){return Lu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Lu.apply(this,arguments)}var Zi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(Zi||(Zi={}));const Y_="popstate";function bx(t){t===void 0&&(t={});function e(r,i){let{pathname:a,search:l,hash:d}=r.location;return gm("",{pathname:a,search:l,hash:d},i.state&&i.state.usr||null,i.state&&i.state.key||"default")}function n(r,i){return typeof i=="string"?i:eh(i)}return Sx(e,n,null,t)}function Nt(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function jE(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function kx(){return Math.random().toString(36).substr(2,8)}function J_(t,e){return{usr:t.state,key:t.key,idx:e}}function gm(t,e,n,r){return n===void 0&&(n=null),Lu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?_l(e):e,{state:n,key:e&&e.key||r||kx()})}function eh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function _l(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function Sx(t,e,n,r){r===void 0&&(r={});let{window:i=document.defaultView,v5Compat:a=!1}=r,l=i.history,d=Zi.Pop,f=null,p=_();p==null&&(p=0,l.replaceState(Lu({},l.state,{idx:p}),""));function _(){return(l.state||{idx:null}).idx}function v(){d=Zi.Pop;let R=_(),K=R==null?null:R-p;p=R,f&&f({action:d,location:j.location,delta:K})}function E(R,K){d=Zi.Push;let $=gm(j.location,R,K);p=_()+1;let ee=J_($,p),J=j.createHref($);try{l.pushState(ee,"",J)}catch(ce){if(ce instanceof DOMException&&ce.name==="DataCloneError")throw ce;i.location.assign(J)}a&&f&&f({action:d,location:j.location,delta:1})}function x(R,K){d=Zi.Replace;let $=gm(j.location,R,K);p=_();let ee=J_($,p),J=j.createHref($);l.replaceState(ee,"",J),a&&f&&f({action:d,location:j.location,delta:0})}function A(R){let K=i.location.origin!=="null"?i.location.origin:i.location.href,$=typeof R=="string"?R:eh(R);return $=$.replace(/ $/,"%20"),Nt(K,"No window.location.(origin|href) available to create URL for href: "+$),new URL($,K)}let j={get action(){return d},get location(){return t(i,l)},listen(R){if(f)throw new Error("A history only accepts one active listener");return i.addEventListener(Y_,v),f=R,()=>{i.removeEventListener(Y_,v),f=null}},createHref(R){return e(i,R)},createURL:A,encodeLocation(R){let K=A(R);return{pathname:K.pathname,search:K.search,hash:K.hash}},push:E,replace:x,go(R){return l.go(R)}};return j}var X_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(X_||(X_={}));function xx(t,e,n){return n===void 0&&(n="/"),Ax(t,e,n)}function Ax(t,e,n,r){let i=typeof e=="string"?_l(e):e,a=al(i.pathname||"/",n);if(a==null)return null;let l=FE(t);Rx(l);let d=null;for(let f=0;d==null&&f<l.length;++f){let p=Ux(a);d=jx(l[f],p)}return d}function FE(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let i=(a,l,d)=>{let f={relativePath:d===void 0?a.path||"":d,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(Nt(f.relativePath.startsWith(r),'Absolute route path "'+f.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),f.relativePath=f.relativePath.slice(r.length));let p=Yi([r,f.relativePath]),_=n.concat(f);a.children&&a.children.length>0&&(Nt(a.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+p+'".')),FE(a.children,e,_,p)),!(a.path==null&&!a.index)&&e.push({path:p,score:Vx(p,a.index),routesMeta:_})};return t.forEach((a,l)=>{var d;if(a.path===""||!((d=a.path)!=null&&d.includes("?")))i(a,l);else for(let f of UE(a.path))i(a,l,f)}),e}function UE(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,i=n.endsWith("?"),a=n.replace(/\?$/,"");if(r.length===0)return i?[a,""]:[a];let l=UE(r.join("/")),d=[];return d.push(...l.map(f=>f===""?a:[a,f].join("/"))),i&&d.push(...l),d.map(f=>t.startsWith("/")&&f===""?"/":f)}function Rx(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:Mx(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const Cx=/^:[\w-]+$/,Px=3,Nx=2,Ox=1,Dx=10,Lx=-2,ew=t=>t==="*";function Vx(t,e){let n=t.split("/"),r=n.length;return n.some(ew)&&(r+=Lx),e&&(r+=Nx),n.filter(i=>!ew(i)).reduce((i,a)=>i+(Cx.test(a)?Px:a===""?Ox:Dx),r)}function Mx(t,e){return t.length===e.length&&t.slice(0,-1).every((r,i)=>r===e[i])?t[t.length-1]-e[e.length-1]:0}function jx(t,e,n){let{routesMeta:r}=t,i={},a="/",l=[];for(let d=0;d<r.length;++d){let f=r[d],p=d===r.length-1,_=a==="/"?e:e.slice(a.length)||"/",v=ym({path:f.relativePath,caseSensitive:f.caseSensitive,end:p},_),E=f.route;if(!v)return null;Object.assign(i,v.params),l.push({params:i,pathname:Yi([a,v.pathname]),pathnameBase:qx(Yi([a,v.pathnameBase])),route:E}),v.pathnameBase!=="/"&&(a=Yi([a,v.pathnameBase]))}return l}function ym(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=Fx(t.path,t.caseSensitive,t.end),i=e.match(n);if(!i)return null;let a=i[0],l=a.replace(/(.)\/+$/,"$1"),d=i.slice(1);return{params:r.reduce((p,_,v)=>{let{paramName:E,isOptional:x}=_;if(E==="*"){let j=d[v]||"";l=a.slice(0,a.length-j.length).replace(/(.)\/+$/,"$1")}const A=d[v];return x&&!A?p[E]=void 0:p[E]=(A||"").replace(/%2F/g,"/"),p},{}),pathname:a,pathnameBase:l,pattern:t}}function Fx(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),jE(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],i="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,d,f)=>(r.push({paramName:d,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),i+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":t!==""&&t!=="/"&&(i+="(?:(?=\\/|$))"),[new RegExp(i,e?void 0:"i"),r]}function Ux(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return jE(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function al(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function zx(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:i=""}=typeof t=="string"?_l(t):t;return{pathname:n?n.startsWith("/")?n:$x(n,e):e,search:Hx(r),hash:Wx(i)}}function $x(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(i=>{i===".."?n.length>1&&n.pop():i!=="."&&n.push(i)}),n.length>1?n.join("/"):"/"}function $p(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function Bx(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function cg(t,e){let n=Bx(t);return e?n.map((r,i)=>i===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function dg(t,e,n,r){r===void 0&&(r=!1);let i;typeof t=="string"?i=_l(t):(i=Lu({},t),Nt(!i.pathname||!i.pathname.includes("?"),$p("?","pathname","search",i)),Nt(!i.pathname||!i.pathname.includes("#"),$p("#","pathname","hash",i)),Nt(!i.search||!i.search.includes("#"),$p("#","search","hash",i)));let a=t===""||i.pathname==="",l=a?"/":i.pathname,d;if(l==null)d=n;else{let v=e.length-1;if(!r&&l.startsWith("..")){let E=l.split("/");for(;E[0]==="..";)E.shift(),v-=1;i.pathname=E.join("/")}d=v>=0?e[v]:"/"}let f=zx(i,d),p=l&&l!=="/"&&l.endsWith("/"),_=(a||l===".")&&n.endsWith("/");return!f.pathname.endsWith("/")&&(p||_)&&(f.pathname+="/"),f}const Yi=t=>t.join("/").replace(/\/\/+/g,"/"),qx=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),Hx=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,Wx=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function Kx(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const zE=["post","put","patch","delete"];new Set(zE);const Gx=["get",...zE];new Set(Gx);/**
 * React Router v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vu(){return Vu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vu.apply(this,arguments)}const Sh=U.createContext(null),$E=U.createContext(null),mi=U.createContext(null),xh=U.createContext(null),js=U.createContext({outlet:null,matches:[],isDataRoute:!1}),BE=U.createContext(null);function Zx(t,e){let{relative:n}=e===void 0?{}:e;wl()||Nt(!1);let{basename:r,navigator:i}=U.useContext(mi),{hash:a,pathname:l,search:d}=Ah(t,{relative:n}),f=l;return r!=="/"&&(f=l==="/"?r:Yi([r,l])),i.createHref({pathname:f,search:d,hash:a})}function wl(){return U.useContext(xh)!=null}function Fs(){return wl()||Nt(!1),U.useContext(xh).location}function qE(t){U.useContext(mi).static||U.useLayoutEffect(t)}function Yu(){let{isDataRoute:t}=U.useContext(js);return t?cA():Qx()}function Qx(){wl()||Nt(!1);let t=U.useContext(Sh),{basename:e,future:n,navigator:r}=U.useContext(mi),{matches:i}=U.useContext(js),{pathname:a}=Fs(),l=JSON.stringify(cg(i,n.v7_relativeSplatPath)),d=U.useRef(!1);return qE(()=>{d.current=!0}),U.useCallback(function(p,_){if(_===void 0&&(_={}),!d.current)return;if(typeof p=="number"){r.go(p);return}let v=dg(p,JSON.parse(l),a,_.relative==="path");t==null&&e!=="/"&&(v.pathname=v.pathname==="/"?e:Yi([e,v.pathname])),(_.replace?r.replace:r.push)(v,_.state,_)},[e,r,l,a,t])}const Yx=U.createContext(null);function Jx(t){let e=U.useContext(js).outlet;return e&&U.createElement(Yx.Provider,{value:t},e)}function R9(){let{matches:t}=U.useContext(js),e=t[t.length-1];return e?e.params:{}}function Ah(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=U.useContext(mi),{matches:i}=U.useContext(js),{pathname:a}=Fs(),l=JSON.stringify(cg(i,r.v7_relativeSplatPath));return U.useMemo(()=>dg(t,JSON.parse(l),a,n==="path"),[t,l,a,n])}function Xx(t,e){return eA(t,e)}function eA(t,e,n,r){wl()||Nt(!1);let{navigator:i}=U.useContext(mi),{matches:a}=U.useContext(js),l=a[a.length-1],d=l?l.params:{};l&&l.pathname;let f=l?l.pathnameBase:"/";l&&l.route;let p=Fs(),_;if(e){var v;let R=typeof e=="string"?_l(e):e;f==="/"||(v=R.pathname)!=null&&v.startsWith(f)||Nt(!1),_=R}else _=p;let E=_.pathname||"/",x=E;if(f!=="/"){let R=f.replace(/^\//,"").split("/");x="/"+E.replace(/^\//,"").split("/").slice(R.length).join("/")}let A=xx(t,{pathname:x}),j=iA(A&&A.map(R=>Object.assign({},R,{params:Object.assign({},d,R.params),pathname:Yi([f,i.encodeLocation?i.encodeLocation(R.pathname).pathname:R.pathname]),pathnameBase:R.pathnameBase==="/"?f:Yi([f,i.encodeLocation?i.encodeLocation(R.pathnameBase).pathname:R.pathnameBase])})),a,n,r);return e&&j?U.createElement(xh.Provider,{value:{location:Vu({pathname:"/",search:"",hash:"",state:null,key:"default"},_),navigationType:Zi.Pop}},j):j}function tA(){let t=uA(),e=Kx(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,i={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return U.createElement(U.Fragment,null,U.createElement("h2",null,"Unexpected Application Error!"),U.createElement("h3",{style:{fontStyle:"italic"}},e),n?U.createElement("pre",{style:i},n):null,null)}const nA=U.createElement(tA,null);class rA extends U.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?U.createElement(js.Provider,{value:this.props.routeContext},U.createElement(BE.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function sA(t){let{routeContext:e,match:n,children:r}=t,i=U.useContext(Sh);return i&&i.static&&i.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(i.staticContext._deepestRenderedBoundaryId=n.route.id),U.createElement(js.Provider,{value:e},r)}function iA(t,e,n,r){var i;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var a;if(!n)return null;if(n.errors)t=n.matches;else if((a=r)!=null&&a.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let l=t,d=(i=n)==null?void 0:i.errors;if(d!=null){let _=l.findIndex(v=>v.route.id&&(d==null?void 0:d[v.route.id])!==void 0);_>=0||Nt(!1),l=l.slice(0,Math.min(l.length,_+1))}let f=!1,p=-1;if(n&&r&&r.v7_partialHydration)for(let _=0;_<l.length;_++){let v=l[_];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(p=_),v.route.id){let{loaderData:E,errors:x}=n,A=v.route.loader&&E[v.route.id]===void 0&&(!x||x[v.route.id]===void 0);if(v.route.lazy||A){f=!0,p>=0?l=l.slice(0,p+1):l=[l[0]];break}}}return l.reduceRight((_,v,E)=>{let x,A=!1,j=null,R=null;n&&(x=d&&v.route.id?d[v.route.id]:void 0,j=v.route.errorElement||nA,f&&(p<0&&E===0?(dA("route-fallback"),A=!0,R=null):p===E&&(A=!0,R=v.route.hydrateFallbackElement||null)));let K=e.concat(l.slice(0,E+1)),$=()=>{let ee;return x?ee=j:A?ee=R:v.route.Component?ee=U.createElement(v.route.Component,null):v.route.element?ee=v.route.element:ee=_,U.createElement(sA,{match:v,routeContext:{outlet:_,matches:K,isDataRoute:n!=null},children:ee})};return n&&(v.route.ErrorBoundary||v.route.errorElement||E===0)?U.createElement(rA,{location:n.location,revalidation:n.revalidation,component:j,error:x,children:$(),routeContext:{outlet:null,matches:K,isDataRoute:!0}}):$()},null)}var HE=(function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t})(HE||{}),WE=(function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t})(WE||{});function oA(t){let e=U.useContext(Sh);return e||Nt(!1),e}function aA(t){let e=U.useContext($E);return e||Nt(!1),e}function lA(t){let e=U.useContext(js);return e||Nt(!1),e}function KE(t){let e=lA(),n=e.matches[e.matches.length-1];return n.route.id||Nt(!1),n.route.id}function uA(){var t;let e=U.useContext(BE),n=aA(),r=KE();return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function cA(){let{router:t}=oA(HE.UseNavigateStable),e=KE(WE.UseNavigateStable),n=U.useRef(!1);return qE(()=>{n.current=!0}),U.useCallback(function(i,a){a===void 0&&(a={}),n.current&&(typeof i=="number"?t.navigate(i):t.navigate(i,Vu({fromRouteId:e},a)))},[t,e])}const tw={};function dA(t,e,n){tw[t]||(tw[t]=!0)}function hg(t){let{to:e,replace:n,state:r,relative:i}=t;wl()||Nt(!1);let{future:a,static:l}=U.useContext(mi),{matches:d}=U.useContext(js),{pathname:f}=Fs(),p=Yu(),_=dg(e,cg(d,a.v7_relativeSplatPath),f,i==="path"),v=JSON.stringify(_);return U.useEffect(()=>p(JSON.parse(v),{replace:n,state:r,relative:i}),[p,v,i,n,r]),null}function th(t){return Jx(t.context)}function Ft(t){Nt(!1)}function hA(t){let{basename:e="/",children:n=null,location:r,navigationType:i=Zi.Pop,navigator:a,static:l=!1,future:d}=t;wl()&&Nt(!1);let f=e.replace(/^\/*/,"/"),p=U.useMemo(()=>({basename:f,navigator:a,static:l,future:Vu({v7_relativeSplatPath:!1},d)}),[f,d,a,l]);typeof r=="string"&&(r=_l(r));let{pathname:_="/",search:v="",hash:E="",state:x=null,key:A="default"}=r,j=U.useMemo(()=>{let R=al(_,f);return R==null?null:{location:{pathname:R,search:v,hash:E,state:x,key:A},navigationType:i}},[f,_,v,E,x,A,i]);return j==null?null:U.createElement(mi.Provider,{value:p},U.createElement(xh.Provider,{children:n,value:j}))}function fA(t){let{children:e,location:n}=t;return Xx(vm(e),n)}new Promise(()=>{});function vm(t,e){e===void 0&&(e=[]);let n=[];return U.Children.forEach(t,(r,i)=>{if(!U.isValidElement(r))return;let a=[...e,i];if(r.type===U.Fragment){n.push.apply(n,vm(r.props.children,a));return}r.type!==Ft&&Nt(!1),!r.props.index||!r.props.children||Nt(!1);let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=vm(r.props.children,a)),n.push(l)}),n}/**
 * React Router DOM v6.27.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function nh(){return nh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},nh.apply(this,arguments)}function GE(t,e){if(t==null)return{};var n={},r=Object.keys(t),i,a;for(a=0;a<r.length;a++)i=r[a],!(e.indexOf(i)>=0)&&(n[i]=t[i]);return n}function pA(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function mA(t,e){return t.button===0&&(!e||e==="_self")&&!pA(t)}function _m(t){return t===void 0&&(t=""),new URLSearchParams(typeof t=="string"||Array.isArray(t)||t instanceof URLSearchParams?t:Object.keys(t).reduce((e,n)=>{let r=t[n];return e.concat(Array.isArray(r)?r.map(i=>[n,i]):[[n,r]])},[]))}function gA(t,e){let n=_m(t);return e&&e.forEach((r,i)=>{n.has(i)||e.getAll(i).forEach(a=>{n.append(i,a)})}),n}const yA=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],vA=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],_A="6";try{window.__reactRouterVersion=_A}catch{}const wA=U.createContext({isTransitioning:!1}),EA="startTransition",nw=VE[EA];function TA(t){let{basename:e,children:n,future:r,window:i}=t,a=U.useRef();a.current==null&&(a.current=bx({window:i,v5Compat:!0}));let l=a.current,[d,f]=U.useState({action:l.action,location:l.location}),{v7_startTransition:p}=r||{},_=U.useCallback(v=>{p&&nw?nw(()=>f(v)):f(v)},[f,p]);return U.useLayoutEffect(()=>l.listen(_),[l,_]),U.createElement(hA,{basename:e,children:n,location:d.location,navigationType:d.action,navigator:l,future:r})}const IA=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",bA=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,On=U.forwardRef(function(e,n){let{onClick:r,relative:i,reloadDocument:a,replace:l,state:d,target:f,to:p,preventScrollReset:_,viewTransition:v}=e,E=GE(e,yA),{basename:x}=U.useContext(mi),A,j=!1;if(typeof p=="string"&&bA.test(p)&&(A=p,IA))try{let ee=new URL(window.location.href),J=p.startsWith("//")?new URL(ee.protocol+p):new URL(p),ce=al(J.pathname,x);J.origin===ee.origin&&ce!=null?p=ce+J.search+J.hash:j=!0}catch{}let R=Zx(p,{relative:i}),K=SA(p,{replace:l,state:d,target:f,preventScrollReset:_,relative:i,viewTransition:v});function $(ee){r&&r(ee),ee.defaultPrevented||K(ee)}return U.createElement("a",nh({},E,{href:A||R,onClick:j||a?r:$,ref:n,target:f}))}),rw=U.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:i=!1,className:a="",end:l=!1,style:d,to:f,viewTransition:p,children:_}=e,v=GE(e,vA),E=Ah(f,{relative:v.relative}),x=Fs(),A=U.useContext($E),{navigator:j,basename:R}=U.useContext(mi),K=A!=null&&xA(E)&&p===!0,$=j.encodeLocation?j.encodeLocation(E).pathname:E.pathname,ee=x.pathname,J=A&&A.navigation&&A.navigation.location?A.navigation.location.pathname:null;i||(ee=ee.toLowerCase(),J=J?J.toLowerCase():null,$=$.toLowerCase()),J&&R&&(J=al(J,R)||J);const ce=$!=="/"&&$.endsWith("/")?$.length-1:$.length;let _e=ee===$||!l&&ee.startsWith($)&&ee.charAt(ce)==="/",L=J!=null&&(J===$||!l&&J.startsWith($)&&J.charAt($.length)==="/"),b={isActive:_e,isPending:L,isTransitioning:K},C=_e?r:void 0,D;typeof a=="function"?D=a(b):D=[a,_e?"active":null,L?"pending":null,K?"transitioning":null].filter(Boolean).join(" ");let V=typeof d=="function"?d(b):d;return U.createElement(On,nh({},v,{"aria-current":C,className:D,ref:n,style:V,to:f,viewTransition:p}),typeof _=="function"?_(b):_)});var wm;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(wm||(wm={}));var sw;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(sw||(sw={}));function kA(t){let e=U.useContext(Sh);return e||Nt(!1),e}function SA(t,e){let{target:n,replace:r,state:i,preventScrollReset:a,relative:l,viewTransition:d}=e===void 0?{}:e,f=Yu(),p=Fs(),_=Ah(t,{relative:l});return U.useCallback(v=>{if(mA(v,n)){v.preventDefault();let E=r!==void 0?r:eh(p)===eh(_);f(t,{replace:E,state:i,preventScrollReset:a,relative:l,viewTransition:d})}},[p,f,_,r,i,n,t,a,l,d])}function C9(t){let e=U.useRef(_m(t)),n=U.useRef(!1),r=Fs(),i=U.useMemo(()=>gA(r.search,n.current?null:e.current),[r.search]),a=Yu(),l=U.useCallback((d,f)=>{const p=_m(typeof d=="function"?d(i):d);n.current=!0,a("?"+p,f)},[a,i]);return[i,l]}function xA(t,e){e===void 0&&(e={});let n=U.useContext(wA);n==null&&Nt(!1);let{basename:r}=kA(wm.useViewTransitionState),i=Ah(t,{relative:e.relative});if(!n.isTransitioning)return!1;let a=al(n.currentLocation.pathname,r)||n.currentLocation.pathname,l=al(n.nextLocation.pathname,r)||n.nextLocation.pathname;return ym(i.pathname,l)!=null||ym(i.pathname,a)!=null}/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AA=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),RA=t=>t.replace(/^([A-Z])|[\s-_]+(\w)/g,(e,n,r)=>r?r.toUpperCase():n.toLowerCase()),iw=t=>{const e=RA(t);return e.charAt(0).toUpperCase()+e.slice(1)},ZE=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var CA={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PA=U.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:i="",children:a,iconNode:l,...d},f)=>U.createElement("svg",{ref:f,...CA,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:ZE("lucide",i),...d},[...l.map(([p,_])=>U.createElement(p,_)),...Array.isArray(a)?a:[a]]));/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Mn=(t,e)=>{const n=U.forwardRef(({className:r,...i},a)=>U.createElement(PA,{ref:a,iconNode:e,className:ZE(`lucide-${AA(iw(t))}`,`lucide-${t}`,r),...i}));return n.displayName=iw(t),n};/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NA=[["path",{d:"m12 19-7-7 7-7",key:"1l729n"}],["path",{d:"M19 12H5",key:"x3x0zl"}]],ow=Mn("arrow-left",NA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OA=[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"m12 5 7 7-7 7",key:"xquz4c"}]],DA=Mn("arrow-right",OA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LA=[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}]],aw=Mn("calendar",LA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VA=[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]],Ka=Mn("check",VA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MA=[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]],jA=Mn("circle",MA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FA=[["path",{d:"M18 2h-3a5 5 0 0 0-5 5v3H7v4h3v8h4v-8h3l1-4h-4V7a1 1 0 0 1 1-1h3z",key:"1jg4f8"}]],UA=Mn("facebook",FA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zA=[["rect",{width:"20",height:"20",x:"2",y:"2",rx:"5",ry:"5",key:"2e1cvw"}],["path",{d:"M16 11.37A4 4 0 1 1 12.63 8 4 4 0 0 1 16 11.37z",key:"9exkf1"}],["line",{x1:"17.5",x2:"17.51",y1:"6.5",y2:"6.5",key:"r4j83e"}]],$A=Mn("instagram",zA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BA=[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]],qA=Mn("mail",BA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HA=[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]],Em=Mn("map-pin",HA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WA=[["line",{x1:"4",x2:"20",y1:"12",y2:"12",key:"1e0a9i"}],["line",{x1:"4",x2:"20",y1:"6",y2:"6",key:"1owob3"}],["line",{x1:"4",x2:"20",y1:"18",y2:"18",key:"yk5zj1"}]],KA=Mn("menu",WA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GA=[["path",{d:"M12 3a6 6 0 0 0 9 9 9 9 0 1 1-9-9Z",key:"a7tn18"}]],ZA=Mn("moon",GA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QA=[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]],YA=Mn("phone",QA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JA=[["circle",{cx:"12",cy:"12",r:"4",key:"4exip2"}],["path",{d:"M12 2v2",key:"tus03m"}],["path",{d:"M12 20v2",key:"1lh1kg"}],["path",{d:"m4.93 4.93 1.41 1.41",key:"149t6j"}],["path",{d:"m17.66 17.66 1.41 1.41",key:"ptbguv"}],["path",{d:"M2 12h2",key:"1t8f8n"}],["path",{d:"M20 12h2",key:"1q8mjw"}],["path",{d:"m6.34 17.66-1.41 1.41",key:"1m8zz5"}],["path",{d:"m19.07 4.93-1.41 1.41",key:"1shlcs"}]],XA=Mn("sun",JA);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eR=[["path",{d:"M22 4s-.7 2.1-2 3.4c1.6 10-9.4 17.3-18 11.6 2.2.1 4.4-.6 6-2C3 15.5.5 9.6 3 5c2.2 2.6 5.6 4.1 9 4-.9-4.2 4-6.6 7-3.8 1.1 0 3-1.2 3-1.2z",key:"pff0z6"}]],tR=Mn("twitter",eR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nR=[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]],rR=Mn("users",nR);/**
 * @license lucide-react v0.487.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sR=[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]],iR=Mn("x",sR);function oR(){return T.jsx("footer",{className:"bg-primary text-primary-foreground",children:T.jsxs("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-12",children:[T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8",children:[T.jsxs("div",{children:[T.jsxs("div",{className:"flex items-center space-x-2 mb-4",children:[T.jsx("div",{className:"w-8 h-8 bg-primary-foreground/10 rounded-full flex items-center justify-center",children:T.jsx("span",{className:"text-primary-foreground",children:"KR"})}),T.jsx("span",{className:"text-xl",children:"Kyrgyz Riders"})]}),T.jsx("p",{className:"text-primary-foreground/70 text-sm mb-4",children:"Your gateway to unforgettable adventures in the heart of Central Asia."}),T.jsxs("div",{className:"flex space-x-4",children:[T.jsx("a",{href:"#",className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:T.jsx(UA,{className:"h-5 w-5"})}),T.jsx("a",{href:"#",className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:T.jsx($A,{className:"h-5 w-5"})}),T.jsx("a",{href:"#",className:"text-primary-foreground/70 hover:text-primary-foreground transition-colors",children:T.jsx(tR,{className:"h-5 w-5"})})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg mb-4",children:"Quick Links"}),T.jsxs("ul",{className:"space-y-2 text-primary-foreground/70 text-sm",children:[T.jsx("li",{children:T.jsx(On,{to:"/tours",className:"hover:text-primary-foreground transition-colors",children:"Our Tours"})}),T.jsx("li",{children:T.jsx(On,{to:"/explore",className:"hover:text-primary-foreground transition-colors",children:"Explore Kyrgyzstan"})}),T.jsx("li",{children:T.jsx(On,{to:"/blogs",className:"hover:text-primary-foreground transition-colors",children:"Travel Stories"})}),T.jsx("li",{children:T.jsx(On,{to:"/feedback",className:"hover:text-primary-foreground transition-colors",children:"Feedback"})}),T.jsx("li",{children:T.jsx(On,{to:"/admin/login",className:"hover:text-primary-foreground transition-colors",children:"Admin Login"})})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg mb-4",children:"Popular Tours"}),T.jsxs("ul",{className:"space-y-2 text-primary-foreground/70 text-sm",children:[T.jsx("li",{children:T.jsx(On,{to:"/tours/1",className:"hover:text-primary-foreground transition-colors",children:"Song-Kul Lake Expedition"})}),T.jsx("li",{children:T.jsx(On,{to:"/tours/3",className:"hover:text-primary-foreground transition-colors",children:"Silk Road Heritage"})}),T.jsx("li",{children:T.jsx(On,{to:"/tours/4",className:"hover:text-primary-foreground transition-colors",children:"Horse Riding Adventure"})}),T.jsx("li",{children:T.jsx(On,{to:"/tours/5",className:"hover:text-primary-foreground transition-colors",children:"Peak Lenin Trek"})}),T.jsx("li",{children:T.jsx(On,{to:"/tours/6",className:"hover:text-primary-foreground transition-colors",children:"Issyk-Kul Circuit"})})]})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg mb-4",children:"Contact Us"}),T.jsxs("ul",{className:"space-y-3 text-primary-foreground/70 text-sm",children:[T.jsxs("li",{className:"flex items-start gap-2",children:[T.jsx(Em,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"Bishkek, Kyrgyzstan"})]}),T.jsxs("li",{className:"flex items-start gap-2",children:[T.jsx(YA,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"+996 555 123 456"})]}),T.jsxs("li",{className:"flex items-start gap-2",children:[T.jsx(qA,{className:"h-5 w-5 flex-shrink-0 mt-0.5"}),T.jsx("span",{children:"info@kyrgyzriders.com"})]})]})]})]}),T.jsx("div",{className:"border-t border-primary-foreground/20 mt-8 pt-8 text-center text-primary-foreground/70 text-sm",children:T.jsx("p",{children:" 2025 Kyrgyz Riders. All rights reserved."})})]})})}function lw(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function QE(...t){return e=>{let n=!1;const r=t.map(i=>{const a=lw(i,e);return!n&&typeof a=="function"&&(n=!0),a});if(n)return()=>{for(let i=0;i<r.length;i++){const a=r[i];typeof a=="function"?a():lw(t[i],null)}}}}function Bo(...t){return U.useCallback(QE(...t),t)}var Mu=U.forwardRef((t,e)=>{const{children:n,...r}=t,i=U.Children.toArray(n),a=i.find(lR);if(a){const l=a.props.children,d=i.map(f=>f===a?U.Children.count(l)>1?U.Children.only(null):U.isValidElement(l)?l.props.children:null:f);return T.jsx(Tm,{...r,ref:e,children:U.isValidElement(l)?U.cloneElement(l,void 0,d):null})}return T.jsx(Tm,{...r,ref:e,children:n})});Mu.displayName="Slot";var Tm=U.forwardRef((t,e)=>{const{children:n,...r}=t;if(U.isValidElement(n)){const i=cR(n),a=uR(r,n.props);return n.type!==U.Fragment&&(a.ref=e?QE(e,i):i),U.cloneElement(n,a)}return U.Children.count(n)>1?U.Children.only(null):null});Tm.displayName="SlotClone";var aR=({children:t})=>T.jsx(T.Fragment,{children:t});function lR(t){return U.isValidElement(t)&&t.type===aR}function uR(t,e){const n={...e};for(const r in e){const i=t[r],a=e[r];/^on[A-Z]/.test(r)?i&&a?n[r]=(...d)=>{a(...d),i(...d)}:i&&(n[r]=i):r==="style"?n[r]={...i,...a}:r==="className"&&(n[r]=[i,a].filter(Boolean).join(" "))}return{...t,...n}}function cR(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function YE(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var i=t.length;for(e=0;e<i;e++)t[e]&&(n=YE(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function JE(){for(var t,e,n=0,r="",i=arguments.length;n<i;n++)(t=arguments[n])&&(e=YE(t))&&(r&&(r+=" "),r+=e);return r}const uw=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,cw=JE,dR=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return cw(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:i,defaultVariants:a}=e,l=Object.keys(i).map(p=>{const _=n==null?void 0:n[p],v=a==null?void 0:a[p];if(_===null)return null;const E=uw(_)||uw(v);return i[p][E]}),d=n&&Object.entries(n).reduce((p,_)=>{let[v,E]=_;return E===void 0||(p[v]=E),p},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((p,_)=>{let{class:v,className:E,...x}=_;return Object.entries(x).every(A=>{let[j,R]=A;return Array.isArray(R)?R.includes({...a,...d}[j]):{...a,...d}[j]===R})?[...p,v,E]:p},[]);return cw(t,l,f,n==null?void 0:n.class,n==null?void 0:n.className)},fg="-",hR=t=>{const e=pR(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:l=>{const d=l.split(fg);return d[0]===""&&d.length!==1&&d.shift(),XE(d,e)||fR(l)},getConflictingClassGroupIds:(l,d)=>{const f=n[l]||[];return d&&r[l]?[...f,...r[l]]:f}}},XE=(t,e)=>{var l;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),i=r?XE(t.slice(1),r):void 0;if(i)return i;if(e.validators.length===0)return;const a=t.join(fg);return(l=e.validators.find(({validator:d})=>d(a)))==null?void 0:l.classGroupId},dw=/^\[(.+)\]$/,fR=t=>{if(dw.test(t)){const e=dw.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},pR=t=>{const{theme:e,classGroups:n}=t,r={nextPart:new Map,validators:[]};for(const i in n)Im(n[i],r,i,e);return r},Im=(t,e,n,r)=>{t.forEach(i=>{if(typeof i=="string"){const a=i===""?e:hw(e,i);a.classGroupId=n;return}if(typeof i=="function"){if(mR(i)){Im(i(r),e,n,r);return}e.validators.push({validator:i,classGroupId:n});return}Object.entries(i).forEach(([a,l])=>{Im(l,hw(e,a),n,r)})})},hw=(t,e)=>{let n=t;return e.split(fg).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},mR=t=>t.isThemeGetter,gR=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const i=(a,l)=>{n.set(a,l),e++,e>t&&(e=0,r=n,n=new Map)};return{get(a){let l=n.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return i(a,l),l},set(a,l){n.has(a)?n.set(a,l):i(a,l)}}},bm="!",km=":",yR=km.length,vR=t=>{const{prefix:e,experimentalParseClassName:n}=t;let r=i=>{const a=[];let l=0,d=0,f=0,p;for(let A=0;A<i.length;A++){let j=i[A];if(l===0&&d===0){if(j===km){a.push(i.slice(f,A)),f=A+yR;continue}if(j==="/"){p=A;continue}}j==="["?l++:j==="]"?l--:j==="("?d++:j===")"&&d--}const _=a.length===0?i:i.substring(f),v=_R(_),E=v!==_,x=p&&p>f?p-f:void 0;return{modifiers:a,hasImportantModifier:E,baseClassName:v,maybePostfixModifierPosition:x}};if(e){const i=e+km,a=r;r=l=>l.startsWith(i)?a(l.substring(i.length)):{isExternal:!0,modifiers:[],hasImportantModifier:!1,baseClassName:l,maybePostfixModifierPosition:void 0}}if(n){const i=r;r=a=>n({className:a,parseClassName:i})}return r},_R=t=>t.endsWith(bm)?t.substring(0,t.length-1):t.startsWith(bm)?t.substring(1):t,wR=t=>{const e=Object.fromEntries(t.orderSensitiveModifiers.map(r=>[r,!0]));return r=>{if(r.length<=1)return r;const i=[];let a=[];return r.forEach(l=>{l[0]==="["||e[l]?(i.push(...a.sort(),l),a=[]):a.push(l)}),i.push(...a.sort()),i}},ER=t=>({cache:gR(t.cacheSize),parseClassName:vR(t),sortModifiers:wR(t),...hR(t)}),TR=/\s+/,IR=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:i,sortModifiers:a}=e,l=[],d=t.trim().split(TR);let f="";for(let p=d.length-1;p>=0;p-=1){const _=d[p],{isExternal:v,modifiers:E,hasImportantModifier:x,baseClassName:A,maybePostfixModifierPosition:j}=n(_);if(v){f=_+(f.length>0?" "+f:f);continue}let R=!!j,K=r(R?A.substring(0,j):A);if(!K){if(!R){f=_+(f.length>0?" "+f:f);continue}if(K=r(A),!K){f=_+(f.length>0?" "+f:f);continue}R=!1}const $=a(E).join(":"),ee=x?$+bm:$,J=ee+K;if(l.includes(J))continue;l.push(J);const ce=i(K,R);for(let _e=0;_e<ce.length;++_e){const L=ce[_e];l.push(ee+L)}f=_+(f.length>0?" "+f:f)}return f};function bR(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eT(e))&&(r&&(r+=" "),r+=n);return r}const eT=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eT(t[r]))&&(n&&(n+=" "),n+=e);return n};function kR(t,...e){let n,r,i,a=l;function l(f){const p=e.reduce((_,v)=>v(_),t());return n=ER(p),r=n.cache.get,i=n.cache.set,a=d,d(f)}function d(f){const p=r(f);if(p)return p;const _=IR(f,n);return i(f,_),_}return function(){return a(bR.apply(null,arguments))}}const tn=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tT=/^\[(?:(\w[\w-]*):)?(.+)\]$/i,nT=/^\((?:(\w[\w-]*):)?(.+)\)$/i,SR=/^\d+\/\d+$/,xR=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AR=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,RR=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,CR=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,PR=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Ba=t=>SR.test(t),Qe=t=>!!t&&!Number.isNaN(Number(t)),zi=t=>!!t&&Number.isInteger(Number(t)),Bp=t=>t.endsWith("%")&&Qe(t.slice(0,-1)),si=t=>xR.test(t),NR=()=>!0,OR=t=>AR.test(t)&&!RR.test(t),rT=()=>!1,DR=t=>CR.test(t),LR=t=>PR.test(t),VR=t=>!ke(t)&&!Se(t),MR=t=>El(t,oT,rT),ke=t=>tT.test(t),Do=t=>El(t,aT,OR),qp=t=>El(t,$R,Qe),fw=t=>El(t,sT,rT),jR=t=>El(t,iT,LR),Ad=t=>El(t,lT,DR),Se=t=>nT.test(t),fu=t=>Tl(t,aT),FR=t=>Tl(t,BR),pw=t=>Tl(t,sT),UR=t=>Tl(t,oT),zR=t=>Tl(t,iT),Rd=t=>Tl(t,lT,!0),El=(t,e,n)=>{const r=tT.exec(t);return r?r[1]?e(r[1]):n(r[2]):!1},Tl=(t,e,n=!1)=>{const r=nT.exec(t);return r?r[1]?e(r[1]):n:!1},sT=t=>t==="position"||t==="percentage",iT=t=>t==="image"||t==="url",oT=t=>t==="length"||t==="size"||t==="bg-size",aT=t=>t==="length",$R=t=>t==="number",BR=t=>t==="family-name",lT=t=>t==="shadow",qR=()=>{const t=tn("color"),e=tn("font"),n=tn("text"),r=tn("font-weight"),i=tn("tracking"),a=tn("leading"),l=tn("breakpoint"),d=tn("container"),f=tn("spacing"),p=tn("radius"),_=tn("shadow"),v=tn("inset-shadow"),E=tn("text-shadow"),x=tn("drop-shadow"),A=tn("blur"),j=tn("perspective"),R=tn("aspect"),K=tn("ease"),$=tn("animate"),ee=()=>["auto","avoid","all","avoid-page","page","left","right","column"],J=()=>["center","top","bottom","left","right","top-left","left-top","top-right","right-top","bottom-right","right-bottom","bottom-left","left-bottom"],ce=()=>[...J(),Se,ke],_e=()=>["auto","hidden","clip","visible","scroll"],L=()=>["auto","contain","none"],b=()=>[Se,ke,f],C=()=>[Ba,"full","auto",...b()],D=()=>[zi,"none","subgrid",Se,ke],V=()=>["auto",{span:["full",zi,Se,ke]},zi,Se,ke],P=()=>[zi,"auto",Se,ke],S=()=>["auto","min","max","fr",Se,ke],De=()=>["start","end","center","between","around","evenly","stretch","baseline","center-safe","end-safe"],Le=()=>["start","end","center","stretch","center-safe","end-safe"],me=()=>["auto",...b()],Ne=()=>[Ba,"auto","full","dvw","dvh","lvw","lvh","svw","svh","min","max","fit",...b()],Z=()=>[t,Se,ke],ve=()=>[...J(),pw,fw,{position:[Se,ke]}],pe=()=>["no-repeat",{repeat:["","x","y","space","round"]}],F=()=>["auto","cover","contain",UR,MR,{size:[Se,ke]}],Q=()=>[Bp,fu,Do],le=()=>["","none","full",p,Se,ke],Ee=()=>["",Qe,fu,Do],Me=()=>["solid","dashed","dotted","double"],Ae=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Oe=()=>[Qe,Bp,pw,fw],Ke=()=>["","none",A,Se,ke],Ze=()=>["none",Qe,Se,ke],lt=()=>["none",Qe,Se,ke],Zt=()=>[Qe,Se,ke],hn=()=>[Ba,"full",...b()];return{cacheSize:500,theme:{animate:["spin","ping","pulse","bounce"],aspect:["video"],blur:[si],breakpoint:[si],color:[NR],container:[si],"drop-shadow":[si],ease:["in","out","in-out"],font:[VR],"font-weight":["thin","extralight","light","normal","medium","semibold","bold","extrabold","black"],"inset-shadow":[si],leading:["none","tight","snug","normal","relaxed","loose"],perspective:["dramatic","near","normal","midrange","distant","none"],radius:[si],shadow:[si],spacing:["px",Qe],text:[si],"text-shadow":[si],tracking:["tighter","tight","normal","wide","wider","widest"]},classGroups:{aspect:[{aspect:["auto","square",Ba,ke,Se,R]}],container:["container"],columns:[{columns:[Qe,ke,Se,d]}],"break-after":[{"break-after":ee()}],"break-before":[{"break-before":ee()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],sr:["sr-only","not-sr-only"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:ce()}],overflow:[{overflow:_e()}],"overflow-x":[{"overflow-x":_e()}],"overflow-y":[{"overflow-y":_e()}],overscroll:[{overscroll:L()}],"overscroll-x":[{"overscroll-x":L()}],"overscroll-y":[{"overscroll-y":L()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:C()}],"inset-x":[{"inset-x":C()}],"inset-y":[{"inset-y":C()}],start:[{start:C()}],end:[{end:C()}],top:[{top:C()}],right:[{right:C()}],bottom:[{bottom:C()}],left:[{left:C()}],visibility:["visible","invisible","collapse"],z:[{z:[zi,"auto",Se,ke]}],basis:[{basis:[Ba,"full","auto",d,...b()]}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["nowrap","wrap","wrap-reverse"]}],flex:[{flex:[Qe,Ba,"auto","initial","none",ke]}],grow:[{grow:["",Qe,Se,ke]}],shrink:[{shrink:["",Qe,Se,ke]}],order:[{order:[zi,"first","last","none",Se,ke]}],"grid-cols":[{"grid-cols":D()}],"col-start-end":[{col:V()}],"col-start":[{"col-start":P()}],"col-end":[{"col-end":P()}],"grid-rows":[{"grid-rows":D()}],"row-start-end":[{row:V()}],"row-start":[{"row-start":P()}],"row-end":[{"row-end":P()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":S()}],"auto-rows":[{"auto-rows":S()}],gap:[{gap:b()}],"gap-x":[{"gap-x":b()}],"gap-y":[{"gap-y":b()}],"justify-content":[{justify:[...De(),"normal"]}],"justify-items":[{"justify-items":[...Le(),"normal"]}],"justify-self":[{"justify-self":["auto",...Le()]}],"align-content":[{content:["normal",...De()]}],"align-items":[{items:[...Le(),{baseline:["","last"]}]}],"align-self":[{self:["auto",...Le(),{baseline:["","last"]}]}],"place-content":[{"place-content":De()}],"place-items":[{"place-items":[...Le(),"baseline"]}],"place-self":[{"place-self":["auto",...Le()]}],p:[{p:b()}],px:[{px:b()}],py:[{py:b()}],ps:[{ps:b()}],pe:[{pe:b()}],pt:[{pt:b()}],pr:[{pr:b()}],pb:[{pb:b()}],pl:[{pl:b()}],m:[{m:me()}],mx:[{mx:me()}],my:[{my:me()}],ms:[{ms:me()}],me:[{me:me()}],mt:[{mt:me()}],mr:[{mr:me()}],mb:[{mb:me()}],ml:[{ml:me()}],"space-x":[{"space-x":b()}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":b()}],"space-y-reverse":["space-y-reverse"],size:[{size:Ne()}],w:[{w:[d,"screen",...Ne()]}],"min-w":[{"min-w":[d,"screen","none",...Ne()]}],"max-w":[{"max-w":[d,"screen","none","prose",{screen:[l]},...Ne()]}],h:[{h:["screen",...Ne()]}],"min-h":[{"min-h":["screen","none",...Ne()]}],"max-h":[{"max-h":["screen",...Ne()]}],"font-size":[{text:["base",n,fu,Do]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:[r,Se,qp]}],"font-stretch":[{"font-stretch":["ultra-condensed","extra-condensed","condensed","semi-condensed","normal","semi-expanded","expanded","extra-expanded","ultra-expanded",Bp,ke]}],"font-family":[{font:[FR,ke,e]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:[i,Se,ke]}],"line-clamp":[{"line-clamp":[Qe,"none",Se,qp]}],leading:[{leading:[a,...b()]}],"list-image":[{"list-image":["none",Se,ke]}],"list-style-position":[{list:["inside","outside"]}],"list-style-type":[{list:["disc","decimal","none",Se,ke]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"placeholder-color":[{placeholder:Z()}],"text-color":[{text:Z()}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Me(),"wavy"]}],"text-decoration-thickness":[{decoration:[Qe,"from-font","auto",Se,Do]}],"text-decoration-color":[{decoration:Z()}],"underline-offset":[{"underline-offset":[Qe,"auto",Se,ke]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:b()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Se,ke]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],wrap:[{wrap:["break-word","anywhere","normal"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Se,ke]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:ve()}],"bg-repeat":[{bg:pe()}],"bg-size":[{bg:F()}],"bg-image":[{bg:["none",{linear:[{to:["t","tr","r","br","b","bl","l","tl"]},zi,Se,ke],radial:["",Se,ke],conic:[zi,Se,ke]},zR,jR]}],"bg-color":[{bg:Z()}],"gradient-from-pos":[{from:Q()}],"gradient-via-pos":[{via:Q()}],"gradient-to-pos":[{to:Q()}],"gradient-from":[{from:Z()}],"gradient-via":[{via:Z()}],"gradient-to":[{to:Z()}],rounded:[{rounded:le()}],"rounded-s":[{"rounded-s":le()}],"rounded-e":[{"rounded-e":le()}],"rounded-t":[{"rounded-t":le()}],"rounded-r":[{"rounded-r":le()}],"rounded-b":[{"rounded-b":le()}],"rounded-l":[{"rounded-l":le()}],"rounded-ss":[{"rounded-ss":le()}],"rounded-se":[{"rounded-se":le()}],"rounded-ee":[{"rounded-ee":le()}],"rounded-es":[{"rounded-es":le()}],"rounded-tl":[{"rounded-tl":le()}],"rounded-tr":[{"rounded-tr":le()}],"rounded-br":[{"rounded-br":le()}],"rounded-bl":[{"rounded-bl":le()}],"border-w":[{border:Ee()}],"border-w-x":[{"border-x":Ee()}],"border-w-y":[{"border-y":Ee()}],"border-w-s":[{"border-s":Ee()}],"border-w-e":[{"border-e":Ee()}],"border-w-t":[{"border-t":Ee()}],"border-w-r":[{"border-r":Ee()}],"border-w-b":[{"border-b":Ee()}],"border-w-l":[{"border-l":Ee()}],"divide-x":[{"divide-x":Ee()}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":Ee()}],"divide-y-reverse":["divide-y-reverse"],"border-style":[{border:[...Me(),"hidden","none"]}],"divide-style":[{divide:[...Me(),"hidden","none"]}],"border-color":[{border:Z()}],"border-color-x":[{"border-x":Z()}],"border-color-y":[{"border-y":Z()}],"border-color-s":[{"border-s":Z()}],"border-color-e":[{"border-e":Z()}],"border-color-t":[{"border-t":Z()}],"border-color-r":[{"border-r":Z()}],"border-color-b":[{"border-b":Z()}],"border-color-l":[{"border-l":Z()}],"divide-color":[{divide:Z()}],"outline-style":[{outline:[...Me(),"none","hidden"]}],"outline-offset":[{"outline-offset":[Qe,Se,ke]}],"outline-w":[{outline:["",Qe,fu,Do]}],"outline-color":[{outline:Z()}],shadow:[{shadow:["","none",_,Rd,Ad]}],"shadow-color":[{shadow:Z()}],"inset-shadow":[{"inset-shadow":["none",v,Rd,Ad]}],"inset-shadow-color":[{"inset-shadow":Z()}],"ring-w":[{ring:Ee()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:Z()}],"ring-offset-w":[{"ring-offset":[Qe,Do]}],"ring-offset-color":[{"ring-offset":Z()}],"inset-ring-w":[{"inset-ring":Ee()}],"inset-ring-color":[{"inset-ring":Z()}],"text-shadow":[{"text-shadow":["none",E,Rd,Ad]}],"text-shadow-color":[{"text-shadow":Z()}],opacity:[{opacity:[Qe,Se,ke]}],"mix-blend":[{"mix-blend":[...Ae(),"plus-darker","plus-lighter"]}],"bg-blend":[{"bg-blend":Ae()}],"mask-clip":[{"mask-clip":["border","padding","content","fill","stroke","view"]},"mask-no-clip"],"mask-composite":[{mask:["add","subtract","intersect","exclude"]}],"mask-image-linear-pos":[{"mask-linear":[Qe]}],"mask-image-linear-from-pos":[{"mask-linear-from":Oe()}],"mask-image-linear-to-pos":[{"mask-linear-to":Oe()}],"mask-image-linear-from-color":[{"mask-linear-from":Z()}],"mask-image-linear-to-color":[{"mask-linear-to":Z()}],"mask-image-t-from-pos":[{"mask-t-from":Oe()}],"mask-image-t-to-pos":[{"mask-t-to":Oe()}],"mask-image-t-from-color":[{"mask-t-from":Z()}],"mask-image-t-to-color":[{"mask-t-to":Z()}],"mask-image-r-from-pos":[{"mask-r-from":Oe()}],"mask-image-r-to-pos":[{"mask-r-to":Oe()}],"mask-image-r-from-color":[{"mask-r-from":Z()}],"mask-image-r-to-color":[{"mask-r-to":Z()}],"mask-image-b-from-pos":[{"mask-b-from":Oe()}],"mask-image-b-to-pos":[{"mask-b-to":Oe()}],"mask-image-b-from-color":[{"mask-b-from":Z()}],"mask-image-b-to-color":[{"mask-b-to":Z()}],"mask-image-l-from-pos":[{"mask-l-from":Oe()}],"mask-image-l-to-pos":[{"mask-l-to":Oe()}],"mask-image-l-from-color":[{"mask-l-from":Z()}],"mask-image-l-to-color":[{"mask-l-to":Z()}],"mask-image-x-from-pos":[{"mask-x-from":Oe()}],"mask-image-x-to-pos":[{"mask-x-to":Oe()}],"mask-image-x-from-color":[{"mask-x-from":Z()}],"mask-image-x-to-color":[{"mask-x-to":Z()}],"mask-image-y-from-pos":[{"mask-y-from":Oe()}],"mask-image-y-to-pos":[{"mask-y-to":Oe()}],"mask-image-y-from-color":[{"mask-y-from":Z()}],"mask-image-y-to-color":[{"mask-y-to":Z()}],"mask-image-radial":[{"mask-radial":[Se,ke]}],"mask-image-radial-from-pos":[{"mask-radial-from":Oe()}],"mask-image-radial-to-pos":[{"mask-radial-to":Oe()}],"mask-image-radial-from-color":[{"mask-radial-from":Z()}],"mask-image-radial-to-color":[{"mask-radial-to":Z()}],"mask-image-radial-shape":[{"mask-radial":["circle","ellipse"]}],"mask-image-radial-size":[{"mask-radial":[{closest:["side","corner"],farthest:["side","corner"]}]}],"mask-image-radial-pos":[{"mask-radial-at":J()}],"mask-image-conic-pos":[{"mask-conic":[Qe]}],"mask-image-conic-from-pos":[{"mask-conic-from":Oe()}],"mask-image-conic-to-pos":[{"mask-conic-to":Oe()}],"mask-image-conic-from-color":[{"mask-conic-from":Z()}],"mask-image-conic-to-color":[{"mask-conic-to":Z()}],"mask-mode":[{mask:["alpha","luminance","match"]}],"mask-origin":[{"mask-origin":["border","padding","content","fill","stroke","view"]}],"mask-position":[{mask:ve()}],"mask-repeat":[{mask:pe()}],"mask-size":[{mask:F()}],"mask-type":[{"mask-type":["alpha","luminance"]}],"mask-image":[{mask:["none",Se,ke]}],filter:[{filter:["","none",Se,ke]}],blur:[{blur:Ke()}],brightness:[{brightness:[Qe,Se,ke]}],contrast:[{contrast:[Qe,Se,ke]}],"drop-shadow":[{"drop-shadow":["","none",x,Rd,Ad]}],"drop-shadow-color":[{"drop-shadow":Z()}],grayscale:[{grayscale:["",Qe,Se,ke]}],"hue-rotate":[{"hue-rotate":[Qe,Se,ke]}],invert:[{invert:["",Qe,Se,ke]}],saturate:[{saturate:[Qe,Se,ke]}],sepia:[{sepia:["",Qe,Se,ke]}],"backdrop-filter":[{"backdrop-filter":["","none",Se,ke]}],"backdrop-blur":[{"backdrop-blur":Ke()}],"backdrop-brightness":[{"backdrop-brightness":[Qe,Se,ke]}],"backdrop-contrast":[{"backdrop-contrast":[Qe,Se,ke]}],"backdrop-grayscale":[{"backdrop-grayscale":["",Qe,Se,ke]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[Qe,Se,ke]}],"backdrop-invert":[{"backdrop-invert":["",Qe,Se,ke]}],"backdrop-opacity":[{"backdrop-opacity":[Qe,Se,ke]}],"backdrop-saturate":[{"backdrop-saturate":[Qe,Se,ke]}],"backdrop-sepia":[{"backdrop-sepia":["",Qe,Se,ke]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":b()}],"border-spacing-x":[{"border-spacing-x":b()}],"border-spacing-y":[{"border-spacing-y":b()}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["","all","colors","opacity","shadow","transform","none",Se,ke]}],"transition-behavior":[{transition:["normal","discrete"]}],duration:[{duration:[Qe,"initial",Se,ke]}],ease:[{ease:["linear","initial",K,Se,ke]}],delay:[{delay:[Qe,Se,ke]}],animate:[{animate:["none",$,Se,ke]}],backface:[{backface:["hidden","visible"]}],perspective:[{perspective:[j,Se,ke]}],"perspective-origin":[{"perspective-origin":ce()}],rotate:[{rotate:Ze()}],"rotate-x":[{"rotate-x":Ze()}],"rotate-y":[{"rotate-y":Ze()}],"rotate-z":[{"rotate-z":Ze()}],scale:[{scale:lt()}],"scale-x":[{"scale-x":lt()}],"scale-y":[{"scale-y":lt()}],"scale-z":[{"scale-z":lt()}],"scale-3d":["scale-3d"],skew:[{skew:Zt()}],"skew-x":[{"skew-x":Zt()}],"skew-y":[{"skew-y":Zt()}],transform:[{transform:[Se,ke,"","none","gpu","cpu"]}],"transform-origin":[{origin:ce()}],"transform-style":[{transform:["3d","flat"]}],translate:[{translate:hn()}],"translate-x":[{"translate-x":hn()}],"translate-y":[{"translate-y":hn()}],"translate-z":[{"translate-z":hn()}],"translate-none":["translate-none"],accent:[{accent:Z()}],appearance:[{appearance:["none","auto"]}],"caret-color":[{caret:Z()}],"color-scheme":[{scheme:["normal","dark","light","light-dark","only-dark","only-light"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Se,ke]}],"field-sizing":[{"field-sizing":["fixed","content"]}],"pointer-events":[{"pointer-events":["auto","none"]}],resize:[{resize:["none","","y","x"]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":b()}],"scroll-mx":[{"scroll-mx":b()}],"scroll-my":[{"scroll-my":b()}],"scroll-ms":[{"scroll-ms":b()}],"scroll-me":[{"scroll-me":b()}],"scroll-mt":[{"scroll-mt":b()}],"scroll-mr":[{"scroll-mr":b()}],"scroll-mb":[{"scroll-mb":b()}],"scroll-ml":[{"scroll-ml":b()}],"scroll-p":[{"scroll-p":b()}],"scroll-px":[{"scroll-px":b()}],"scroll-py":[{"scroll-py":b()}],"scroll-ps":[{"scroll-ps":b()}],"scroll-pe":[{"scroll-pe":b()}],"scroll-pt":[{"scroll-pt":b()}],"scroll-pr":[{"scroll-pr":b()}],"scroll-pb":[{"scroll-pb":b()}],"scroll-pl":[{"scroll-pl":b()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Se,ke]}],fill:[{fill:["none",...Z()]}],"stroke-w":[{stroke:[Qe,fu,Do,qp]}],stroke:[{stroke:["none",...Z()]}],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-x","border-w-y","border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-x","border-color-y","border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],translate:["translate-x","translate-y","translate-none"],"translate-none":["translate","translate-x","translate-y","translate-z"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]},orderSensitiveModifiers:["*","**","after","backdrop","before","details-content","file","first-letter","first-line","marker","placeholder","selection"]}},HR=kR(qR);function zr(...t){return HR(JE(t))}const WR=dR("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-all disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg:not([class*='size-'])]:size-4 shrink-0 [&_svg]:shrink-0 outline-none focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px] aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-white hover:bg-destructive/90 focus-visible:ring-destructive/20 dark:focus-visible:ring-destructive/40 dark:bg-destructive/60",outline:"border bg-background text-foreground hover:bg-accent hover:text-accent-foreground dark:bg-input/30 dark:border-input dark:hover:bg-input/50",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground dark:hover:bg-accent/50",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-9 px-4 py-2 has-[>svg]:px-3",sm:"h-8 rounded-md gap-1.5 px-3 has-[>svg]:px-2.5",lg:"h-10 rounded-md px-6 has-[>svg]:px-4",icon:"size-9 rounded-md"}},defaultVariants:{variant:"default",size:"default"}});function Ur({className:t,variant:e,size:n,asChild:r=!1,...i}){const a=r?Mu:"button";return T.jsx(a,{"data-slot":"button",className:zr(WR({variant:e,size:n,className:t})),...i})}const uT="tourism-theme";function KR(){const t=localStorage.getItem(uT);return t==="light"||t==="dark"?t:window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"}function cT(){const[t,e]=U.useState(()=>KR());return U.useEffect(()=>{document.documentElement.classList.toggle("dark",t==="dark"),localStorage.setItem(uT,t)},[t]),{mode:t,setMode:e,toggle:()=>{e(r=>r==="dark"?"light":"dark")}}}function mw(){const{mode:t,toggle:e}=cT();return T.jsx(Ur,{onClick:e,variant:"outline",className:"btn-micro h-9 w-9 rounded-full border-border bg-card text-foreground","aria-label":`Switch to ${t==="dark"?"light":"dark"} mode`,title:`Switch to ${t==="dark"?"light":"dark"} mode`,children:t==="dark"?T.jsx(XA,{className:"h-4 w-4"}):T.jsx(ZA,{className:"h-4 w-4"})})}var gw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dT=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},GR=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){const a=t[n++];e[r++]=String.fromCharCode((i&31)<<6|a&63)}else if(i>239&&i<365){const a=t[n++],l=t[n++],d=t[n++],f=((i&7)<<18|(a&63)<<12|(l&63)<<6|d&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=t[n++],l=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(a&63)<<6|l&63)}}return e.join("")},hT={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){const a=t[i],l=i+1<t.length,d=l?t[i+1]:0,f=i+2<t.length,p=f?t[i+2]:0,_=a>>2,v=(a&3)<<4|d>>4;let E=(d&15)<<2|p>>6,x=p&63;f||(x=64,l||(E=64)),r.push(n[_],n[v],n[E],n[x])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(dT(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):GR(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){const a=n[t.charAt(i++)],d=i<t.length?n[t.charAt(i)]:0;++i;const p=i<t.length?n[t.charAt(i)]:64;++i;const v=i<t.length?n[t.charAt(i)]:64;if(++i,a==null||d==null||p==null||v==null)throw new ZR;const E=a<<2|d>>4;if(r.push(E),p!==64){const x=d<<4&240|p>>2;if(r.push(x),v!==64){const A=p<<6&192|v;r.push(A)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class ZR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const QR=function(t){const e=dT(t);return hT.encodeByteArray(e,!0)},rh=function(t){return QR(t).replace(/\./g,"")},fT=function(t){try{return hT.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JR=()=>YR().__FIREBASE_DEFAULTS__,XR=()=>{if(typeof process>"u"||typeof gw>"u")return;const t=gw.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},eC=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&fT(t[1]);return e&&JSON.parse(e)},Rh=()=>{try{return JR()||XR()||eC()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},pT=t=>{var e,n;return(n=(e=Rh())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},mT=t=>{const e=pT(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},gT=()=>{var t;return(t=Rh())===null||t===void 0?void 0:t.config},yT=t=>{var e;return(e=Rh())===null||e===void 0?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tC{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vT(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,a=t.sub||t.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},t);return[rh(JSON.stringify(n)),rh(JSON.stringify(l)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wn(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function nC(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(wn())}function rC(){var t;const e=(t=Rh())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function sC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function iC(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function oC(){const t=wn();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function aC(){return!rC()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function lC(){try{return typeof indexedDB=="object"}catch{return!1}}function uC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var a;e(((a=i.error)===null||a===void 0?void 0:a.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cC="FirebaseError";class Us extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=cC,Object.setPrototypeOf(this,Us.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ju.prototype.create)}}class Ju{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},i=`${this.service}/${e}`,a=this.errors[e],l=a?dC(a,r):"Error",d=`${this.serviceName}: ${l} (${i}).`;return new Us(i,d,r)}}function dC(t,e){return t.replace(hC,(n,r)=>{const i=e[r];return i!=null?String(i):`<${r}?>`})}const hC=/\{\$([^}]+)}/g;function fC(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function sh(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const i of n){if(!r.includes(i))return!1;const a=t[i],l=e[i];if(yw(a)&&yw(l)){if(!sh(a,l))return!1}else if(a!==l)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function yw(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wu(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[i,a]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(a)}}),e}function Eu(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function pC(t,e){const n=new mC(t,e);return n.subscribe.bind(n)}class mC{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");gC(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Hp),i.error===void 0&&(i.error=Hp),i.complete===void 0&&(i.complete=Hp);const a=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),a}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function gC(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Hp(){}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function St(t){return t&&t._delegate?t._delegate:t}class no{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Vo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yC{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new tC;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),i=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(i)return null;throw a}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_C(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const i=this.normalizeInstanceIdentifier(n);try{const a=this.getOrInitializeService({instanceIdentifier:i});r.resolve(a)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[a,l]of this.instancesDeferred.entries()){const d=this.normalizeInstanceIdentifier(a);r===d&&l.resolve(i)}return i}onInit(e,n){var r;const i=this.normalizeInstanceIdentifier(n),a=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(i,a);const l=this.instances.get(i);return l&&e(l,i),()=>{a.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:vC(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function vC(t){return t===Vo?void 0:t}function _C(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wC{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new yC(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var rt;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(rt||(rt={}));const EC={debug:rt.DEBUG,verbose:rt.VERBOSE,info:rt.INFO,warn:rt.WARN,error:rt.ERROR,silent:rt.SILENT},TC=rt.INFO,IC={[rt.DEBUG]:"log",[rt.VERBOSE]:"log",[rt.INFO]:"info",[rt.WARN]:"warn",[rt.ERROR]:"error"},bC=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),i=IC[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class pg{constructor(e){this.name=e,this._logLevel=TC,this._logHandler=bC,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in rt))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EC[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,rt.DEBUG,...e),this._logHandler(this,rt.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,rt.VERBOSE,...e),this._logHandler(this,rt.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,rt.INFO,...e),this._logHandler(this,rt.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,rt.WARN,...e),this._logHandler(this,rt.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,rt.ERROR,...e),this._logHandler(this,rt.ERROR,...e)}}const kC=(t,e)=>e.some(n=>t instanceof n);let vw,_w;function SC(){return vw||(vw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function xC(){return _w||(_w=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const _T=new WeakMap,Sm=new WeakMap,wT=new WeakMap,Wp=new WeakMap,mg=new WeakMap;function AC(t){const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("success",a),t.removeEventListener("error",l)},a=()=>{n(Ji(t.result)),i()},l=()=>{r(t.error),i()};t.addEventListener("success",a),t.addEventListener("error",l)});return e.then(n=>{n instanceof IDBCursor&&_T.set(n,t)}).catch(()=>{}),mg.set(e,t),e}function RC(t){if(Sm.has(t))return;const e=new Promise((n,r)=>{const i=()=>{t.removeEventListener("complete",a),t.removeEventListener("error",l),t.removeEventListener("abort",l)},a=()=>{n(),i()},l=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",a),t.addEventListener("error",l),t.addEventListener("abort",l)});Sm.set(t,e)}let xm={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Sm.get(t);if(e==="objectStoreNames")return t.objectStoreNames||wT.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ji(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function CC(t){xm=t(xm)}function PC(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Kp(this),e,...n);return wT.set(r,e.sort?e.sort():[e]),Ji(r)}:xC().includes(t)?function(...e){return t.apply(Kp(this),e),Ji(_T.get(this))}:function(...e){return Ji(t.apply(Kp(this),e))}}function NC(t){return typeof t=="function"?PC(t):(t instanceof IDBTransaction&&RC(t),kC(t,SC())?new Proxy(t,xm):t)}function Ji(t){if(t instanceof IDBRequest)return AC(t);if(Wp.has(t))return Wp.get(t);const e=NC(t);return e!==t&&(Wp.set(t,e),mg.set(e,t)),e}const Kp=t=>mg.get(t);function OC(t,e,{blocked:n,upgrade:r,blocking:i,terminated:a}={}){const l=indexedDB.open(t,e),d=Ji(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Ji(l.result),f.oldVersion,f.newVersion,Ji(l.transaction),f)}),n&&l.addEventListener("blocked",f=>n(f.oldVersion,f.newVersion,f)),d.then(f=>{a&&f.addEventListener("close",()=>a()),i&&f.addEventListener("versionchange",p=>i(p.oldVersion,p.newVersion,p))}).catch(()=>{}),d}const DC=["get","getKey","getAll","getAllKeys","count"],LC=["put","add","delete","clear"],Gp=new Map;function ww(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Gp.get(e))return Gp.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,i=LC.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||DC.includes(n)))return;const a=async function(l,...d){const f=this.transaction(l,i?"readwrite":"readonly");let p=f.store;return r&&(p=p.index(d.shift())),(await Promise.all([p[n](...d),i&&f.done]))[0]};return Gp.set(e,a),a}CC(t=>({...t,get:(e,n,r)=>ww(e,n)||t.get(e,n,r),has:(e,n)=>!!ww(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VC{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(MC(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function MC(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Am="@firebase/app",Ew="0.10.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qo=new pg("@firebase/app"),jC="@firebase/app-compat",FC="@firebase/analytics-compat",UC="@firebase/analytics",zC="@firebase/app-check-compat",$C="@firebase/app-check",BC="@firebase/auth",qC="@firebase/auth-compat",HC="@firebase/database",WC="@firebase/database-compat",KC="@firebase/functions",GC="@firebase/functions-compat",ZC="@firebase/installations",QC="@firebase/installations-compat",YC="@firebase/messaging",JC="@firebase/messaging-compat",XC="@firebase/performance",e1="@firebase/performance-compat",t1="@firebase/remote-config",n1="@firebase/remote-config-compat",r1="@firebase/storage",s1="@firebase/storage-compat",i1="@firebase/firestore",o1="@firebase/vertexai-preview",a1="@firebase/firestore-compat",l1="firebase",u1="10.12.5";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rm="[DEFAULT]",c1={[Am]:"fire-core",[jC]:"fire-core-compat",[UC]:"fire-analytics",[FC]:"fire-analytics-compat",[$C]:"fire-app-check",[zC]:"fire-app-check-compat",[BC]:"fire-auth",[qC]:"fire-auth-compat",[HC]:"fire-rtdb",[WC]:"fire-rtdb-compat",[KC]:"fire-fn",[GC]:"fire-fn-compat",[ZC]:"fire-iid",[QC]:"fire-iid-compat",[YC]:"fire-fcm",[JC]:"fire-fcm-compat",[XC]:"fire-perf",[e1]:"fire-perf-compat",[t1]:"fire-rc",[n1]:"fire-rc-compat",[r1]:"fire-gcs",[s1]:"fire-gcs-compat",[i1]:"fire-fst",[a1]:"fire-fst-compat",[o1]:"fire-vertex","fire-js":"fire-js",[l1]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ju=new Map,d1=new Map,Cm=new Map;function Tw(t,e){try{t.container.addComponent(e)}catch(n){qo.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ho(t){const e=t.name;if(Cm.has(e))return qo.debug(`There were multiple attempts to register component ${e}.`),!1;Cm.set(e,t);for(const n of ju.values())Tw(n,t);for(const n of d1.values())Tw(n,t);return!0}function Ch(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Rs(t){return t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h1={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xi=new Ju("app","Firebase",h1);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class f1{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new no("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ea=u1;function ET(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Rm,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Xi.create("bad-app-name",{appName:String(i)});if(n||(n=gT()),!n)throw Xi.create("no-options");const a=ju.get(i);if(a){if(sh(n,a.options)&&sh(r,a.config))return a;throw Xi.create("duplicate-app",{appName:i})}const l=new wC(i);for(const f of Cm.values())l.addComponent(f);const d=new f1(n,r,l);return ju.set(i,d),d}function gg(t=Rm){const e=ju.get(t);if(!e&&t===Rm&&gT())return ET();if(!e)throw Xi.create("no-app",{appName:t});return e}function p1(){return Array.from(ju.values())}function Ns(t,e,n){var r;let i=(r=c1[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);const a=i.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const d=[`Unable to register library "${i}" with version "${e}":`];a&&d.push(`library name "${i}" contains illegal characters (whitespace or "/")`),a&&l&&d.push("and"),l&&d.push(`version name "${e}" contains illegal characters (whitespace or "/")`),qo.warn(d.join(" "));return}Ho(new no(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const m1="firebase-heartbeat-database",g1=1,Fu="firebase-heartbeat-store";let Zp=null;function TT(){return Zp||(Zp=OC(m1,g1,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Fu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Xi.create("idb-open",{originalErrorMessage:t.message})})),Zp}async function y1(t){try{const n=(await TT()).transaction(Fu),r=await n.objectStore(Fu).get(IT(t));return await n.done,r}catch(e){if(e instanceof Us)qo.warn(e.message);else{const n=Xi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});qo.warn(n.message)}}}async function Iw(t,e){try{const r=(await TT()).transaction(Fu,"readwrite");await r.objectStore(Fu).put(e,IT(t)),await r.done}catch(n){if(n instanceof Us)qo.warn(n.message);else{const r=Xi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});qo.warn(r.message)}}}function IT(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v1=1024,_1=720*60*60*1e3;class w1{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new T1(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;const i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=bw();if(!(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null))&&!(this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a)))return this._heartbeatsCache.heartbeats.push({date:a,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(l=>{const d=new Date(l.date).valueOf();return Date.now()-d<=_1}),this._storage.overwrite(this._heartbeatsCache)}async getHeartbeatsHeader(){var e;if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=bw(),{heartbeatsToSend:r,unsentEntries:i}=E1(this._heartbeatsCache.heartbeats),a=rh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}}function bw(){return new Date().toISOString().substring(0,10)}function E1(t,e=v1){const n=[];let r=t.slice();for(const i of t){const a=n.find(l=>l.agent===i.agent);if(a){if(a.dates.push(i.date),kw(n)>e){a.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),kw(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class T1{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return lC()?uC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await y1(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Iw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const i=await this.read();return Iw(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return}}function kw(t){return rh(JSON.stringify({version:2,heartbeats:t})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I1(t){Ho(new no("platform-logger",e=>new VC(e),"PRIVATE")),Ho(new no("heartbeat",e=>new w1(e),"PRIVATE")),Ns(Am,Ew,t),Ns(Am,Ew,"esm2017"),Ns("fire-js","")}I1("");function yg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bT(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b1=bT,kT=new Ju("auth","Firebase",bT());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ih=new pg("@firebase/auth");function k1(t,...e){ih.logLevel<=rt.WARN&&ih.warn(`Auth (${ea}): ${t}`,...e)}function Bd(t,...e){ih.logLevel<=rt.ERROR&&ih.error(`Auth (${ea}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hs(t,...e){throw vg(t,...e)}function Os(t,...e){return vg(t,...e)}function ST(t,e,n){const r=Object.assign(Object.assign({},b1()),{[e]:n});return new Ju("auth","Firebase",r).create(e,{appName:t.name})}function ui(t){return ST(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function vg(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return kT.create(t,...e)}function $e(t,e,...n){if(!t)throw vg(e,...n)}function oi(t){const e="INTERNAL ASSERTION FAILED: "+t;throw Bd(e),new Error(e)}function di(t,e){t||oi(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pm(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function S1(){return Sw()==="http:"||Sw()==="https:"}function Sw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x1(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S1()||sC()||"connection"in navigator)?navigator.onLine:!0}function A1(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ec{constructor(e,n){this.shortDelay=e,this.longDelay=n,di(n>e,"Short delay should be less than long delay!"),this.isMobile=nC()||iC()}get(){return x1()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _g(t,e){di(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xT{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;oi("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;oi("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;oi("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R1={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const C1=new ec(3e4,6e4);function oo(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}async function gi(t,e,n,r,i={}){return AT(t,i,async()=>{let a={},l={};r&&(e==="GET"?l=r:a={body:JSON.stringify(r)});const d=Xu(Object.assign({key:t.config.apiKey},l)).slice(1),f=await t._getAdditionalHeaders();return f["Content-Type"]="application/json",t.languageCode&&(f["X-Firebase-Locale"]=t.languageCode),xT.fetch()(RT(t,t.config.apiHost,n,d),Object.assign({method:e,headers:f,referrerPolicy:"no-referrer"},a))})}async function AT(t,e,n){t._canInitEmulator=!1;const r=Object.assign(Object.assign({},R1),e);try{const i=new N1(t),a=await Promise.race([n(),i.promise]);i.clearNetworkTimeout();const l=await a.json();if("needConfirmation"in l)throw Cd(t,"account-exists-with-different-credential",l);if(a.ok&&!("errorMessage"in l))return l;{const d=a.ok?l.errorMessage:l.error.message,[f,p]=d.split(" : ");if(f==="FEDERATED_USER_ID_ALREADY_LINKED")throw Cd(t,"credential-already-in-use",l);if(f==="EMAIL_EXISTS")throw Cd(t,"email-already-in-use",l);if(f==="USER_DISABLED")throw Cd(t,"user-disabled",l);const _=r[f]||f.toLowerCase().replace(/[_\s]+/g,"-");if(p)throw ST(t,_,p);hs(t,_)}}catch(i){if(i instanceof Us)throw i;hs(t,"network-request-failed",{message:String(i)})}}async function tc(t,e,n,r,i={}){const a=await gi(t,e,n,r,i);return"mfaPendingCredential"in a&&hs(t,"multi-factor-auth-required",{_serverResponse:a}),a}function RT(t,e,n,r){const i=`${e}${n}?${r}`;return t.config.emulator?_g(t.config,i):`${t.config.apiScheme}://${i}`}function P1(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class N1{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Os(this.auth,"network-request-failed")),C1.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}}function Cd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Os(t,e,r);return i.customData._tokenResponse=n,i}function xw(t){return t!==void 0&&t.enterprise!==void 0}class O1{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P1(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}}async function D1(t,e){return gi(t,"GET","/v2/recaptchaConfig",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function L1(t,e){return gi(t,"POST","/v1/accounts:delete",e)}async function CT(t,e){return gi(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xu(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function V1(t,e=!1){const n=St(t),r=await n.getIdToken(e),i=wg(r);$e(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const a=typeof i.firebase=="object"?i.firebase:void 0,l=a==null?void 0:a.sign_in_provider;return{claims:i,token:r,authTime:xu(Qp(i.auth_time)),issuedAtTime:xu(Qp(i.iat)),expirationTime:xu(Qp(i.exp)),signInProvider:l||null,signInSecondFactor:(a==null?void 0:a.sign_in_second_factor)||null}}function Qp(t){return Number(t)*1e3}function wg(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return Bd("JWT malformed, contained fewer than 3 sections"),null;try{const i=fT(n);return i?JSON.parse(i):(Bd("Failed to decode base64 JWT payload"),null)}catch(i){return Bd("Caught error parsing JWT payload as JSON",i==null?void 0:i.toString()),null}}function Aw(t){const e=wg(t);return $e(e,"internal-error"),$e(typeof e.exp<"u","internal-error"),$e(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function ll(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof Us&&M1(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function M1({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class j1{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){const r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;const i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nm{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xu(this.lastLoginAt),this.creationTime=xu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function oh(t){var e;const n=t.auth,r=await t.getIdToken(),i=await ll(t,CT(n,{idToken:r}));$e(i==null?void 0:i.users.length,n,"internal-error");const a=i.users[0];t._notifyReloadListener(a);const l=!((e=a.providerUserInfo)===null||e===void 0)&&e.length?PT(a.providerUserInfo):[],d=U1(t.providerData,l),f=t.isAnonymous,p=!(t.email&&a.passwordHash)&&!(d!=null&&d.length),_=f?p:!1,v={uid:a.localId,displayName:a.displayName||null,photoURL:a.photoUrl||null,email:a.email||null,emailVerified:a.emailVerified||!1,phoneNumber:a.phoneNumber||null,tenantId:a.tenantId||null,providerData:d,metadata:new Nm(a.createdAt,a.lastLoginAt),isAnonymous:_};Object.assign(t,v)}async function F1(t){const e=St(t);await oh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U1(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function PT(t){return t.map(e=>{var{providerId:n}=e,r=yg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function z1(t,e){const n=await AT(t,{},async()=>{const r=Xu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:a}=t.config,l=RT(t,i,"/v1/token",`key=${a}`),d=await t._getAdditionalHeaders();return d["Content-Type"]="application/x-www-form-urlencoded",xT.fetch()(l,{method:"POST",headers:d,body:r})});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function $1(t,e){return gi(t,"POST","/v2/accounts:revokeToken",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xa{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){$e(e.idToken,"internal-error"),$e(typeof e.idToken<"u","internal-error"),$e(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):Aw(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){$e(e.length!==0,"internal-error");const n=Aw(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:($e(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:i,expiresIn:a}=await z1(e,n);this.updateTokensAndExpiration(r,i,Number(a))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:i,expirationTime:a}=n,l=new Xa;return r&&($e(typeof r=="string","internal-error",{appName:e}),l.refreshToken=r),i&&($e(typeof i=="string","internal-error",{appName:e}),l.accessToken=i),a&&($e(typeof a=="number","internal-error",{appName:e}),l.expirationTime=a),l}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Xa,this.toJSON())}_performRefresh(){return oi("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $i(t,e){$e(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ai{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,a=yg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new j1(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=a.displayName||null,this.email=a.email||null,this.emailVerified=a.emailVerified||!1,this.phoneNumber=a.phoneNumber||null,this.photoURL=a.photoURL||null,this.isAnonymous=a.isAnonymous||!1,this.tenantId=a.tenantId||null,this.providerData=a.providerData?[...a.providerData]:[],this.metadata=new Nm(a.createdAt||void 0,a.lastLoginAt||void 0)}async getIdToken(e){const n=await ll(this,this.stsTokenManager.getToken(this.auth,e));return $e(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return V1(this,e)}reload(){return F1(this)}_assign(e){this!==e&&($e(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ai(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){$e(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await oh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Rs(this.auth.app))return Promise.reject(ui(this.auth));const e=await this.getIdToken();return await ll(this,L1(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,a,l,d,f,p,_;const v=(r=n.displayName)!==null&&r!==void 0?r:void 0,E=(i=n.email)!==null&&i!==void 0?i:void 0,x=(a=n.phoneNumber)!==null&&a!==void 0?a:void 0,A=(l=n.photoURL)!==null&&l!==void 0?l:void 0,j=(d=n.tenantId)!==null&&d!==void 0?d:void 0,R=(f=n._redirectEventId)!==null&&f!==void 0?f:void 0,K=(p=n.createdAt)!==null&&p!==void 0?p:void 0,$=(_=n.lastLoginAt)!==null&&_!==void 0?_:void 0,{uid:ee,emailVerified:J,isAnonymous:ce,providerData:_e,stsTokenManager:L}=n;$e(ee&&L,e,"internal-error");const b=Xa.fromJSON(this.name,L);$e(typeof ee=="string",e,"internal-error"),$i(v,e.name),$i(E,e.name),$e(typeof J=="boolean",e,"internal-error"),$e(typeof ce=="boolean",e,"internal-error"),$i(x,e.name),$i(A,e.name),$i(j,e.name),$i(R,e.name),$i(K,e.name),$i($,e.name);const C=new ai({uid:ee,auth:e,email:E,emailVerified:J,displayName:v,isAnonymous:ce,photoURL:A,phoneNumber:x,tenantId:j,stsTokenManager:b,createdAt:K,lastLoginAt:$});return _e&&Array.isArray(_e)&&(C.providerData=_e.map(D=>Object.assign({},D))),R&&(C._redirectEventId=R),C}static async _fromIdTokenResponse(e,n,r=!1){const i=new Xa;i.updateFromServerResponse(n);const a=new ai({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return await oh(a),a}static async _fromGetAccountInfoResponse(e,n,r){const i=n.users[0];$e(i.localId!==void 0,"internal-error");const a=i.providerUserInfo!==void 0?PT(i.providerUserInfo):[],l=!(i.email&&i.passwordHash)&&!(a!=null&&a.length),d=new Xa;d.updateFromIdToken(r);const f=new ai({uid:i.localId,auth:e,stsTokenManager:d,isAnonymous:l}),p={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:a,metadata:new Nm(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!(a!=null&&a.length)};return Object.assign(f,p),f}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rw=new Map;function li(t){di(t instanceof Function,"Expected a class definition");let e=Rw.get(t);return e?(di(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,Rw.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NT{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}NT.type="NONE";const Cw=NT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qd(t,e,n){return`firebase:${t}:${e}:${n}`}class el{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:i,name:a}=this.auth;this.fullUserKey=qd(this.userKey,i.apiKey,a),this.fullPersistenceKey=qd("persistence",i.apiKey,a),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?ai._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new el(li(Cw),e,r);const i=(await Promise.all(n.map(async p=>{if(await p._isAvailable())return p}))).filter(p=>p);let a=i[0]||li(Cw);const l=qd(r,e.config.apiKey,e.name);let d=null;for(const p of n)try{const _=await p._get(l);if(_){const v=ai._fromJSON(e,_);p!==a&&(d=v),a=p;break}}catch{}const f=i.filter(p=>p._shouldAllowMigration);return!a._shouldAllowMigration||!f.length?new el(a,e,r):(a=f[0],d&&await a._set(l,d.toJSON()),await Promise.all(n.map(async p=>{if(p!==a)try{await p._remove(l)}catch{}})),new el(a,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(LT(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(OT(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(MT(e))return"Blackberry";if(jT(e))return"Webos";if(Eg(e))return"Safari";if((e.includes("chrome/")||DT(e))&&!e.includes("edge/"))return"Chrome";if(VT(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function OT(t=wn()){return/firefox\//i.test(t)}function Eg(t=wn()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function DT(t=wn()){return/crios\//i.test(t)}function LT(t=wn()){return/iemobile/i.test(t)}function VT(t=wn()){return/android/i.test(t)}function MT(t=wn()){return/blackberry/i.test(t)}function jT(t=wn()){return/webos/i.test(t)}function Ph(t=wn()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function B1(t=wn()){var e;return Ph(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function q1(){return oC()&&document.documentMode===10}function FT(t=wn()){return Ph(t)||VT(t)||jT(t)||MT(t)||/windows phone/i.test(t)||LT(t)}function H1(){try{return!!(window&&window!==window.top)}catch{return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function UT(t,e=[]){let n;switch(t){case"Browser":n=Pw(wn());break;case"Worker":n=`${Pw(wn())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${ea}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=a=>new Promise((l,d)=>{try{const f=e(a);l(f)}catch(f){d(f)}});r.onAbort=n,this.queue.push(r);const i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function K1(t,e={}){return gi(t,"GET","/v2/passwordPolicy",oo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const G1=6;class Z1{constructor(e){var n,r,i,a;const l=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=l.minPasswordLength)!==null&&n!==void 0?n:G1,l.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=l.maxPasswordLength),l.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=l.containsLowercaseCharacter),l.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=l.containsUppercaseCharacter),l.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=l.containsNumericCharacter),l.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=l.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(a=e.forceUpgradeOnSignin)!==null&&a!==void 0?a:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,a,l,d;const f={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,f),this.validatePasswordCharacterOptions(e,f),f.isValid&&(f.isValid=(n=f.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),f.isValid&&(f.isValid=(r=f.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),f.isValid&&(f.isValid=(i=f.containsLowercaseLetter)!==null&&i!==void 0?i:!0),f.isValid&&(f.isValid=(a=f.containsUppercaseLetter)!==null&&a!==void 0?a:!0),f.isValid&&(f.isValid=(l=f.containsNumericCharacter)!==null&&l!==void 0?l:!0),f.isValid&&(f.isValid=(d=f.containsNonAlphanumericCharacter)!==null&&d!==void 0?d:!0),f}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,a){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q1{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Nw(this),this.idTokenSubscription=new Nw(this),this.beforeStateQueue=new W1(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=kT,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=li(n)),this._initializationPromise=this.queue(async()=>{var r,i;if(!this._deleted&&(this.persistenceManager=await el.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await CT(this,{idToken:e}),r=await ai._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var n;if(Rs(this.app)){const l=this.app.settings.authIdToken;return l?new Promise(d=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(l).then(d,d))}):this.directlySetCurrentUser(null)}const r=await this.assertedPersistence.getCurrentUser();let i=r,a=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const l=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,d=i==null?void 0:i._redirectEventId,f=await this.tryRedirectSignIn(e);(!l||l===d)&&(f!=null&&f.user)&&(i=f.user,a=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(a)try{await this.beforeStateQueue.runMiddleware(i)}catch(l){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(l))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return $e(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await oh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=A1()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Rs(this.app))return Promise.reject(ui(this));const n=e?St(e):null;return n&&$e(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&$e(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Rs(this.app)?Promise.reject(ui(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Rs(this.app)?Promise.reject(ui(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(li(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await K1(this),n=new Z1(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ju("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await $1(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&li(e)||this._popupRedirectResolver;$e(n,this,"argument-error"),this.redirectPersistenceManager=await el.create(this,[li(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};const a=typeof n=="function"?n:n.next.bind(n);let l=!1;const d=this._isInitialized?Promise.resolve():this._initializationPromise;if($e(d,this,"internal-error"),d.then(()=>{l||a(this.currentUser)}),typeof n=="function"){const f=e.addObserver(n,r,i);return()=>{l=!0,f()}}else{const f=e.addObserver(n);return()=>{l=!0,f()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return $e(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=UT(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);const r=await((e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader());r&&(n["X-Firebase-Client"]=r);const i=await this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n}async _getAppCheckToken(){var e;const n=await((e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken());return n!=null&&n.error&&k1(`Error while retrieving App Check token: ${n.error}`),n==null?void 0:n.token}}function ta(t){return St(t)}class Nw{constructor(e){this.auth=e,this.observer=null,this.addObserver=pC(n=>this.observer=n)}get next(){return $e(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Nh={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y1(t){Nh=t}function zT(t){return Nh.loadJS(t)}function J1(){return Nh.recaptchaEnterpriseScript}function X1(){return Nh.gapiScript}function eP(t){return`__${t}${Math.floor(Math.random()*1e6)}`}const tP="recaptcha-enterprise",nP="NO_RECAPTCHA";class rP{constructor(e){this.type=tP,this.auth=ta(e)}async verify(e="verify",n=!1){async function r(a){if(!n){if(a.tenantId==null&&a._agentRecaptchaConfig!=null)return a._agentRecaptchaConfig.siteKey;if(a.tenantId!=null&&a._tenantRecaptchaConfigs[a.tenantId]!==void 0)return a._tenantRecaptchaConfigs[a.tenantId].siteKey}return new Promise(async(l,d)=>{D1(a,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(f=>{if(f.recaptchaKey===void 0)d(new Error("recaptcha Enterprise site key undefined"));else{const p=new O1(f);return a.tenantId==null?a._agentRecaptchaConfig=p:a._tenantRecaptchaConfigs[a.tenantId]=p,l(p.siteKey)}}).catch(f=>{d(f)})})}function i(a,l,d){const f=window.grecaptcha;xw(f)?f.enterprise.ready(()=>{f.enterprise.execute(a,{action:e}).then(p=>{l(p)}).catch(()=>{l(nP)})}):d(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((a,l)=>{r(this.auth).then(d=>{if(!n&&xw(window.grecaptcha))i(d,a,l);else{if(typeof window>"u"){l(new Error("RecaptchaVerifier is only supported in browser"));return}let f=J1();f.length!==0&&(f+=d),zT(f).then(()=>{i(d,a,l)}).catch(p=>{l(p)})}}).catch(d=>{l(d)})})}}async function Ow(t,e,n,r=!1){const i=new rP(t);let a;try{a=await i.verify(n)}catch{a=await i.verify(n,!0)}const l=Object.assign({},e);return r?Object.assign(l,{captchaResp:a}):Object.assign(l,{captchaResponse:a}),Object.assign(l,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(l,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),l}async function Om(t,e,n,r){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const a=await Ow(t,e,n,n==="getOobCode");return r(t,a)}else return r(t,e).catch(async a=>{if(a.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const l=await Ow(t,e,n,n==="getOobCode");return r(t,l)}else return Promise.reject(a)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sP(t,e){const n=Ch(t,"auth");if(n.isInitialized()){const i=n.getImmediate(),a=n.getOptions();if(sh(a,e??{}))return i;hs(i,"already-initialized")}return n.initialize({options:e})}function iP(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(li);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function oP(t,e,n){const r=ta(t);$e(r._canInitEmulator,r,"emulator-config-failed"),$e(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const i=!1,a=$T(e),{host:l,port:d}=aP(e),f=d===null?"":`:${d}`;r.config.emulator={url:`${a}//${l}${f}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:l,port:d,protocol:a.replace(":",""),options:Object.freeze({disableWarnings:i})}),lP()}function $T(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function aP(t){const e=$T(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const a=i[1];return{host:a,port:Dw(r.substr(a.length+1))}}else{const[a,l]=r.split(":");return{host:a,port:Dw(l)}}}function Dw(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function lP(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tg{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return oi("not implemented")}_getIdTokenResponse(e){return oi("not implemented")}_linkToIdToken(e,n){return oi("not implemented")}_getReauthenticationResolver(e){return oi("not implemented")}}async function uP(t,e){return gi(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cP(t,e){return tc(t,"POST","/v1/accounts:signInWithPassword",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dP(t,e){return tc(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}async function hP(t,e){return tc(t,"POST","/v1/accounts:signInWithEmailLink",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uu extends Tg{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new Uu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new Uu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,n,"signInWithPassword",cP);case"emailLink":return dP(e,{email:this._email,oobCode:this._password});default:hs(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Om(e,r,"signUpPassword",uP);case"emailLink":return hP(e,{idToken:n,email:this._email,oobCode:this._password});default:hs(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tl(t,e){return tc(t,"POST","/v1/accounts:signInWithIdp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fP="http://localhost";class Wo extends Tg{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Wo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):hs("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:i}=n,a=yg(n,["providerId","signInMethod"]);if(!r||!i)return null;const l=new Wo(r,i);return l.idToken=a.idToken||void 0,l.accessToken=a.accessToken||void 0,l.secret=a.secret,l.nonce=a.nonce,l.pendingToken=a.pendingToken||null,l}_getIdTokenResponse(e){const n=this.buildRequest();return tl(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,tl(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,tl(e,n)}buildRequest(){const e={requestUri:fP,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Xu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pP(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function mP(t){const e=wu(Eu(t)).link,n=e?wu(Eu(e)).deep_link_id:null,r=wu(Eu(t)).deep_link_id;return(r?wu(Eu(r)).link:null)||r||n||e||t}class Ig{constructor(e){var n,r,i,a,l,d;const f=wu(Eu(e)),p=(n=f.apiKey)!==null&&n!==void 0?n:null,_=(r=f.oobCode)!==null&&r!==void 0?r:null,v=pP((i=f.mode)!==null&&i!==void 0?i:null);$e(p&&_&&v,"argument-error"),this.apiKey=p,this.operation=v,this.code=_,this.continueUrl=(a=f.continueUrl)!==null&&a!==void 0?a:null,this.languageCode=(l=f.languageCode)!==null&&l!==void 0?l:null,this.tenantId=(d=f.tenantId)!==null&&d!==void 0?d:null}static parseLink(e){const n=mP(e);try{return new Ig(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Il{constructor(){this.providerId=Il.PROVIDER_ID}static credential(e,n){return Uu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=Ig.parseLink(n);return $e(r,"argument-error"),Uu._fromEmailAndCode(e,r.code,r.tenantId)}}Il.PROVIDER_ID="password";Il.EMAIL_PASSWORD_SIGN_IN_METHOD="password";Il.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BT{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nc extends BT{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bi extends nc{constructor(){super("facebook.com")}static credential(e){return Wo._fromParams({providerId:Bi.PROVIDER_ID,signInMethod:Bi.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Bi.credentialFromTaggedObject(e)}static credentialFromError(e){return Bi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Bi.credential(e.oauthAccessToken)}catch{return null}}}Bi.FACEBOOK_SIGN_IN_METHOD="facebook.com";Bi.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qi extends nc{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Wo._fromParams({providerId:qi.PROVIDER_ID,signInMethod:qi.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qi.credentialFromTaggedObject(e)}static credentialFromError(e){return qi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qi.credential(n,r)}catch{return null}}}qi.GOOGLE_SIGN_IN_METHOD="google.com";qi.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi extends nc{constructor(){super("github.com")}static credential(e){return Wo._fromParams({providerId:Hi.PROVIDER_ID,signInMethod:Hi.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Hi.credentialFromTaggedObject(e)}static credentialFromError(e){return Hi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Hi.credential(e.oauthAccessToken)}catch{return null}}}Hi.GITHUB_SIGN_IN_METHOD="github.com";Hi.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Wi extends nc{constructor(){super("twitter.com")}static credential(e,n){return Wo._fromParams({providerId:Wi.PROVIDER_ID,signInMethod:Wi.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Wi.credentialFromTaggedObject(e)}static credentialFromError(e){return Wi.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Wi.credential(n,r)}catch{return null}}}Wi.TWITTER_SIGN_IN_METHOD="twitter.com";Wi.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function gP(t,e){return tc(t,"POST","/v1/accounts:signUp",oo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ko{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,i=!1){const a=await ai._fromIdTokenResponse(e,r,i),l=Lw(r);return new Ko({user:a,providerId:l,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const i=Lw(r);return new Ko({user:e,providerId:i,_tokenResponse:r,operationType:n})}}function Lw(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ah extends Us{constructor(e,n,r,i){var a;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,ah.prototype),this.customData={appName:e.name,tenantId:(a=e.tenantId)!==null&&a!==void 0?a:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new ah(e,n,r,i)}}function qT(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(a=>{throw a.code==="auth/multi-factor-auth-required"?ah._fromErrorAndOperation(t,a,e,r):a})}async function yP(t,e,n=!1){const r=await ll(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Ko._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vP(t,e,n=!1){const{auth:r}=t;if(Rs(r.app))return Promise.reject(ui(r));const i="reauthenticate";try{const a=await ll(t,qT(r,i,e,t),n);$e(a.idToken,r,"internal-error");const l=wg(a.idToken);$e(l,r,"internal-error");const{sub:d}=l;return $e(t.uid===d,r,"user-mismatch"),Ko._forOperation(t,i,a)}catch(a){throw(a==null?void 0:a.code)==="auth/user-not-found"&&hs(r,"user-mismatch"),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function HT(t,e,n=!1){if(Rs(t.app))return Promise.reject(ui(t));const r="signIn",i=await qT(t,r,e),a=await Ko._fromIdTokenResponse(t,r,i);return n||await t._updateCurrentUser(a.user),a}async function _P(t,e){return HT(ta(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function WT(t){const e=ta(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function wP(t,e,n){if(Rs(t.app))return Promise.reject(ui(t));const r=ta(t),l=await Om(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",gP).catch(f=>{throw f.code==="auth/password-does-not-meet-requirements"&&WT(t),f}),d=await Ko._fromIdTokenResponse(r,"signIn",l);return await r._updateCurrentUser(d.user),d}function KT(t,e,n){return Rs(t.app)?Promise.reject(ui(t)):_P(St(t),Il.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&WT(t),r})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function EP(t,e){return gi(t,"POST","/v1/accounts:update",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function TP(t,{displayName:e,photoURL:n}){if(e===void 0&&n===void 0)return;const r=St(t),a={idToken:await r.getIdToken(),displayName:e,photoUrl:n,returnSecureToken:!0},l=await ll(r,EP(r.auth,a));r.displayName=l.displayName||null,r.photoURL=l.photoUrl||null;const d=r.providerData.find(({providerId:f})=>f==="password");d&&(d.displayName=r.displayName,d.photoURL=r.photoURL),await r._updateTokensIfNecessary(l)}function IP(t,e,n,r){return St(t).onIdTokenChanged(e,n,r)}function bP(t,e,n){return St(t).beforeAuthStateChanged(e,n)}function kP(t,e,n,r){return St(t).onAuthStateChanged(e,n,r)}function GT(t){return St(t).signOut()}const lh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZT{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(lh,"1"),this.storage.removeItem(lh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SP(){const t=wn();return Eg(t)||Ph(t)}const xP=1e3,AP=10;class QT extends ZT{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.safariLocalStorageNotSynced=SP()&&H1(),this.fallbackToPolling=FT(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),i=this.localCache[n];r!==i&&e(n,i,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((l,d,f)=>{this.notifyListeners(l,f)});return}const r=e.key;if(n?this.detachListener():this.stopPolling(),this.safariLocalStorageNotSynced){const l=this.storage.getItem(r);if(e.newValue!==l)e.newValue!==null?this.storage.setItem(r,e.newValue):this.storage.removeItem(r);else if(this.localCache[r]===e.newValue&&!n)return}const i=()=>{const l=this.storage.getItem(r);!n&&this.localCache[r]===l||this.notifyListeners(r,l)},a=this.storage.getItem(r);q1()&&a!==e.newValue&&e.newValue!==e.oldValue?setTimeout(i,AP):i()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},xP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}QT.type="LOCAL";const RP=QT;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YT extends ZT{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}YT.type="SESSION";const JT=YT;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function CP(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oh{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(i=>i.isListeningto(e));if(n)return n;const r=new Oh(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:i,data:a}=n.data,l=this.handlersMap[i];if(!(l!=null&&l.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:i});const d=Array.from(l).map(async p=>p(n.origin,a)),f=await CP(d);n.ports[0].postMessage({status:"done",eventId:r,eventType:i,response:f})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Oh.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bg(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let a,l;return new Promise((d,f)=>{const p=bg("",20);i.port1.start();const _=setTimeout(()=>{f(new Error("unsupported_event"))},r);l={messageChannel:i,onMessage(v){const E=v;if(E.data.eventId===p)switch(E.data.status){case"ack":clearTimeout(_),a=setTimeout(()=>{f(new Error("timeout"))},3e3);break;case"done":clearTimeout(a),d(E.data.response);break;default:clearTimeout(_),clearTimeout(a),f(new Error("invalid_response"));break}}},this.handlers.add(l),i.port1.addEventListener("message",l.onMessage),this.target.postMessage({eventType:e,eventId:p,data:n},[i.port2])}).finally(()=>{l&&this.removeMessageHandler(l)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(){return window}function NP(t){Ds().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XT(){return typeof Ds().WorkerGlobalScope<"u"&&typeof Ds().importScripts=="function"}async function OP(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function DP(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function LP(){return XT()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eI="firebaseLocalStorageDb",VP=1,uh="firebaseLocalStorage",tI="fbase_key";class rc{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Dh(t,e){return t.transaction([uh],e?"readwrite":"readonly").objectStore(uh)}function MP(){const t=indexedDB.deleteDatabase(eI);return new rc(t).toPromise()}function Dm(){const t=indexedDB.open(eI,VP);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(uh,{keyPath:tI})}catch(i){n(i)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(uh)?e(r):(r.close(),await MP(),e(await Dm()))})})}async function Vw(t,e,n){const r=Dh(t,!0).put({[tI]:e,value:n});return new rc(r).toPromise()}async function jP(t,e){const n=Dh(t,!1).get(e),r=await new rc(n).toPromise();return r===void 0?null:r.value}function Mw(t,e){const n=Dh(t,!0).delete(e);return new rc(n).toPromise()}const FP=800,UP=3;class nI{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Dm(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>UP)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return XT()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Oh._getInstance(LP()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var e,n;if(this.activeServiceWorker=await OP(),!this.activeServiceWorker)return;this.sender=new PP(this.activeServiceWorker);const r=await this.sender._send("ping",{},800);r&&!((e=r[0])===null||e===void 0)&&e.fulfilled&&!((n=r[0])===null||n===void 0)&&n.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||DP()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Dm();return await Vw(e,lh,"1"),await Mw(e,lh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>Vw(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>jP(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>Mw(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(i=>{const a=Dh(i,!1).getAll();return new rc(a).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:i,value:a}of e)r.add(i),JSON.stringify(this.localCache[i])!==JSON.stringify(a)&&(this.notifyListeners(i,a),n.push(i));for(const i of Object.keys(this.localCache))this.localCache[i]&&!r.has(i)&&(this.notifyListeners(i,null),n.push(i));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const i of Array.from(r))i(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),FP)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}nI.type="LOCAL";const zP=nI;new ec(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $P(t,e){return e?li(e):($e(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg extends Tg{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return tl(e,this._buildIdpRequest())}_linkToIdToken(e,n){return tl(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return tl(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function BP(t){return HT(t.auth,new kg(t),t.bypassAuthState)}function qP(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),vP(n,new kg(t),t.bypassAuthState)}async function HP(t){const{auth:e,user:n}=t;return $e(n,e,"internal-error"),yP(n,new kg(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rI{constructor(e,n,r,i,a=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=a,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:i,tenantId:a,error:l,type:d}=e;if(l){this.reject(l);return}const f={auth:this.auth,requestUri:n,sessionId:r,tenantId:a||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(d)(f))}catch(p){this.reject(p)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return BP;case"linkViaPopup":case"linkViaRedirect":return HP;case"reauthViaPopup":case"reauthViaRedirect":return qP;default:hs(this.auth,"internal-error")}}resolve(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){di(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WP=new ec(2e3,1e4);class Ya extends rI{constructor(e,n,r,i,a){super(e,n,i,a),this.provider=r,this.authWindow=null,this.pollId=null,Ya.currentPopupAction&&Ya.currentPopupAction.cancel(),Ya.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return $e(e,this.auth,"internal-error"),e}async onExecution(){di(this.filter.length===1,"Popup operations only handle one event");const e=bg();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(Os(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)===null||e===void 0?void 0:e.associatedEvent)||null}cancel(){this.reject(Os(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,Ya.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if(!((r=(n=this.authWindow)===null||n===void 0?void 0:n.window)===null||r===void 0)&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(Os(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,WP.get())};e()}}Ya.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KP="pendingRedirect",Hd=new Map;class GP extends rI{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Hd.get(this.auth._key());if(!e){try{const r=await ZP(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Hd.set(this.auth._key(),e)}return this.bypassAuthState||Hd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function ZP(t,e){const n=JP(e),r=YP(t);if(!await r._isAvailable())return!1;const i=await r._get(n)==="true";return await r._remove(n),i}function QP(t,e){Hd.set(t._key(),e)}function YP(t){return li(t._redirectPersistence)}function JP(t){return qd(KP,t.config.apiKey,t.name)}async function XP(t,e,n=!1){if(Rs(t.app))return Promise.reject(ui(t));const r=ta(t),i=$P(r,e),l=await new GP(r,i,n).execute();return l&&!n&&(delete l.user._redirectEventId,await r._persistUserIfCurrent(l.user),await r._setRedirectUser(null,e)),l}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eN=600*1e3;class tN{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!nN(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!sI(e)){const i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Os(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=eN&&this.cachedEventUids.clear(),this.cachedEventUids.has(jw(e))}saveEventToCache(e){this.cachedEventUids.add(jw(e)),this.lastProcessedEventTime=Date.now()}}function jw(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function sI({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function nN(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return sI(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rN(t,e={}){return gi(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sN=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,iN=/^https?/;async function oN(t){if(t.config.emulator)return;const{authorizedDomains:e}=await rN(t);for(const n of e)try{if(aN(n))return}catch{}hs(t,"unauthorized-domain")}function aN(t){const e=Pm(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const l=new URL(t);return l.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&l.hostname===r}if(!iN.test(n))return!1;if(sN.test(t))return r===t;const i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lN=new ec(3e4,6e4);function Fw(){const t=Ds().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function uN(t){return new Promise((e,n)=>{var r,i,a;function l(){Fw(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{Fw(),n(Os(t,"network-request-failed"))},timeout:lN.get()})}if(!((i=(r=Ds().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((a=Ds().gapi)===null||a===void 0)&&a.load)l();else{const d=eP("iframefcb");return Ds()[d]=()=>{gapi.load?l():n(Os(t,"network-request-failed"))},zT(`${X1()}?onload=${d}`).catch(f=>n(f))}}).catch(e=>{throw Wd=null,e})}let Wd=null;function cN(t){return Wd=Wd||uN(t),Wd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dN=new ec(5e3,15e3),hN="__/auth/iframe",fN="emulator/auth/iframe",pN={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},mN=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function gN(t){const e=t.config;$e(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?_g(e,fN):`https://${t.config.authDomain}/${hN}`,r={apiKey:e.apiKey,appName:t.name,v:ea},i=mN.get(t.config.apiHost);i&&(r.eid=i);const a=t._getFrameworks();return a.length&&(r.fw=a.join(",")),`${n}?${Xu(r).slice(1)}`}async function yN(t){const e=await cN(t),n=Ds().gapi;return $e(n,t,"internal-error"),e.open({where:document.body,url:gN(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:pN,dontclear:!0},r=>new Promise(async(i,a)=>{await r.restyle({setHideOnLeave:!1});const l=Os(t,"network-request-failed"),d=Ds().setTimeout(()=>{a(l)},dN.get());function f(){Ds().clearTimeout(d),i(r)}r.ping(f).then(f,()=>{a(l)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vN={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},_N=500,wN=600,EN="_blank",TN="http://localhost";class Uw{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function IN(t,e,n,r=_N,i=wN){const a=Math.max((window.screen.availHeight-i)/2,0).toString(),l=Math.max((window.screen.availWidth-r)/2,0).toString();let d="";const f=Object.assign(Object.assign({},vN),{width:r.toString(),height:i.toString(),top:a,left:l}),p=wn().toLowerCase();n&&(d=DT(p)?EN:n),OT(p)&&(e=e||TN,f.scrollbars="yes");const _=Object.entries(f).reduce((E,[x,A])=>`${E}${x}=${A},`,"");if(B1(p)&&d!=="_self")return bN(e||"",d),new Uw(null);const v=window.open(e||"",d,_);$e(v,t,"popup-blocked");try{v.focus()}catch{}return new Uw(v)}function bN(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kN="__/auth/handler",SN="emulator/auth/handler",xN=encodeURIComponent("fac");async function zw(t,e,n,r,i,a){$e(t.config.authDomain,t,"auth-domain-config-required"),$e(t.config.apiKey,t,"invalid-api-key");const l={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:ea,eventId:i};if(e instanceof BT){e.setDefaultLanguage(t.languageCode),l.providerId=e.providerId||"",fC(e.getCustomParameters())||(l.customParameters=JSON.stringify(e.getCustomParameters()));for(const[_,v]of Object.entries({}))l[_]=v}if(e instanceof nc){const _=e.getScopes().filter(v=>v!=="");_.length>0&&(l.scopes=_.join(","))}t.tenantId&&(l.tid=t.tenantId);const d=l;for(const _ of Object.keys(d))d[_]===void 0&&delete d[_];const f=await t._getAppCheckToken(),p=f?`#${xN}=${encodeURIComponent(f)}`:"";return`${AN(t)}?${Xu(d).slice(1)}${p}`}function AN({config:t}){return t.emulator?_g(t,SN):`https://${t.authDomain}/${kN}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Yp="webStorageSupport";class RN{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=JT,this._completeRedirectFn=XP,this._overrideRedirectResult=QP}async _openPopup(e,n,r,i){var a;di((a=this.eventManagers[e._key()])===null||a===void 0?void 0:a.manager,"_initialize() not called before _openPopup()");const l=await zw(e,n,r,Pm(),i);return IN(e,l,bg())}async _openRedirect(e,n,r,i){await this._originValidation(e);const a=await zw(e,n,r,Pm(),i);return NP(a),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:i,promise:a}=this.eventManagers[n];return i?Promise.resolve(i):(di(a,"If manager is not set, promise should be"),a)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await yN(e),r=new tN(e);return n.register("authEvent",i=>($e(i==null?void 0:i.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Yp,{type:Yp},i=>{var a;const l=(a=i==null?void 0:i[0])===null||a===void 0?void 0:a[Yp];l!==void 0&&n(!!l),hs(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=oN(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return FT()||Eg()||Ph()}}const CN=RN;var $w="@firebase/auth",Bw="1.7.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PN{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){$e(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function NN(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function ON(t){Ho(new no("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),a=e.getProvider("app-check-internal"),{apiKey:l,authDomain:d}=r.options;$e(l&&!l.includes(":"),"invalid-api-key",{appName:r.name});const f={apiKey:l,authDomain:d,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:UT(t)},p=new Q1(r,i,a,f);return iP(p,n),p},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ho(new no("auth-internal",e=>{const n=ta(e.getProvider("auth").getImmediate());return(r=>new PN(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),Ns($w,Bw,NN(t)),Ns($w,Bw,"esm2017")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DN=300,LN=yT("authIdTokenMaxAge")||DN;let qw=null;const VN=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>LN)return;const i=n==null?void 0:n.token;qw!==i&&(qw=i,await fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))};function MN(t=gg()){const e=Ch(t,"auth");if(e.isInitialized())return e.getImmediate();const n=sP(t,{popupRedirectResolver:CN,persistence:[zP,RP,JT]}),r=yT("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const a=new URL(r,location.origin);if(location.origin===a.origin){const l=VN(a.toString());bP(n,l,()=>l(n.currentUser)),IP(n,d=>l(d))}}const i=pT("auth");return i&&oP(n,`http://${i}`),n}function jN(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Y1({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{const a=Os("internal-error");a.customData=i,n(a)},r.type="text/javascript",r.charset="UTF-8",jN().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});ON("Browser");var Hw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var zo,iI;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,b){function C(){}C.prototype=b.prototype,L.D=b.prototype,L.prototype=new C,L.prototype.constructor=L,L.C=function(D,V,P){for(var S=Array(arguments.length-2),De=2;De<arguments.length;De++)S[De-2]=arguments[De];return b.prototype[V].apply(D,S)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(L,b,C){C||(C=0);var D=Array(16);if(typeof b=="string")for(var V=0;16>V;++V)D[V]=b.charCodeAt(C++)|b.charCodeAt(C++)<<8|b.charCodeAt(C++)<<16|b.charCodeAt(C++)<<24;else for(V=0;16>V;++V)D[V]=b[C++]|b[C++]<<8|b[C++]<<16|b[C++]<<24;b=L.g[0],C=L.g[1],V=L.g[2];var P=L.g[3],S=b+(P^C&(V^P))+D[0]+3614090360&4294967295;b=C+(S<<7&4294967295|S>>>25),S=P+(V^b&(C^V))+D[1]+3905402710&4294967295,P=b+(S<<12&4294967295|S>>>20),S=V+(C^P&(b^C))+D[2]+606105819&4294967295,V=P+(S<<17&4294967295|S>>>15),S=C+(b^V&(P^b))+D[3]+3250441966&4294967295,C=V+(S<<22&4294967295|S>>>10),S=b+(P^C&(V^P))+D[4]+4118548399&4294967295,b=C+(S<<7&4294967295|S>>>25),S=P+(V^b&(C^V))+D[5]+1200080426&4294967295,P=b+(S<<12&4294967295|S>>>20),S=V+(C^P&(b^C))+D[6]+2821735955&4294967295,V=P+(S<<17&4294967295|S>>>15),S=C+(b^V&(P^b))+D[7]+4249261313&4294967295,C=V+(S<<22&4294967295|S>>>10),S=b+(P^C&(V^P))+D[8]+1770035416&4294967295,b=C+(S<<7&4294967295|S>>>25),S=P+(V^b&(C^V))+D[9]+2336552879&4294967295,P=b+(S<<12&4294967295|S>>>20),S=V+(C^P&(b^C))+D[10]+4294925233&4294967295,V=P+(S<<17&4294967295|S>>>15),S=C+(b^V&(P^b))+D[11]+2304563134&4294967295,C=V+(S<<22&4294967295|S>>>10),S=b+(P^C&(V^P))+D[12]+1804603682&4294967295,b=C+(S<<7&4294967295|S>>>25),S=P+(V^b&(C^V))+D[13]+4254626195&4294967295,P=b+(S<<12&4294967295|S>>>20),S=V+(C^P&(b^C))+D[14]+2792965006&4294967295,V=P+(S<<17&4294967295|S>>>15),S=C+(b^V&(P^b))+D[15]+1236535329&4294967295,C=V+(S<<22&4294967295|S>>>10),S=b+(V^P&(C^V))+D[1]+4129170786&4294967295,b=C+(S<<5&4294967295|S>>>27),S=P+(C^V&(b^C))+D[6]+3225465664&4294967295,P=b+(S<<9&4294967295|S>>>23),S=V+(b^C&(P^b))+D[11]+643717713&4294967295,V=P+(S<<14&4294967295|S>>>18),S=C+(P^b&(V^P))+D[0]+3921069994&4294967295,C=V+(S<<20&4294967295|S>>>12),S=b+(V^P&(C^V))+D[5]+3593408605&4294967295,b=C+(S<<5&4294967295|S>>>27),S=P+(C^V&(b^C))+D[10]+38016083&4294967295,P=b+(S<<9&4294967295|S>>>23),S=V+(b^C&(P^b))+D[15]+3634488961&4294967295,V=P+(S<<14&4294967295|S>>>18),S=C+(P^b&(V^P))+D[4]+3889429448&4294967295,C=V+(S<<20&4294967295|S>>>12),S=b+(V^P&(C^V))+D[9]+568446438&4294967295,b=C+(S<<5&4294967295|S>>>27),S=P+(C^V&(b^C))+D[14]+3275163606&4294967295,P=b+(S<<9&4294967295|S>>>23),S=V+(b^C&(P^b))+D[3]+4107603335&4294967295,V=P+(S<<14&4294967295|S>>>18),S=C+(P^b&(V^P))+D[8]+1163531501&4294967295,C=V+(S<<20&4294967295|S>>>12),S=b+(V^P&(C^V))+D[13]+2850285829&4294967295,b=C+(S<<5&4294967295|S>>>27),S=P+(C^V&(b^C))+D[2]+4243563512&4294967295,P=b+(S<<9&4294967295|S>>>23),S=V+(b^C&(P^b))+D[7]+1735328473&4294967295,V=P+(S<<14&4294967295|S>>>18),S=C+(P^b&(V^P))+D[12]+2368359562&4294967295,C=V+(S<<20&4294967295|S>>>12),S=b+(C^V^P)+D[5]+4294588738&4294967295,b=C+(S<<4&4294967295|S>>>28),S=P+(b^C^V)+D[8]+2272392833&4294967295,P=b+(S<<11&4294967295|S>>>21),S=V+(P^b^C)+D[11]+1839030562&4294967295,V=P+(S<<16&4294967295|S>>>16),S=C+(V^P^b)+D[14]+4259657740&4294967295,C=V+(S<<23&4294967295|S>>>9),S=b+(C^V^P)+D[1]+2763975236&4294967295,b=C+(S<<4&4294967295|S>>>28),S=P+(b^C^V)+D[4]+1272893353&4294967295,P=b+(S<<11&4294967295|S>>>21),S=V+(P^b^C)+D[7]+4139469664&4294967295,V=P+(S<<16&4294967295|S>>>16),S=C+(V^P^b)+D[10]+3200236656&4294967295,C=V+(S<<23&4294967295|S>>>9),S=b+(C^V^P)+D[13]+681279174&4294967295,b=C+(S<<4&4294967295|S>>>28),S=P+(b^C^V)+D[0]+3936430074&4294967295,P=b+(S<<11&4294967295|S>>>21),S=V+(P^b^C)+D[3]+3572445317&4294967295,V=P+(S<<16&4294967295|S>>>16),S=C+(V^P^b)+D[6]+76029189&4294967295,C=V+(S<<23&4294967295|S>>>9),S=b+(C^V^P)+D[9]+3654602809&4294967295,b=C+(S<<4&4294967295|S>>>28),S=P+(b^C^V)+D[12]+3873151461&4294967295,P=b+(S<<11&4294967295|S>>>21),S=V+(P^b^C)+D[15]+530742520&4294967295,V=P+(S<<16&4294967295|S>>>16),S=C+(V^P^b)+D[2]+3299628645&4294967295,C=V+(S<<23&4294967295|S>>>9),S=b+(V^(C|~P))+D[0]+4096336452&4294967295,b=C+(S<<6&4294967295|S>>>26),S=P+(C^(b|~V))+D[7]+1126891415&4294967295,P=b+(S<<10&4294967295|S>>>22),S=V+(b^(P|~C))+D[14]+2878612391&4294967295,V=P+(S<<15&4294967295|S>>>17),S=C+(P^(V|~b))+D[5]+4237533241&4294967295,C=V+(S<<21&4294967295|S>>>11),S=b+(V^(C|~P))+D[12]+1700485571&4294967295,b=C+(S<<6&4294967295|S>>>26),S=P+(C^(b|~V))+D[3]+2399980690&4294967295,P=b+(S<<10&4294967295|S>>>22),S=V+(b^(P|~C))+D[10]+4293915773&4294967295,V=P+(S<<15&4294967295|S>>>17),S=C+(P^(V|~b))+D[1]+2240044497&4294967295,C=V+(S<<21&4294967295|S>>>11),S=b+(V^(C|~P))+D[8]+1873313359&4294967295,b=C+(S<<6&4294967295|S>>>26),S=P+(C^(b|~V))+D[15]+4264355552&4294967295,P=b+(S<<10&4294967295|S>>>22),S=V+(b^(P|~C))+D[6]+2734768916&4294967295,V=P+(S<<15&4294967295|S>>>17),S=C+(P^(V|~b))+D[13]+1309151649&4294967295,C=V+(S<<21&4294967295|S>>>11),S=b+(V^(C|~P))+D[4]+4149444226&4294967295,b=C+(S<<6&4294967295|S>>>26),S=P+(C^(b|~V))+D[11]+3174756917&4294967295,P=b+(S<<10&4294967295|S>>>22),S=V+(b^(P|~C))+D[2]+718787259&4294967295,V=P+(S<<15&4294967295|S>>>17),S=C+(P^(V|~b))+D[9]+3951481745&4294967295,L.g[0]=L.g[0]+b&4294967295,L.g[1]=L.g[1]+(V+(S<<21&4294967295|S>>>11))&4294967295,L.g[2]=L.g[2]+V&4294967295,L.g[3]=L.g[3]+P&4294967295}r.prototype.u=function(L,b){b===void 0&&(b=L.length);for(var C=b-this.blockSize,D=this.B,V=this.h,P=0;P<b;){if(V==0)for(;P<=C;)i(this,L,P),P+=this.blockSize;if(typeof L=="string"){for(;P<b;)if(D[V++]=L.charCodeAt(P++),V==this.blockSize){i(this,D),V=0;break}}else for(;P<b;)if(D[V++]=L[P++],V==this.blockSize){i(this,D),V=0;break}}this.h=V,this.o+=b},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var b=1;b<L.length-8;++b)L[b]=0;var C=8*this.o;for(b=L.length-8;b<L.length;++b)L[b]=C&255,C/=256;for(this.u(L),L=Array(16),b=C=0;4>b;++b)for(var D=0;32>D;D+=8)L[C++]=this.g[b]>>>D&255;return L};function a(L,b){var C=d;return Object.prototype.hasOwnProperty.call(C,L)?C[L]:C[L]=b(L)}function l(L,b){this.h=b;for(var C=[],D=!0,V=L.length-1;0<=V;V--){var P=L[V]|0;D&&P==b||(C[V]=P,D=!1)}this.g=C}var d={};function f(L){return-128<=L&&128>L?a(L,function(b){return new l([b|0],0>b?-1:0)}):new l([L|0],0>L?-1:0)}function p(L){if(isNaN(L)||!isFinite(L))return v;if(0>L)return R(p(-L));for(var b=[],C=1,D=0;L>=C;D++)b[D]=L/C|0,C*=4294967296;return new l(b,0)}function _(L,b){if(L.length==0)throw Error("number format error: empty string");if(b=b||10,2>b||36<b)throw Error("radix out of range: "+b);if(L.charAt(0)=="-")return R(_(L.substring(1),b));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var C=p(Math.pow(b,8)),D=v,V=0;V<L.length;V+=8){var P=Math.min(8,L.length-V),S=parseInt(L.substring(V,V+P),b);8>P?(P=p(Math.pow(b,P)),D=D.j(P).add(p(S))):(D=D.j(C),D=D.add(p(S)))}return D}var v=f(0),E=f(1),x=f(16777216);t=l.prototype,t.m=function(){if(j(this))return-R(this).m();for(var L=0,b=1,C=0;C<this.g.length;C++){var D=this.i(C);L+=(0<=D?D:4294967296+D)*b,b*=4294967296}return L},t.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(A(this))return"0";if(j(this))return"-"+R(this).toString(L);for(var b=p(Math.pow(L,6)),C=this,D="";;){var V=J(C,b).g;C=K(C,V.j(b));var P=((0<C.g.length?C.g[0]:C.h)>>>0).toString(L);if(C=V,A(C))return P+D;for(;6>P.length;)P="0"+P;D=P+D}},t.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function A(L){if(L.h!=0)return!1;for(var b=0;b<L.g.length;b++)if(L.g[b]!=0)return!1;return!0}function j(L){return L.h==-1}t.l=function(L){return L=K(this,L),j(L)?-1:A(L)?0:1};function R(L){for(var b=L.g.length,C=[],D=0;D<b;D++)C[D]=~L.g[D];return new l(C,~L.h).add(E)}t.abs=function(){return j(this)?R(this):this},t.add=function(L){for(var b=Math.max(this.g.length,L.g.length),C=[],D=0,V=0;V<=b;V++){var P=D+(this.i(V)&65535)+(L.i(V)&65535),S=(P>>>16)+(this.i(V)>>>16)+(L.i(V)>>>16);D=S>>>16,P&=65535,S&=65535,C[V]=S<<16|P}return new l(C,C[C.length-1]&-2147483648?-1:0)};function K(L,b){return L.add(R(b))}t.j=function(L){if(A(this)||A(L))return v;if(j(this))return j(L)?R(this).j(R(L)):R(R(this).j(L));if(j(L))return R(this.j(R(L)));if(0>this.l(x)&&0>L.l(x))return p(this.m()*L.m());for(var b=this.g.length+L.g.length,C=[],D=0;D<2*b;D++)C[D]=0;for(D=0;D<this.g.length;D++)for(var V=0;V<L.g.length;V++){var P=this.i(D)>>>16,S=this.i(D)&65535,De=L.i(V)>>>16,Le=L.i(V)&65535;C[2*D+2*V]+=S*Le,$(C,2*D+2*V),C[2*D+2*V+1]+=P*Le,$(C,2*D+2*V+1),C[2*D+2*V+1]+=S*De,$(C,2*D+2*V+1),C[2*D+2*V+2]+=P*De,$(C,2*D+2*V+2)}for(D=0;D<b;D++)C[D]=C[2*D+1]<<16|C[2*D];for(D=b;D<2*b;D++)C[D]=0;return new l(C,0)};function $(L,b){for(;(L[b]&65535)!=L[b];)L[b+1]+=L[b]>>>16,L[b]&=65535,b++}function ee(L,b){this.g=L,this.h=b}function J(L,b){if(A(b))throw Error("division by zero");if(A(L))return new ee(v,v);if(j(L))return b=J(R(L),b),new ee(R(b.g),R(b.h));if(j(b))return b=J(L,R(b)),new ee(R(b.g),b.h);if(30<L.g.length){if(j(L)||j(b))throw Error("slowDivide_ only works with positive integers.");for(var C=E,D=b;0>=D.l(L);)C=ce(C),D=ce(D);var V=_e(C,1),P=_e(D,1);for(D=_e(D,2),C=_e(C,2);!A(D);){var S=P.add(D);0>=S.l(L)&&(V=V.add(C),P=S),D=_e(D,1),C=_e(C,1)}return b=K(L,V.j(b)),new ee(V,b)}for(V=v;0<=L.l(b);){for(C=Math.max(1,Math.floor(L.m()/b.m())),D=Math.ceil(Math.log(C)/Math.LN2),D=48>=D?1:Math.pow(2,D-48),P=p(C),S=P.j(b);j(S)||0<S.l(L);)C-=D,P=p(C),S=P.j(b);A(P)&&(P=E),V=V.add(P),L=K(L,S)}return new ee(V,L)}t.A=function(L){return J(this,L).h},t.and=function(L){for(var b=Math.max(this.g.length,L.g.length),C=[],D=0;D<b;D++)C[D]=this.i(D)&L.i(D);return new l(C,this.h&L.h)},t.or=function(L){for(var b=Math.max(this.g.length,L.g.length),C=[],D=0;D<b;D++)C[D]=this.i(D)|L.i(D);return new l(C,this.h|L.h)},t.xor=function(L){for(var b=Math.max(this.g.length,L.g.length),C=[],D=0;D<b;D++)C[D]=this.i(D)^L.i(D);return new l(C,this.h^L.h)};function ce(L){for(var b=L.g.length+1,C=[],D=0;D<b;D++)C[D]=L.i(D)<<1|L.i(D-1)>>>31;return new l(C,L.h)}function _e(L,b){var C=b>>5;b%=32;for(var D=L.g.length-C,V=[],P=0;P<D;P++)V[P]=0<b?L.i(P+C)>>>b|L.i(P+C+1)<<32-b:L.i(P+C);return new l(V,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,iI=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=p,l.fromString=_,zo=l}).apply(typeof Hw<"u"?Hw:typeof self<"u"?self:typeof window<"u"?window:{});var Pd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var oI,aI,Tu,lI,Kd,Lm,uI,cI,dI;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,g,w){return c==Array.prototype||c==Object.prototype||(c[g]=w.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pd=="object"&&Pd];for(var g=0;g<c.length;++g){var w=c[g];if(w&&w.Math==Math)return w}throw Error("Cannot find global object")}var r=n(this);function i(c,g){if(g)e:{var w=r;c=c.split(".");for(var k=0;k<c.length-1;k++){var B=c[k];if(!(B in w))break e;w=w[B]}c=c[c.length-1],k=w[c],g=g(k),g!=k&&g!=null&&e(w,c,{configurable:!0,writable:!0,value:g})}}function a(c,g){c instanceof String&&(c+="");var w=0,k=!1,B={next:function(){if(!k&&w<c.length){var Y=w++;return{value:g(Y,c[Y]),done:!1}}return k=!0,{done:!0,value:void 0}}};return B[Symbol.iterator]=function(){return B},B}i("Array.prototype.values",function(c){return c||function(){return a(this,function(g,w){return w})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},d=this||self;function f(c){var g=typeof c;return g=g!="object"?g:c?Array.isArray(c)?"array":g:"null",g=="array"||g=="object"&&typeof c.length=="number"}function p(c){var g=typeof c;return g=="object"&&c!=null||g=="function"}function _(c,g,w){return c.call.apply(c.bind,arguments)}function v(c,g,w){if(!c)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var B=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(B,k),c.apply(g,B)}}return function(){return c.apply(g,arguments)}}function E(c,g,w){return E=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?_:v,E.apply(null,arguments)}function x(c,g){var w=Array.prototype.slice.call(arguments,1);return function(){var k=w.slice();return k.push.apply(k,arguments),c.apply(this,k)}}function A(c,g){function w(){}w.prototype=g.prototype,c.aa=g.prototype,c.prototype=new w,c.prototype.constructor=c,c.Qb=function(k,B,Y){for(var fe=Array(arguments.length-2),dt=2;dt<arguments.length;dt++)fe[dt-2]=arguments[dt];return g.prototype[B].apply(k,fe)}}function j(c){const g=c.length;if(0<g){const w=Array(g);for(let k=0;k<g;k++)w[k]=c[k];return w}return[]}function R(c,g){for(let w=1;w<arguments.length;w++){const k=arguments[w];if(f(k)){const B=c.length||0,Y=k.length||0;c.length=B+Y;for(let fe=0;fe<Y;fe++)c[B+fe]=k[fe]}else c.push(k)}}class K{constructor(g,w){this.i=g,this.j=w,this.h=0,this.g=null}get(){let g;return 0<this.h?(this.h--,g=this.g,this.g=g.next,g.next=null):g=this.i(),g}}function $(c){return/^[\s\xa0]*$/.test(c)}function ee(){var c=d.navigator;return c&&(c=c.userAgent)?c:""}function J(c){return J[" "](c),c}J[" "]=function(){};var ce=ee().indexOf("Gecko")!=-1&&!(ee().toLowerCase().indexOf("webkit")!=-1&&ee().indexOf("Edge")==-1)&&!(ee().indexOf("Trident")!=-1||ee().indexOf("MSIE")!=-1)&&ee().indexOf("Edge")==-1;function _e(c,g,w){for(const k in c)g.call(w,c[k],k,c)}function L(c,g){for(const w in c)g.call(void 0,c[w],w,c)}function b(c){const g={};for(const w in c)g[w]=c[w];return g}const C="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function D(c,g){let w,k;for(let B=1;B<arguments.length;B++){k=arguments[B];for(w in k)c[w]=k[w];for(let Y=0;Y<C.length;Y++)w=C[Y],Object.prototype.hasOwnProperty.call(k,w)&&(c[w]=k[w])}}function V(c){var g=1;c=c.split(":");const w=[];for(;0<g&&c.length;)w.push(c.shift()),g--;return c.length&&w.push(c.join(":")),w}function P(c){d.setTimeout(()=>{throw c},0)}function S(){var c=ve;let g=null;return c.g&&(g=c.g,c.g=c.g.next,c.g||(c.h=null),g.next=null),g}class De{constructor(){this.h=this.g=null}add(g,w){const k=Le.get();k.set(g,w),this.h?this.h.next=k:this.g=k,this.h=k}}var Le=new K(()=>new me,c=>c.reset());class me{constructor(){this.next=this.g=this.h=null}set(g,w){this.h=g,this.g=w,this.next=null}reset(){this.next=this.g=this.h=null}}let Ne,Z=!1,ve=new De,pe=()=>{const c=d.Promise.resolve(void 0);Ne=()=>{c.then(F)}};var F=()=>{for(var c;c=S();){try{c.h.call(c.g)}catch(w){P(w)}var g=Le;g.j(c),100>g.h&&(g.h++,c.next=g.g,g.g=c)}Z=!1};function Q(){this.s=this.s,this.C=this.C}Q.prototype.s=!1,Q.prototype.ma=function(){this.s||(this.s=!0,this.N())},Q.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function le(c,g){this.type=c,this.g=this.target=g,this.defaultPrevented=!1}le.prototype.h=function(){this.defaultPrevented=!0};var Ee=(function(){if(!d.addEventListener||!Object.defineProperty)return!1;var c=!1,g=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const w=()=>{};d.addEventListener("test",w,g),d.removeEventListener("test",w,g)}catch{}return c})();function Me(c,g){if(le.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var w=this.type=c.type,k=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=g,g=c.relatedTarget){if(ce){e:{try{J(g.nodeName);var B=!0;break e}catch{}B=!1}B||(g=null)}}else w=="mouseover"?g=c.fromElement:w=="mouseout"&&(g=c.toElement);this.relatedTarget=g,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Ae[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&Me.aa.h.call(this)}}A(Me,le);var Ae={2:"touch",3:"pen",4:"mouse"};Me.prototype.h=function(){Me.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Oe="closure_listenable_"+(1e6*Math.random()|0),Ke=0;function Ze(c,g,w,k,B){this.listener=c,this.proxy=null,this.src=g,this.type=w,this.capture=!!k,this.ha=B,this.key=++Ke,this.da=this.fa=!1}function lt(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function Zt(c){this.src=c,this.g={},this.h=0}Zt.prototype.add=function(c,g,w,k,B){var Y=c.toString();c=this.g[Y],c||(c=this.g[Y]=[],this.h++);var fe=xr(c,g,k,B);return-1<fe?(g=c[fe],w||(g.fa=!1)):(g=new Ze(g,this.src,Y,!!k,B),g.fa=w,c.push(g)),g};function hn(c,g){var w=g.type;if(w in c.g){var k=c.g[w],B=Array.prototype.indexOf.call(k,g,void 0),Y;(Y=0<=B)&&Array.prototype.splice.call(k,B,1),Y&&(lt(g),c.g[w].length==0&&(delete c.g[w],c.h--))}}function xr(c,g,w,k){for(var B=0;B<c.length;++B){var Y=c[B];if(!Y.da&&Y.listener==g&&Y.capture==!!w&&Y.ha==k)return B}return-1}var Qn="closure_lm_"+(1e6*Math.random()|0),ps={};function qr(c,g,w,k,B){if(Array.isArray(g)){for(var Y=0;Y<g.length;Y++)qr(c,g[Y],w,k,B);return null}return w=ge(w),c&&c[Oe]?c.K(g,w,p(k)?!!k.capture:!1,B):Yn(c,g,w,!1,k,B)}function Yn(c,g,w,k,B,Y){if(!g)throw Error("Invalid event type");var fe=p(B)?!!B.capture:!!B,dt=H(c);if(dt||(c[Qn]=dt=new Zt(c)),w=dt.add(g,w,k,fe,Y),w.proxy)return w;if(k=$s(),w.proxy=k,k.src=c,k.listener=w,c.addEventListener)Ee||(B=fe),B===void 0&&(B=!1),c.addEventListener(g.toString(),k,B);else if(c.attachEvent)c.attachEvent(Jn(g.toString()),k);else if(c.addListener&&c.removeListener)c.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return w}function $s(){function c(w){return g.call(c.src,c.listener,w)}const g=O;return c}function sn(c,g,w,k,B){if(Array.isArray(g))for(var Y=0;Y<g.length;Y++)sn(c,g[Y],w,k,B);else k=p(k)?!!k.capture:!!k,w=ge(w),c&&c[Oe]?(c=c.i,g=String(g).toString(),g in c.g&&(Y=c.g[g],w=xr(Y,w,k,B),-1<w&&(lt(Y[w]),Array.prototype.splice.call(Y,w,1),Y.length==0&&(delete c.g[g],c.h--)))):c&&(c=H(c))&&(g=c.g[g.toString()],c=-1,g&&(c=xr(g,w,k,B)),(w=-1<c?g[c]:null)&&Ar(w))}function Ar(c){if(typeof c!="number"&&c&&!c.da){var g=c.src;if(g&&g[Oe])hn(g.i,c);else{var w=c.type,k=c.proxy;g.removeEventListener?g.removeEventListener(w,k,c.capture):g.detachEvent?g.detachEvent(Jn(w),k):g.addListener&&g.removeListener&&g.removeListener(k),(w=H(g))?(hn(w,c),w.h==0&&(w.src=null,g[Qn]=null)):lt(c)}}}function Jn(c){return c in ps?ps[c]:ps[c]="on"+c}function O(c,g){if(c.da)c=!0;else{g=new Me(g,this);var w=c.listener,k=c.ha||c.src;c.fa&&Ar(c),c=w.call(k,g)}return c}function H(c){return c=c[Qn],c instanceof Zt?c:null}var X="__closure_events_fn_"+(1e9*Math.random()>>>0);function ge(c){return typeof c=="function"?c:(c[X]||(c[X]=function(g){return c.handleEvent(g)}),c[X])}function oe(){Q.call(this),this.i=new Zt(this),this.M=this,this.F=null}A(oe,Q),oe.prototype[Oe]=!0,oe.prototype.removeEventListener=function(c,g,w,k){sn(this,c,g,w,k)};function re(c,g){var w,k=c.F;if(k)for(w=[];k;k=k.F)w.push(k);if(c=c.M,k=g.type||g,typeof g=="string")g=new le(g,c);else if(g instanceof le)g.target=g.target||c;else{var B=g;g=new le(k,c),D(g,B)}if(B=!0,w)for(var Y=w.length-1;0<=Y;Y--){var fe=g.g=w[Y];B=ye(fe,k,!0,g)&&B}if(fe=g.g=c,B=ye(fe,k,!0,g)&&B,B=ye(fe,k,!1,g)&&B,w)for(Y=0;Y<w.length;Y++)fe=g.g=w[Y],B=ye(fe,k,!1,g)&&B}oe.prototype.N=function(){if(oe.aa.N.call(this),this.i){var c=this.i,g;for(g in c.g){for(var w=c.g[g],k=0;k<w.length;k++)lt(w[k]);delete c.g[g],c.h--}}this.F=null},oe.prototype.K=function(c,g,w,k){return this.i.add(String(c),g,!1,w,k)},oe.prototype.L=function(c,g,w,k){return this.i.add(String(c),g,!0,w,k)};function ye(c,g,w,k){if(g=c.i.g[String(g)],!g)return!0;g=g.concat();for(var B=!0,Y=0;Y<g.length;++Y){var fe=g[Y];if(fe&&!fe.da&&fe.capture==w){var dt=fe.listener,Jt=fe.ha||fe.src;fe.fa&&hn(c.i,fe),B=dt.call(Jt,k)!==!1&&B}}return B&&!k.defaultPrevented}function Ge(c,g,w){if(typeof c=="function")w&&(c=E(c,w));else if(c&&typeof c.handleEvent=="function")c=E(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(g)?-1:d.setTimeout(c,g||0)}function et(c){c.g=Ge(()=>{c.g=null,c.i&&(c.i=!1,et(c))},c.l);const g=c.h;c.h=null,c.m.apply(null,g)}class ft extends Q{constructor(g,w){super(),this.m=g,this.l=w,this.h=null,this.i=!1,this.g=null}j(g){this.h=arguments,this.g?this.i=!0:et(this)}N(){super.N(),this.g&&(d.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function bn(c){Q.call(this),this.h=c,this.g={}}A(bn,Q);var Hr=[];function Wr(c){_e(c.g,function(g,w){this.g.hasOwnProperty(w)&&Ar(g)},c),c.g={}}bn.prototype.N=function(){bn.aa.N.call(this),Wr(this)},bn.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ms=d.JSON.stringify,Kr=d.JSON.parse,Bs=class{stringify(c){return d.JSON.stringify(c,void 0)}parse(c){return d.JSON.parse(c,void 0)}};function Xn(){}Xn.prototype.h=null;function Un(c){return c.h||(c.h=c.i())}function yi(){}var er={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){le.call(this,"d")}A(gr,le);function qs(){le.call(this,"c")}A(qs,le);var ze={},Tt=null;function It(){return Tt=Tt||new oe}ze.La="serverreachability";function Qt(c){le.call(this,ze.La,c)}A(Qt,le);function tr(c){const g=It();re(g,new Qt(g))}ze.STAT_EVENT="statevent";function At(c,g){le.call(this,ze.STAT_EVENT,c),this.stat=g}A(At,le);function st(c){const g=It();re(g,new At(g,c))}ze.Ma="timingevent";function Gr(c,g){le.call(this,ze.Ma,c),this.size=g}A(Gr,le);function Rt(c,g){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return d.setTimeout(function(){c()},g)}function Yt(){this.g=!0}Yt.prototype.xa=function(){this.g=!1};function gs(c,g,w,k,B,Y){c.info(function(){if(c.g)if(Y)for(var fe="",dt=Y.split("&"),Jt=0;Jt<dt.length;Jt++){var it=dt[Jt].split("=");if(1<it.length){var on=it[0];it=it[1];var $t=on.split("_");fe=2<=$t.length&&$t[1]=="type"?fe+(on+"="+it+"&"):fe+(on+"=redacted&")}}else fe=null;else fe=Y;return"XMLHTTP REQ ("+k+") [attempt "+B+"]: "+g+`
`+w+`
`+fe})}function nr(c,g,w,k,B,Y,fe){c.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+B+"]: "+g+`
`+w+`
`+Y+" "+fe})}function Rr(c,g,w,k){c.info(function(){return"XMLHTTP TEXT ("+g+"): "+df(c,w)+(k?" "+k:"")})}function Pl(c,g){c.info(function(){return"TIMEOUT: "+g})}Yt.prototype.info=function(){};function df(c,g){if(!c.g)return g;if(!g)return null;try{var w=JSON.parse(g);if(w){for(c=0;c<w.length;c++)if(Array.isArray(w[c])){var k=w[c];if(!(2>k.length)){var B=k[1];if(Array.isArray(B)&&!(1>B.length)){var Y=B[0];if(Y!="noop"&&Y!="stop"&&Y!="close")for(var fe=1;fe<B.length;fe++)B[fe]=""}}}}return ms(w)}catch{return g}}var aa={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},fc={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},Zr;function fo(){}A(fo,Xn),fo.prototype.g=function(){return new XMLHttpRequest},fo.prototype.i=function(){return{}},Zr=new fo;function Qr(c,g,w,k){this.j=c,this.i=g,this.l=w,this.R=k||1,this.U=new bn(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new pc}function pc(){this.i=null,this.g="",this.h=!1}var Nl={},la={};function ua(c,g,w){c.L=1,c.v=Ti(vr(g)),c.m=w,c.P=!0,Ol(c,null)}function Ol(c,g){c.F=Date.now(),gt(c),c.A=vr(c.v);var w=c.A,k=c.R;Array.isArray(k)||(k=[String(k)]),bi(w.i,"t",k),c.C=0,w=c.j.J,c.h=new pc,c.g=Nc(c.j,w?g:null,!c.m),0<c.O&&(c.M=new ft(E(c.Y,c,c.g),c.O)),g=c.U,w=c.g,k=c.ca;var B="readystatechange";Array.isArray(B)||(B&&(Hr[0]=B.toString()),B=Hr);for(var Y=0;Y<B.length;Y++){var fe=qr(w,B[Y],k||g.handleEvent,!1,g.h||g);if(!fe)break;g.g[fe.key]=fe}g=c.H?b(c.H):{},c.m?(c.u||(c.u="POST"),g["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,g)):(c.u="GET",c.g.ea(c.A,c.u,null,g)),tr(),gs(c.i,c.u,c.A,c.l,c.R,c.m)}Qr.prototype.ca=function(c){c=c.target;const g=this.M;g&&sr(c)==3?g.j():this.Y(c)},Qr.prototype.Y=function(c){try{if(c==this.g)e:{const $t=sr(this.g);var g=this.g.Ba();const Nr=this.g.Z();if(!(3>$t)&&($t!=3||this.g&&(this.h.h||this.g.oa()||Fl(this.g)))){this.J||$t!=4||g==7||(g==8||0>=Nr?tr(3):tr(2)),po(this);var w=this.g.Z();this.X=w;t:if(mc(this)){var k=Fl(this.g);c="";var B=k.length,Y=sr(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Cr(this),vi(this);var fe="";break t}this.h.i=new d.TextDecoder}for(g=0;g<B;g++)this.h.h=!0,c+=this.h.i.decode(k[g],{stream:!(Y&&g==B-1)});k.length=0,this.h.g+=c,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=w==200,nr(this.i,this.u,this.A,this.l,this.R,$t,w),this.o){if(this.T&&!this.K){t:{if(this.g){var dt,Jt=this.g;if((dt=Jt.g?Jt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!$(dt)){var it=dt;break t}}it=null}if(w=it)Rr(this.i,this.l,w,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Dl(this,w);else{this.o=!1,this.s=3,st(12),Cr(this),vi(this);break e}}if(this.P){w=!0;let wr;for(;!this.J&&this.C<fe.length;)if(wr=hf(this,fe),wr==la){$t==4&&(this.s=4,st(14),w=!1),Rr(this.i,this.l,null,"[Incomplete Response]");break}else if(wr==Nl){this.s=4,st(15),Rr(this.i,this.l,fe,"[Invalid Chunk]"),w=!1;break}else Rr(this.i,this.l,wr,null),Dl(this,wr);if(mc(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),$t!=4||fe.length!=0||this.h.h||(this.s=1,st(16),w=!1),this.o=this.o&&w,!w)Rr(this.i,this.l,fe,"[Invalid Chunked Response]"),Cr(this),vi(this);else if(0<fe.length&&!this.W){this.W=!0;var on=this.j;on.g==this&&on.ba&&!on.M&&(on.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),zl(on),on.M=!0,st(11))}}else Rr(this.i,this.l,fe,null),Dl(this,fe);$t==4&&Cr(this),this.o&&!this.J&&($t==4?wa(this.j,this):(this.o=!1,gt(this)))}else ma(this.g),w==400&&0<fe.indexOf("Unknown SID")?(this.s=3,st(12)):(this.s=0,st(13)),Cr(this),vi(this)}}}catch{}finally{}};function mc(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function hf(c,g){var w=c.C,k=g.indexOf(`
`,w);return k==-1?la:(w=Number(g.substring(w,k)),isNaN(w)?Nl:(k+=1,k+w>g.length?la:(g=g.slice(k,k+w),c.C=k+w,g)))}Qr.prototype.cancel=function(){this.J=!0,Cr(this)};function gt(c){c.S=Date.now()+c.I,gc(c,c.I)}function gc(c,g){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Rt(E(c.ba,c),g)}function po(c){c.B&&(d.clearTimeout(c.B),c.B=null)}Qr.prototype.ba=function(){this.B=null;const c=Date.now();0<=c-this.S?(Pl(this.i,this.A),this.L!=2&&(tr(),st(17)),Cr(this),this.s=2,vi(this)):gc(this,this.S-c)};function vi(c){c.j.G==0||c.J||wa(c.j,c)}function Cr(c){po(c);var g=c.M;g&&typeof g.ma=="function"&&g.ma(),c.M=null,Wr(c.U),c.g&&(g=c.g,c.g=null,g.abort(),g.ma())}function Dl(c,g){try{var w=c.j;if(w.G!=0&&(w.g==c||zn(w.h,c))){if(!c.K&&zn(w.h,c)&&w.G==3){try{var k=w.Da.g.parse(g)}catch{k=null}if(Array.isArray(k)&&k.length==3){var B=k;if(B[0]==0){e:if(!w.u){if(w.g)if(w.g.F+3e3<c.F)_a(w),ts(w);else break e;va(w),st(18)}}else w.za=B[1],0<w.za-w.T&&37500>B[2]&&w.F&&w.v==0&&!w.C&&(w.C=Rt(E(w.Za,w),6e3));if(1>=vc(w.h)&&w.ca){try{w.ca()}catch{}w.ca=void 0}}else Gs(w,11)}else if((c.K||w.g==c)&&_a(w),!$(g))for(B=w.Da.g.parse(g),g=0;g<B.length;g++){let it=B[g];if(w.T=it[0],it=it[1],w.G==2)if(it[0]=="c"){w.K=it[1],w.ia=it[2];const on=it[3];on!=null&&(w.la=on,w.j.info("VER="+w.la));const $t=it[4];$t!=null&&(w.Aa=$t,w.j.info("SVER="+w.Aa));const Nr=it[5];Nr!=null&&typeof Nr=="number"&&0<Nr&&(k=1.5*Nr,w.L=k,w.j.info("backChannelRequestTimeoutMs_="+k)),k=w;const wr=c.g;if(wr){const Eo=wr.g?wr.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Eo){var Y=k.h;Y.g||Eo.indexOf("spdy")==-1&&Eo.indexOf("quic")==-1&&Eo.indexOf("h2")==-1||(Y.j=Y.l,Y.g=new Set,Y.h&&(Ll(Y,Y.h),Y.h=null))}if(k.D){const Ta=wr.g?wr.g.getResponseHeader("X-HTTP-Session-Id"):null;Ta&&(k.ya=Ta,pt(k.I,k.D,Ta))}}w.G=3,w.l&&w.l.ua(),w.ba&&(w.R=Date.now()-c.F,w.j.info("Handshake RTT: "+w.R+"ms")),k=w;var fe=c;if(k.qa=Pc(k,k.J?k.ia:null,k.W),fe.K){_c(k.h,fe);var dt=fe,Jt=k.L;Jt&&(dt.I=Jt),dt.B&&(po(dt),gt(dt)),k.g=fe}else wo(k);0<w.i.length&&Es(w)}else it[0]!="stop"&&it[0]!="close"||Gs(w,7);else w.G==3&&(it[0]=="stop"||it[0]=="close"?it[0]=="stop"?Gs(w,7):pn(w):it[0]!="noop"&&w.l&&w.l.ta(it),w.v=0)}}tr(4)}catch{}}var yc=class{constructor(c,g){this.g=c,this.map=g}};function mo(c){this.l=c||10,d.PerformanceNavigationTiming?(c=d.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(d.chrome&&d.chrome.loadTimes&&d.chrome.loadTimes()&&d.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function yr(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function vc(c){return c.h?1:c.g?c.g.size:0}function zn(c,g){return c.h?c.h==g:c.g?c.g.has(g):!1}function Ll(c,g){c.g?c.g.add(g):c.h=g}function _c(c,g){c.h&&c.h==g?c.h=null:c.g&&c.g.has(g)&&c.g.delete(g)}mo.prototype.cancel=function(){if(this.i=wc(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function wc(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let g=c.i;for(const w of c.g.values())g=g.concat(w.D);return g}return j(c.i)}function ca(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(f(c)){for(var g=[],w=c.length,k=0;k<w;k++)g.push(c[k]);return g}g=[],w=0;for(k in c)g[w++]=c[k];return g}function da(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(f(c)||typeof c=="string"){var g=[];c=c.length;for(var w=0;w<c;w++)g.push(w);return g}g=[],w=0;for(const k in c)g[w++]=k;return g}}}function _i(c,g){if(c.forEach&&typeof c.forEach=="function")c.forEach(g,void 0);else if(f(c)||typeof c=="string")Array.prototype.forEach.call(c,g,void 0);else for(var w=da(c),k=ca(c),B=k.length,Y=0;Y<B;Y++)g.call(void 0,k[Y],w&&w[Y],c)}var go=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function ff(c,g){if(c){c=c.split("&");for(var w=0;w<c.length;w++){var k=c[w].indexOf("="),B=null;if(0<=k){var Y=c[w].substring(0,k);B=c[w].substring(k+1)}else Y=c[w];g(Y,B?decodeURIComponent(B.replace(/\+/g," ")):"")}}}function Hs(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Hs){this.h=c.h,yo(this,c.j),this.o=c.o,this.g=c.g,wi(this,c.s),this.l=c.l;var g=c.i,w=new ys;w.i=g.i,g.g&&(w.g=new Map(g.g),w.h=g.h),Ei(this,w),this.m=c.m}else c&&(g=String(c).match(go))?(this.h=!1,yo(this,g[1]||"",!0),this.o=nt(g[2]||""),this.g=nt(g[3]||"",!0),wi(this,g[4]),this.l=nt(g[5]||"",!0),Ei(this,g[6]||"",!0),this.m=nt(g[7]||"")):(this.h=!1,this.i=new ys(null,this.h))}Hs.prototype.toString=function(){var c=[],g=this.j;g&&c.push(Ii(g,ha,!0),":");var w=this.g;return(w||g=="file")&&(c.push("//"),(g=this.o)&&c.push(Ii(g,ha,!0),"@"),c.push(encodeURIComponent(String(w)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),w=this.s,w!=null&&c.push(":",String(w))),(w=this.l)&&(this.g&&w.charAt(0)!="/"&&c.push("/"),c.push(Ii(w,w.charAt(0)=="/"?Ic:Tc,!0))),(w=this.i.toString())&&c.push("?",w),(w=this.m)&&c.push("#",Ii(w,Vl)),c.join("")};function vr(c){return new Hs(c)}function yo(c,g,w){c.j=w?nt(g,!0):g,c.j&&(c.j=c.j.replace(/:$/,""))}function wi(c,g){if(g){if(g=Number(g),isNaN(g)||0>g)throw Error("Bad port number "+g);c.s=g}else c.s=null}function Ei(c,g,w){g instanceof ys?(c.i=g,vs(c.i,c.h)):(w||(g=Ii(g,bc)),c.i=new ys(g,c.h))}function pt(c,g,w){c.i.set(g,w)}function Ti(c){return pt(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function nt(c,g){return c?g?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ii(c,g,w){return typeof c=="string"?(c=encodeURI(c).replace(g,Ec),w&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Ec(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var ha=/[#\/\?@]/g,Tc=/[#\?:]/g,Ic=/[#\?]/g,bc=/[#\?@]/g,Vl=/#/g;function ys(c,g){this.h=this.g=null,this.i=c||null,this.j=!!g}function fn(c){c.g||(c.g=new Map,c.h=0,c.i&&ff(c.i,function(g,w){c.add(decodeURIComponent(g.replace(/\+/g," ")),w)}))}t=ys.prototype,t.add=function(c,g){fn(this),this.i=null,c=Pr(this,c);var w=this.g.get(c);return w||this.g.set(c,w=[]),w.push(g),this.h+=1,this};function Yr(c,g){fn(c),g=Pr(c,g),c.g.has(g)&&(c.i=null,c.h-=c.g.get(g).length,c.g.delete(g))}function Jr(c,g){return fn(c),g=Pr(c,g),c.g.has(g)}t.forEach=function(c,g){fn(this),this.g.forEach(function(w,k){w.forEach(function(B){c.call(g,B,k,this)},this)},this)},t.na=function(){fn(this);const c=Array.from(this.g.values()),g=Array.from(this.g.keys()),w=[];for(let k=0;k<g.length;k++){const B=c[k];for(let Y=0;Y<B.length;Y++)w.push(g[k])}return w},t.V=function(c){fn(this);let g=[];if(typeof c=="string")Jr(this,c)&&(g=g.concat(this.g.get(Pr(this,c))));else{c=Array.from(this.g.values());for(let w=0;w<c.length;w++)g=g.concat(c[w])}return g},t.set=function(c,g){return fn(this),this.i=null,c=Pr(this,c),Jr(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[g]),this.h+=1,this},t.get=function(c,g){return c?(c=this.V(c),0<c.length?String(c[0]):g):g};function bi(c,g,w){Yr(c,g),0<w.length&&(c.i=null,c.g.set(Pr(c,g),j(w)),c.h+=w.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],g=Array.from(this.g.keys());for(var w=0;w<g.length;w++){var k=g[w];const Y=encodeURIComponent(String(k)),fe=this.V(k);for(k=0;k<fe.length;k++){var B=Y;fe[k]!==""&&(B+="="+encodeURIComponent(String(fe[k]))),c.push(B)}}return this.i=c.join("&")};function Pr(c,g){return g=String(g),c.j&&(g=g.toLowerCase()),g}function vs(c,g){g&&!c.j&&(fn(c),c.i=null,c.g.forEach(function(w,k){var B=k.toLowerCase();k!=B&&(Yr(this,k),bi(this,B,w))},c)),c.j=g}function pf(c,g){const w=new Yt;if(d.Image){const k=new Image;k.onload=x(rr,w,"TestLoadImage: loaded",!0,g,k),k.onerror=x(rr,w,"TestLoadImage: error",!1,g,k),k.onabort=x(rr,w,"TestLoadImage: abort",!1,g,k),k.ontimeout=x(rr,w,"TestLoadImage: timeout",!1,g,k),d.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=c}else g(!1)}function kc(c,g){const w=new Yt,k=new AbortController,B=setTimeout(()=>{k.abort(),rr(w,"TestPingServer: timeout",!1,g)},1e4);fetch(c,{signal:k.signal}).then(Y=>{clearTimeout(B),Y.ok?rr(w,"TestPingServer: ok",!0,g):rr(w,"TestPingServer: server error",!1,g)}).catch(()=>{clearTimeout(B),rr(w,"TestPingServer: error",!1,g)})}function rr(c,g,w,k,B){try{B&&(B.onload=null,B.onerror=null,B.onabort=null,B.ontimeout=null),k(w)}catch{}}function mf(){this.g=new Bs}function Sc(c,g,w){const k=w||"";try{_i(c,function(B,Y){let fe=B;p(B)&&(fe=ms(B)),g.push(k+Y+"="+encodeURIComponent(fe))})}catch(B){throw g.push(k+"type="+encodeURIComponent("_badmap")),B}}function _s(c){this.l=c.Ub||null,this.j=c.eb||!1}A(_s,Xn),_s.prototype.g=function(){return new vo(this.l,this.j)},_s.prototype.i=(function(c){return function(){return c}})({});function vo(c,g){oe.call(this),this.D=c,this.o=g,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}A(vo,oe),t=vo.prototype,t.open=function(c,g){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=g,this.readyState=1,es(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const g={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(g.body=c),(this.D||d).fetch(new Request(this.A,g)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xr(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,es(this)),this.g&&(this.readyState=3,es(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof d.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;xc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function xc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var g=c.value?c.value:new Uint8Array(0);(g=this.v.decode(g,{stream:!c.done}))&&(this.response=this.responseText+=g)}c.done?Xr(this):es(this),this.readyState==3&&xc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,Xr(this))},t.Qa=function(c){this.g&&(this.response=c,Xr(this))},t.ga=function(){this.g&&Xr(this)};function Xr(c){c.readyState=4,c.l=null,c.j=null,c.v=null,es(c)}t.setRequestHeader=function(c,g){this.u.append(c,g)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],g=this.h.entries();for(var w=g.next();!w.done;)w=w.value,c.push(w[0]+": "+w[1]),w=g.next();return c.join(`\r
`)};function es(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(vo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ws(c){let g="";return _e(c,function(w,k){g+=k,g+=":",g+=w,g+=`\r
`}),g}function ki(c,g,w){e:{for(k in w){var k=!1;break e}k=!0}k||(w=Ws(w),typeof c=="string"?w!=null&&encodeURIComponent(String(w)):pt(c,g,w))}function bt(c){oe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}A(bt,oe);var gf=/^https?$/i,Ml=["POST","PUT"];t=bt.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,g,w,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);g=g?g.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Zr.g(),this.v=this.o?Un(this.o):Un(Zr),this.g.onreadystatechange=E(this.Ea,this);try{this.B=!0,this.g.open(g,String(c),!0),this.B=!1}catch(Y){_o(this,Y);return}if(c=w||"",w=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var B in k)w.set(B,k[B]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const Y of k.keys())w.set(Y,k.get(Y));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(w.keys()).find(Y=>Y.toLowerCase()=="content-type"),B=d.FormData&&c instanceof d.FormData,!(0<=Array.prototype.indexOf.call(Ml,g,void 0))||k||B||w.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[Y,fe]of w)this.g.setRequestHeader(Y,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{pa(this),this.u=!0,this.g.send(c),this.u=!1}catch(Y){_o(this,Y)}};function _o(c,g){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=g,c.m=5,fa(c),_r(c)}function fa(c){c.A||(c.A=!0,re(c,"complete"),re(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,re(this,"complete"),re(this,"abort"),_r(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),_r(this,!0)),bt.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?jl(this):this.bb())},t.bb=function(){jl(this)};function jl(c){if(c.h&&typeof l<"u"&&(!c.v[1]||sr(c)!=4||c.Z()!=2)){if(c.u&&sr(c)==4)Ge(c.Ea,0,c);else if(re(c,"readystatechange"),sr(c)==4){c.h=!1;try{const fe=c.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var g=!0;break e;default:g=!1}var w;if(!(w=g)){var k;if(k=fe===0){var B=String(c.D).match(go)[1]||null;!B&&d.self&&d.self.location&&(B=d.self.location.protocol.slice(0,-1)),k=!gf.test(B?B.toLowerCase():"")}w=k}if(w)re(c,"complete"),re(c,"success");else{c.m=6;try{var Y=2<sr(c)?c.g.statusText:""}catch{Y=""}c.l=Y+" ["+c.Z()+"]",fa(c)}}finally{_r(c)}}}}function _r(c,g){if(c.g){pa(c);const w=c.g,k=c.v[0]?()=>{}:null;c.g=null,c.v=null,g||re(c,"ready");try{w.onreadystatechange=k}catch{}}}function pa(c){c.I&&(d.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function sr(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<sr(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var g=this.g.responseText;return c&&g.indexOf(c)==0&&(g=g.substring(c.length)),Kr(g)}};function Fl(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function ma(c){const g={};c=(c.g&&2<=sr(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<c.length;k++){if($(c[k]))continue;var w=V(c[k]);const B=w[0];if(w=w[1],typeof w!="string")continue;w=w.trim();const Y=g[B]||[];g[B]=Y,Y.push(w)}L(g,function(k){return k.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function ws(c,g,w){return w&&w.internalChannelParams&&w.internalChannelParams[c]||g}function Ul(c){this.Aa=0,this.i=[],this.j=new Yt,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=ws("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=ws("baseRetryDelayMs",5e3,c),this.cb=ws("retryDelaySeedMs",1e4,c),this.Wa=ws("forwardChannelMaxRetries",2,c),this.wa=ws("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new mo(c&&c.concurrentRequestLimit),this.Da=new mf,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=Ul.prototype,t.la=8,t.G=1,t.connect=function(c,g,w,k){st(0),this.W=c,this.H=g||{},w&&k!==void 0&&(this.H.OSID=w,this.H.OAID=k),this.F=this.X,this.I=Pc(this,null,this.W),Es(this)};function pn(c){if(ga(c),c.G==3){var g=c.U++,w=vr(c.I);if(pt(w,"SID",c.K),pt(w,"RID",g),pt(w,"TYPE","terminate"),Ks(c,w),g=new Qr(c,c.j,g),g.L=2,g.v=Ti(vr(w)),w=!1,d.navigator&&d.navigator.sendBeacon)try{w=d.navigator.sendBeacon(g.v.toString(),"")}catch{}!w&&d.Image&&(new Image().src=g.v,w=!0),w||(g.g=Nc(g.j,null),g.g.ea(g.v)),g.F=Date.now(),gt(g)}Cc(c)}function ts(c){c.g&&(zl(c),c.g.cancel(),c.g=null)}function ga(c){ts(c),c.u&&(d.clearTimeout(c.u),c.u=null),_a(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&d.clearTimeout(c.s),c.s=null)}function Es(c){if(!yr(c.h)&&!c.s){c.s=!0;var g=c.Ga;Ne||pe(),Z||(Ne(),Z=!0),ve.add(g,c),c.B=0}}function yf(c,g){return vc(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=g.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Rt(E(c.Ga,c,g),Rc(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;const B=new Qr(this,this.j,c);let Y=this.o;if(this.S&&(Y?(Y=b(Y),D(Y,this.S)):Y=this.S),this.m!==null||this.O||(B.H=Y,Y=null),this.P)e:{for(var g=0,w=0;w<this.i.length;w++){t:{var k=this.i[w];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(g+=k,4096<g){g=w;break e}if(g===4096||w===this.i.length-1){g=w+1;break e}}g=1e3}else g=1e3;g=Si(this,B,g),w=vr(this.I),pt(w,"RID",c),pt(w,"CVER",22),this.D&&pt(w,"X-HTTP-Session-Id",this.D),Ks(this,w),Y&&(this.O?g="headers="+encodeURIComponent(String(Ws(Y)))+"&"+g:this.m&&ki(w,this.m,Y)),Ll(this.h,B),this.Ua&&pt(w,"TYPE","init"),this.P?(pt(w,"$req",g),pt(w,"SID","null"),B.T=!0,ua(B,w,null)):ua(B,w,g),this.G=2}}else this.G==3&&(c?ya(this,c):this.i.length==0||yr(this.h)||ya(this))};function ya(c,g){var w;g?w=g.l:w=c.U++;const k=vr(c.I);pt(k,"SID",c.K),pt(k,"RID",w),pt(k,"AID",c.T),Ks(c,k),c.m&&c.o&&ki(k,c.m,c.o),w=new Qr(c,c.j,w,c.B+1),c.m===null&&(w.H=c.o),g&&(c.i=g.D.concat(c.i)),g=Si(c,w,1e3),w.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),Ll(c.h,w),ua(w,k,g)}function Ks(c,g){c.H&&_e(c.H,function(w,k){pt(g,k,w)}),c.l&&_i({},function(w,k){pt(g,k,w)})}function Si(c,g,w){w=Math.min(c.i.length,w);var k=c.l?E(c.l.Na,c.l,c):null;e:{var B=c.i;let Y=-1;for(;;){const fe=["count="+w];Y==-1?0<w?(Y=B[0].g,fe.push("ofs="+Y)):Y=0:fe.push("ofs="+Y);let dt=!0;for(let Jt=0;Jt<w;Jt++){let it=B[Jt].g;const on=B[Jt].map;if(it-=Y,0>it)Y=Math.max(0,B[Jt].g-100),dt=!1;else try{Sc(on,fe,"req"+it+"_")}catch{k&&k(on)}}if(dt){k=fe.join("&");break e}}}return c=c.i.splice(0,w),g.D=c,k}function wo(c){if(!c.g&&!c.u){c.Y=1;var g=c.Fa;Ne||pe(),Z||(Ne(),Z=!0),ve.add(g,c),c.v=0}}function va(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Rt(E(c.Fa,c),Rc(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Ac(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Rt(E(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,st(10),ts(this),Ac(this))};function zl(c){c.A!=null&&(d.clearTimeout(c.A),c.A=null)}function Ac(c){c.g=new Qr(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var g=vr(c.qa);pt(g,"RID","rpc"),pt(g,"SID",c.K),pt(g,"AID",c.T),pt(g,"CI",c.F?"0":"1"),!c.F&&c.ja&&pt(g,"TO",c.ja),pt(g,"TYPE","xmlhttp"),Ks(c,g),c.m&&c.o&&ki(g,c.m,c.o),c.L&&(c.g.I=c.L);var w=c.g;c=c.ia,w.L=1,w.v=Ti(vr(g)),w.m=null,w.P=!0,Ol(w,c)}t.Za=function(){this.C!=null&&(this.C=null,ts(this),va(this),st(19))};function _a(c){c.C!=null&&(d.clearTimeout(c.C),c.C=null)}function wa(c,g){var w=null;if(c.g==g){_a(c),zl(c),c.g=null;var k=2}else if(zn(c.h,g))w=g.D,_c(c.h,g),k=1;else return;if(c.G!=0){if(g.o)if(k==1){w=g.m?g.m.length:0,g=Date.now()-g.F;var B=c.B;k=It(),re(k,new Gr(k,w)),Es(c)}else wo(c);else if(B=g.s,B==3||B==0&&0<g.X||!(k==1&&yf(c,g)||k==2&&va(c)))switch(w&&0<w.length&&(g=c.h,g.i=g.i.concat(w)),B){case 1:Gs(c,5);break;case 4:Gs(c,10);break;case 3:Gs(c,6);break;default:Gs(c,2)}}}function Rc(c,g){let w=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(w*=2),w*g}function Gs(c,g){if(c.j.info("Error code "+g),g==2){var w=E(c.fb,c),k=c.Xa;const B=!k;k=new Hs(k||"//www.google.com/images/cleardot.gif"),d.location&&d.location.protocol=="http"||yo(k,"https"),Ti(k),B?pf(k.toString(),w):kc(k.toString(),w)}else st(2);c.G=0,c.l&&c.l.sa(g),Cc(c),ga(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),st(2)):(this.j.info("Failed to ping google.com"),st(1))};function Cc(c){if(c.G=0,c.ka=[],c.l){const g=wc(c.h);(g.length!=0||c.i.length!=0)&&(R(c.ka,g),R(c.ka,c.i),c.h.i.length=0,j(c.i),c.i.length=0),c.l.ra()}}function Pc(c,g,w){var k=w instanceof Hs?vr(w):new Hs(w);if(k.g!="")g&&(k.g=g+"."+k.g),wi(k,k.s);else{var B=d.location;k=B.protocol,g=g?g+"."+B.hostname:B.hostname,B=+B.port;var Y=new Hs(null);k&&yo(Y,k),g&&(Y.g=g),B&&wi(Y,B),w&&(Y.l=w),k=Y}return w=c.D,g=c.ya,w&&g&&pt(k,w,g),pt(k,"VER",c.la),Ks(c,k),k}function Nc(c,g,w){if(g&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return g=c.Ca&&!c.pa?new bt(new _s({eb:w})):new bt(c.pa),g.Ha(c.J),g}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function $l(){}t=$l.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function Ea(){}Ea.prototype.g=function(c,g){return new $n(c,g)};function $n(c,g){oe.call(this),this.g=new Ul(g),this.l=c,this.h=g&&g.messageUrlParams||null,c=g&&g.messageHeaders||null,g&&g.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=g&&g.initMessageHeaders||null,g&&g.messageContentType&&(c?c["X-WebChannel-Content-Type"]=g.messageContentType:c={"X-WebChannel-Content-Type":g.messageContentType}),g&&g.va&&(c?c["X-WebChannel-Client-Profile"]=g.va:c={"X-WebChannel-Client-Profile":g.va}),this.g.S=c,(c=g&&g.Sb)&&!$(c)&&(this.g.m=c),this.v=g&&g.supportsCrossDomainXhr||!1,this.u=g&&g.sendRawJson||!1,(g=g&&g.httpSessionIdParam)&&!$(g)&&(this.g.D=g,c=this.h,c!==null&&g in c&&(c=this.h,g in c&&delete c[g])),this.j=new Ts(this)}A($n,oe),$n.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},$n.prototype.close=function(){pn(this.g)},$n.prototype.o=function(c){var g=this.g;if(typeof c=="string"){var w={};w.__data__=c,c=w}else this.u&&(w={},w.__data__=ms(c),c=w);g.i.push(new yc(g.Ya++,c)),g.G==3&&Es(g)},$n.prototype.N=function(){this.g.l=null,delete this.j,pn(this.g),delete this.g,$n.aa.N.call(this)};function Oc(c){gr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var g=c.__sm__;if(g){e:{for(const w in g){c=w;break e}c=void 0}(this.i=c)&&(c=this.i,g=g!==null&&c in g?g[c]:void 0),this.data=g}else this.data=c}A(Oc,gr);function Dc(){qs.call(this),this.status=1}A(Dc,qs);function Ts(c){this.g=c}A(Ts,$l),Ts.prototype.ua=function(){re(this.g,"a")},Ts.prototype.ta=function(c){re(this.g,new Oc(c))},Ts.prototype.sa=function(c){re(this.g,new Dc)},Ts.prototype.ra=function(){re(this.g,"b")},Ea.prototype.createWebChannel=Ea.prototype.g,$n.prototype.send=$n.prototype.o,$n.prototype.open=$n.prototype.m,$n.prototype.close=$n.prototype.close,dI=function(){return new Ea},cI=function(){return It()},uI=ze,Lm={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},aa.NO_ERROR=0,aa.TIMEOUT=8,aa.HTTP_ERROR=6,Kd=aa,fc.COMPLETE="complete",lI=fc,yi.EventType=er,er.OPEN="a",er.CLOSE="b",er.ERROR="c",er.MESSAGE="d",oe.prototype.listen=oe.prototype.K,Tu=yi,aI=_s,bt.prototype.listenOnce=bt.prototype.L,bt.prototype.getLastError=bt.prototype.Ka,bt.prototype.getLastErrorCode=bt.prototype.Ba,bt.prototype.getStatus=bt.prototype.Z,bt.prototype.getResponseJson=bt.prototype.Oa,bt.prototype.getResponseText=bt.prototype.oa,bt.prototype.send=bt.prototype.ea,bt.prototype.setWithCredentials=bt.prototype.Ha,oI=bt}).apply(typeof Pd<"u"?Pd:typeof self<"u"?self:typeof window<"u"?window:{});const Ww="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Dn.UNAUTHENTICATED=new Dn(null),Dn.GOOGLE_CREDENTIALS=new Dn("google-credentials-uid"),Dn.FIRST_PARTY=new Dn("first-party-uid"),Dn.MOCK_USER=new Dn("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let bl="10.12.5";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Go=new pg("@firebase/firestore");function pu(){return Go.logLevel}function Ce(t,...e){if(Go.logLevel<=rt.DEBUG){const n=e.map(Sg);Go.debug(`Firestore (${bl}): ${t}`,...n)}}function hi(t,...e){if(Go.logLevel<=rt.ERROR){const n=e.map(Sg);Go.error(`Firestore (${bl}): ${t}`,...n)}}function ul(t,...e){if(Go.logLevel<=rt.WARN){const n=e.map(Sg);Go.warn(`Firestore (${bl}): ${t}`,...n)}}function Sg(t){if(typeof t=="string")return t;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return(function(n){return JSON.stringify(n)})(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qe(t="Unexpected state"){const e=`FIRESTORE (${bl}) INTERNAL ASSERTION FAILED: `+t;throw hi(e),new Error(e)}function mt(t,e){t||qe()}function We(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ne={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class Te extends Us{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ci{constructor(){this.promise=new Promise(((e,n)=>{this.resolve=e,this.reject=n}))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hI{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class FN{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable((()=>n(Dn.UNAUTHENTICATED)))}shutdown(){}}class UN{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable((()=>n(this.token.user)))}shutdown(){this.changeListener=null}}class zN{constructor(e){this.t=e,this.currentUser=Dn.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){let r=this.i;const i=f=>this.i!==r?(r=this.i,n(f)):Promise.resolve();let a=new ci;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new ci,e.enqueueRetryable((()=>i(this.currentUser)))};const l=()=>{const f=a;e.enqueueRetryable((async()=>{await f.promise,await i(this.currentUser)}))},d=f=>{Ce("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.auth.addAuthTokenListener(this.o),l()};this.t.onInit((f=>d(f))),setTimeout((()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?d(f):(Ce("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new ci)}}),0),l()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then((r=>this.i!==e?(Ce("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(mt(typeof r.accessToken=="string"),new hI(r.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.auth.removeAuthTokenListener(this.o)}u(){const e=this.auth&&this.auth.getUid();return mt(e===null||typeof e=="string"),new Dn(e)}}class $N{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Dn.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);const e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}}class BN{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new $N(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable((()=>n(Dn.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class qN{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class HN{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){const r=a=>{a.error!=null&&Ce("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.R;return this.R=a.token,Ce("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?n(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable((()=>r(a)))};const i=a=>{Ce("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.appCheck.addTokenListener(this.o)};this.A.onInit((a=>i(a))),setTimeout((()=>{if(!this.appCheck){const a=this.A.getImmediate({optional:!0});a?i(a):Ce("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((n=>n?(mt(typeof n.token=="string"),this.R=n.token,new qN(n.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.appCheck.removeTokenListener(this.o)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WN(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fI{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let r="";for(;r.length<20;){const i=WN(40);for(let a=0;a<i.length;++a)r.length<20&&i[a]<n&&(r+=e.charAt(i[a]%e.length))}return r}}function ct(t,e){return t<e?-1:t>e?1:0}function cl(t,e,n){return t.length===e.length&&t.every(((r,i)=>n(r,e[i])))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rn{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new Te(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new Te(ne.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new Te(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new Te(ne.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return rn.fromMillis(Date.now())}static fromDate(e){return rn.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new rn(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ct(this.nanoseconds,e.nanoseconds):ct(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class He{constructor(e){this.timestamp=e}static fromTimestamp(e){return new He(e)}static min(){return new He(new rn(0,0))}static max(){return new He(new rn(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zu{constructor(e,n,r){n===void 0?n=0:n>e.length&&qe(),r===void 0?r=e.length-n:r>e.length-n&&qe(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return zu.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof zu?e.forEach((r=>{n.push(r)})):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let i=0;i<r;i++){const a=e.get(i),l=n.get(i);if(a<l)return-1;if(a>l)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Et extends zu{construct(e,n,r){return new Et(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new Te(ne.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter((i=>i.length>0)))}return new Et(n)}static emptyPath(){return new Et([])}}const KN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class vn extends zu{construct(e,n,r){return new vn(e,n,r)}static isValidIdentifier(e){return KN.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),vn.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new vn(["__name__"])}static fromServerFormat(e){const n=[];let r="",i=0;const a=()=>{if(r.length===0)throw new Te(ne.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let l=!1;for(;i<e.length;){const d=e[i];if(d==="\\"){if(i+1===e.length)throw new Te(ne.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[i+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new Te(ne.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,i+=2}else d==="`"?(l=!l,i++):d!=="."||l?(r+=d,i++):(a(),i++)}if(a(),l)throw new Te(ne.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new vn(n)}static emptyPath(){return new vn([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class je{constructor(e){this.path=e}static fromPath(e){return new je(Et.fromString(e))}static fromName(e){return new je(Et.fromString(e).popFirst(5))}static empty(){return new je(Et.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Et.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Et.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new je(new Et(e.slice()))}}function GN(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=He.fromTimestamp(r===1e9?new rn(n+1,0):new rn(n,r));return new ro(i,je.empty(),e)}function ZN(t){return new ro(t.readTime,t.key,-1)}class ro{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new ro(He.min(),je.empty(),-1)}static max(){return new ro(He.max(),je.empty(),-1)}}function QN(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=je.comparator(t.documentKey,e.documentKey),n!==0?n:ct(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class JN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sc(t){if(t.code!==ne.FAILED_PRECONDITION||t.message!==YN)throw t;Ce("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ue{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)}),(n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)}))}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&qe(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new ue(((r,i)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,i)},this.catchCallback=a=>{this.wrapFailure(n,a).next(r,i)}}))}toPromise(){return new Promise(((e,n)=>{this.next(e,n)}))}wrapUserFunction(e){try{const n=e();return n instanceof ue?n:ue.resolve(n)}catch(n){return ue.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction((()=>e(n))):ue.reject(n)}static resolve(e){return new ue(((n,r)=>{n(e)}))}static reject(e){return new ue(((n,r)=>{r(e)}))}static waitFor(e){return new ue(((n,r)=>{let i=0,a=0,l=!1;e.forEach((d=>{++i,d.next((()=>{++a,l&&a===i&&n()}),(f=>r(f)))})),l=!0,a===i&&n()}))}static or(e){let n=ue.resolve(!1);for(const r of e)n=n.next((i=>i?ue.resolve(i):r()));return n}static forEach(e,n){const r=[];return e.forEach(((i,a)=>{r.push(n.call(this,i,a))})),this.waitFor(r)}static mapArray(e,n){return new ue(((r,i)=>{const a=e.length,l=new Array(a);let d=0;for(let f=0;f<a;f++){const p=f;n(e[p]).next((_=>{l[p]=_,++d,d===a&&r(l)}),(_=>i(_)))}}))}static doWhile(e,n){return new ue(((r,i)=>{const a=()=>{e()===!0?n().next((()=>{a()}),i):r()};a()}))}}function XN(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function ic(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ie(r),this.se=r=>n.writeSequenceNumber(r))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}xg.oe=-1;function Lh(t){return t==null}function ch(t){return t===0&&1/t==-1/0}function eO(t){return typeof t=="number"&&Number.isInteger(t)&&!ch(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kw(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function na(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function pI(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ot{constructor(e,n){this.comparator=e,this.root=n||yn.EMPTY}insert(e,n){return new Ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,yn.BLACK,null,null))}remove(e){return new Ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,yn.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((n,r)=>(e(n,r),!1)))}toString(){const e=[];return this.inorderTraversal(((n,r)=>(e.push(`${n}:${r}`),!1))),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Nd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Nd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Nd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Nd(this.root,e,this.comparator,!0)}}class Nd{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=n?r(e.key,n):1,n&&i&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class yn{constructor(e,n,r,i,a){this.key=e,this.value=n,this.color=r??yn.RED,this.left=i??yn.EMPTY,this.right=a??yn.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,a){return new yn(e??this.key,n??this.value,r??this.color,i??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this;const a=r(e,i.key);return i=a<0?i.copy(null,null,null,i.left.insert(e,n,r),null):a===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return yn.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return yn.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,yn.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,yn.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw qe();const e=this.left.check();if(e!==this.right.check())throw qe();return e+(this.isRed()?0:1)}}yn.EMPTY=null,yn.RED=!0,yn.BLACK=!1;yn.EMPTY=new class{constructor(){this.size=0}get key(){throw qe()}get value(){throw qe()}get color(){throw qe()}get left(){throw qe()}get right(){throw qe()}copy(e,n,r,i,a){return this}insert(e,n,r){return new yn(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.comparator=e,this.data=new Ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((n,r)=>(e(n),!1)))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Gw(this.data.getIterator())}getIteratorFrom(e){return new Gw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach((r=>{n=n.add(r)})),n}isEqual(e){if(!(e instanceof _n)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(this.comparator(i,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach((n=>{e.push(n)})),e}toString(){const e=[];return this.forEach((n=>e.push(n))),"SortedSet("+e.toString()+")"}copy(e){const n=new _n(this.comparator);return n.data=e,n}}class Gw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kr{constructor(e){this.fields=e,e.sort(vn.comparator)}static empty(){return new kr([])}unionWith(e){let n=new _n(vn.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new kr(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return cl(this.fields,e.fields,((n,r)=>n.isEqual(r)))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mI extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.binaryString=e}static fromBase64String(e){const n=(function(i){try{return atob(i)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new mI("Invalid base64 string: "+a):a}})(e);return new En(n)}static fromUint8Array(e){const n=(function(i){let a="";for(let l=0;l<i.length;++l)a+=String.fromCharCode(i[l]);return a})(e);return new En(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return(function(n){return btoa(n)})(this.binaryString)}toUint8Array(){return(function(n){const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r})(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ct(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}En.EMPTY_BYTE_STRING=new En("");const tO=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function so(t){if(mt(!!t),typeof t=="string"){let e=0;const n=tO.exec(t);if(mt(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Ht(t.seconds),nanos:Ht(t.nanos)}}function Ht(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Zo(t){return typeof t=="string"?En.fromBase64String(t):En.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ag(t){var e,n;return((n=(((e=t==null?void 0:t.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Rg(t){const e=t.mapValue.fields.__previous_value__;return Ag(e)?Rg(e):e}function $u(t){const e=so(t.mapValue.fields.__local_write_time__.timestampValue);return new rn(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nO{constructor(e,n,r,i,a,l,d,f,p){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=d,this.longPollingOptions=f,this.useFetchStreams=p}}class Bu{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new Bu("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof Bu&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Od={mapValue:{}};function Qo(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Ag(t)?4:rO(t)?9007199254740991:10:qe()}function Ms(t,e){if(t===e)return!0;const n=Qo(t);if(n!==Qo(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return $u(t).isEqual($u(e));case 3:return(function(i,a){if(typeof i.timestampValue=="string"&&typeof a.timestampValue=="string"&&i.timestampValue.length===a.timestampValue.length)return i.timestampValue===a.timestampValue;const l=so(i.timestampValue),d=so(a.timestampValue);return l.seconds===d.seconds&&l.nanos===d.nanos})(t,e);case 5:return t.stringValue===e.stringValue;case 6:return(function(i,a){return Zo(i.bytesValue).isEqual(Zo(a.bytesValue))})(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return(function(i,a){return Ht(i.geoPointValue.latitude)===Ht(a.geoPointValue.latitude)&&Ht(i.geoPointValue.longitude)===Ht(a.geoPointValue.longitude)})(t,e);case 2:return(function(i,a){if("integerValue"in i&&"integerValue"in a)return Ht(i.integerValue)===Ht(a.integerValue);if("doubleValue"in i&&"doubleValue"in a){const l=Ht(i.doubleValue),d=Ht(a.doubleValue);return l===d?ch(l)===ch(d):isNaN(l)&&isNaN(d)}return!1})(t,e);case 9:return cl(t.arrayValue.values||[],e.arrayValue.values||[],Ms);case 10:return(function(i,a){const l=i.mapValue.fields||{},d=a.mapValue.fields||{};if(Kw(l)!==Kw(d))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(d[f]===void 0||!Ms(l[f],d[f])))return!1;return!0})(t,e);default:return qe()}}function qu(t,e){return(t.values||[]).find((n=>Ms(n,e)))!==void 0}function dl(t,e){if(t===e)return 0;const n=Qo(t),r=Qo(e);if(n!==r)return ct(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return ct(t.booleanValue,e.booleanValue);case 2:return(function(a,l){const d=Ht(a.integerValue||a.doubleValue),f=Ht(l.integerValue||l.doubleValue);return d<f?-1:d>f?1:d===f?0:isNaN(d)?isNaN(f)?0:-1:1})(t,e);case 3:return Zw(t.timestampValue,e.timestampValue);case 4:return Zw($u(t),$u(e));case 5:return ct(t.stringValue,e.stringValue);case 6:return(function(a,l){const d=Zo(a),f=Zo(l);return d.compareTo(f)})(t.bytesValue,e.bytesValue);case 7:return(function(a,l){const d=a.split("/"),f=l.split("/");for(let p=0;p<d.length&&p<f.length;p++){const _=ct(d[p],f[p]);if(_!==0)return _}return ct(d.length,f.length)})(t.referenceValue,e.referenceValue);case 8:return(function(a,l){const d=ct(Ht(a.latitude),Ht(l.latitude));return d!==0?d:ct(Ht(a.longitude),Ht(l.longitude))})(t.geoPointValue,e.geoPointValue);case 9:return(function(a,l){const d=a.values||[],f=l.values||[];for(let p=0;p<d.length&&p<f.length;++p){const _=dl(d[p],f[p]);if(_)return _}return ct(d.length,f.length)})(t.arrayValue,e.arrayValue);case 10:return(function(a,l){if(a===Od.mapValue&&l===Od.mapValue)return 0;if(a===Od.mapValue)return 1;if(l===Od.mapValue)return-1;const d=a.fields||{},f=Object.keys(d),p=l.fields||{},_=Object.keys(p);f.sort(),_.sort();for(let v=0;v<f.length&&v<_.length;++v){const E=ct(f[v],_[v]);if(E!==0)return E;const x=dl(d[f[v]],p[_[v]]);if(x!==0)return x}return ct(f.length,_.length)})(t.mapValue,e.mapValue);default:throw qe()}}function Zw(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return ct(t,e);const n=so(t),r=so(e),i=ct(n.seconds,r.seconds);return i!==0?i:ct(n.nanos,r.nanos)}function hl(t){return Vm(t)}function Vm(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?(function(n){const r=so(n);return`time(${r.seconds},${r.nanos})`})(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?(function(n){return Zo(n).toBase64()})(t.bytesValue):"referenceValue"in t?(function(n){return je.fromName(n).toString()})(t.referenceValue):"geoPointValue"in t?(function(n){return`geo(${n.latitude},${n.longitude})`})(t.geoPointValue):"arrayValue"in t?(function(n){let r="[",i=!0;for(const a of n.values||[])i?i=!1:r+=",",r+=Vm(a);return r+"]"})(t.arrayValue):"mapValue"in t?(function(n){const r=Object.keys(n.fields||{}).sort();let i="{",a=!0;for(const l of r)a?a=!1:i+=",",i+=`${l}:${Vm(n.fields[l])}`;return i+"}"})(t.mapValue):qe()}function Qw(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function Mm(t){return!!t&&"integerValue"in t}function Cg(t){return!!t&&"arrayValue"in t}function Yw(t){return!!t&&"nullValue"in t}function Jw(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Gd(t){return!!t&&"mapValue"in t}function Au(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){const e={mapValue:{fields:{}}};return na(t.mapValue.fields,((n,r)=>e.mapValue.fields[n]=Au(r))),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Au(t.arrayValue.values[n]);return e}return Object.assign({},t)}function rO(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hr{constructor(e){this.value=e}static empty(){return new hr({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Gd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Au(n)}setAll(e){let n=vn.emptyPath(),r={},i=[];e.forEach(((l,d)=>{if(!n.isImmediateParentOf(d)){const f=this.getFieldsMap(n);this.applyChanges(f,r,i),r={},i=[],n=d.popLast()}l?r[d.lastSegment()]=Au(l):i.push(d.lastSegment())}));const a=this.getFieldsMap(n);this.applyChanges(a,r,i)}delete(e){const n=this.field(e.popLast());Gd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Ms(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Gd(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){na(n,((i,a)=>e[i]=a));for(const i of r)delete e[i]}clone(){return new hr(Au(this.value))}}function gI(t){const e=[];return na(t.fields,((n,r)=>{const i=new vn([n]);if(Gd(r)){const a=gI(r.mapValue).fields;if(a.length===0)e.push(i);else for(const l of a)e.push(i.child(l))}else e.push(i)})),new kr(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e,n,r,i,a,l,d){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=a,this.data=l,this.documentState=d}static newInvalidDocument(e){return new Ln(e,0,He.min(),He.min(),He.min(),hr.empty(),0)}static newFoundDocument(e,n,r,i){return new Ln(e,1,n,He.min(),r,i,0)}static newNoDocument(e,n){return new Ln(e,2,n,He.min(),He.min(),hr.empty(),0)}static newUnknownDocument(e,n){return new Ln(e,3,n,He.min(),He.min(),hr.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(He.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hr.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hr.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=He.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ln&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ln(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dh{constructor(e,n){this.position=e,this.inclusive=n}}function Xw(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){const a=e[i],l=t.position[i];if(a.field.isKeyField()?r=je.comparator(je.fromName(l.referenceValue),n.key):r=dl(l,n.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function e0(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Ms(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hu{constructor(e,n="asc"){this.field=e,this.dir=n}}function sO(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yI{}class Kt extends yI{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new oO(e,n,r):n==="array-contains"?new uO(e,r):n==="in"?new cO(e,r):n==="not-in"?new dO(e,r):n==="array-contains-any"?new hO(e,r):new Kt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new aO(e,r):new lO(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(dl(n,this.value)):n!==null&&Qo(this.value)===Qo(n)&&this.matchesComparison(dl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return qe()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class fs extends yI{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new fs(e,n)}matches(e){return vI(this)?this.filters.find((n=>!n.matches(e)))===void 0:this.filters.find((n=>n.matches(e)))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce(((e,n)=>e.concat(n.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function vI(t){return t.op==="and"}function _I(t){return iO(t)&&vI(t)}function iO(t){for(const e of t.filters)if(e instanceof fs)return!1;return!0}function jm(t){if(t instanceof Kt)return t.field.canonicalString()+t.op.toString()+hl(t.value);if(_I(t))return t.filters.map((e=>jm(e))).join(",");{const e=t.filters.map((n=>jm(n))).join(",");return`${t.op}(${e})`}}function wI(t,e){return t instanceof Kt?(function(r,i){return i instanceof Kt&&r.op===i.op&&r.field.isEqual(i.field)&&Ms(r.value,i.value)})(t,e):t instanceof fs?(function(r,i){return i instanceof fs&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce(((a,l,d)=>a&&wI(l,i.filters[d])),!0):!1})(t,e):void qe()}function EI(t){return t instanceof Kt?(function(n){return`${n.field.canonicalString()} ${n.op} ${hl(n.value)}`})(t):t instanceof fs?(function(n){return n.op.toString()+" {"+n.getFilters().map(EI).join(" ,")+"}"})(t):"Filter"}class oO extends Kt{constructor(e,n,r){super(e,n,r),this.key=je.fromName(r.referenceValue)}matches(e){const n=je.comparator(e.key,this.key);return this.matchesComparison(n)}}class aO extends Kt{constructor(e,n){super(e,"in",n),this.keys=TI("in",n)}matches(e){return this.keys.some((n=>n.isEqual(e.key)))}}class lO extends Kt{constructor(e,n){super(e,"not-in",n),this.keys=TI("not-in",n)}matches(e){return!this.keys.some((n=>n.isEqual(e.key)))}}function TI(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map((r=>je.fromName(r.referenceValue)))}class uO extends Kt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cg(n)&&qu(n.arrayValue,this.value)}}class cO extends Kt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&qu(this.value.arrayValue,n)}}class dO extends Kt{constructor(e,n){super(e,"not-in",n)}matches(e){if(qu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!qu(this.value.arrayValue,n)}}class hO extends Kt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cg(n)||!n.arrayValue.values)&&n.arrayValue.values.some((r=>qu(this.value.arrayValue,r)))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fO{constructor(e,n=null,r=[],i=[],a=null,l=null,d=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=a,this.startAt=l,this.endAt=d,this.ue=null}}function t0(t,e=null,n=[],r=[],i=null,a=null,l=null){return new fO(t,e,n,r,i,a,l)}function Pg(t){const e=We(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map((r=>jm(r))).join(","),n+="|ob:",n+=e.orderBy.map((r=>(function(a){return a.field.canonicalString()+a.dir})(r))).join(","),Lh(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map((r=>hl(r))).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map((r=>hl(r))).join(",")),e.ue=n}return e.ue}function Ng(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!sO(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!wI(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!e0(t.startAt,e.startAt)&&e0(t.endAt,e.endAt)}function Fm(t){return je.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,n=null,r=[],i=[],a=null,l="F",d=null,f=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=a,this.limitType=l,this.startAt=d,this.endAt=f,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function pO(t,e,n,r,i,a,l,d){return new kl(t,e,n,r,i,a,l,d)}function Vh(t){return new kl(t)}function n0(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function II(t){return t.collectionGroup!==null}function Ru(t){const e=We(t);if(e.ce===null){e.ce=[];const n=new Set;for(const a of e.explicitOrderBy)e.ce.push(a),n.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let d=new _n(vn.comparator);return l.filters.forEach((f=>{f.getFlattenedFilters().forEach((p=>{p.isInequality()&&(d=d.add(p.field))}))})),d})(e).forEach((a=>{n.has(a.canonicalString())||a.isKeyField()||e.ce.push(new Hu(a,r))})),n.has(vn.keyField().canonicalString())||e.ce.push(new Hu(vn.keyField(),r))}return e.ce}function Ls(t){const e=We(t);return e.le||(e.le=mO(e,Ru(t))),e.le}function mO(t,e){if(t.limitType==="F")return t0(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map((i=>{const a=i.dir==="desc"?"asc":"desc";return new Hu(i.field,a)}));const n=t.endAt?new dh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new dh(t.startAt.position,t.startAt.inclusive):null;return t0(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Um(t,e){const n=t.filters.concat([e]);return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function zm(t,e,n){return new kl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Mh(t,e){return Ng(Ls(t),Ls(e))&&t.limitType===e.limitType}function bI(t){return`${Pg(Ls(t))}|lt:${t.limitType}`}function Ga(t){return`Query(target=${(function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map((i=>EI(i))).join(", ")}]`),Lh(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map((i=>(function(l){return`${l.field.canonicalString()} (${l.dir})`})(i))).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map((i=>hl(i))).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map((i=>hl(i))).join(",")),`Target(${r})`})(Ls(t))}; limitType=${t.limitType})`}function jh(t,e){return e.isFoundDocument()&&(function(r,i){const a=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):je.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)})(t,e)&&(function(r,i){for(const a of Ru(r))if(!a.field.isKeyField()&&i.data.field(a.field)===null)return!1;return!0})(t,e)&&(function(r,i){for(const a of r.filters)if(!a.matches(i))return!1;return!0})(t,e)&&(function(r,i){return!(r.startAt&&!(function(l,d,f){const p=Xw(l,d,f);return l.inclusive?p<=0:p<0})(r.startAt,Ru(r),i)||r.endAt&&!(function(l,d,f){const p=Xw(l,d,f);return l.inclusive?p>=0:p>0})(r.endAt,Ru(r),i))})(t,e)}function gO(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function kI(t){return(e,n)=>{let r=!1;for(const i of Ru(t)){const a=yO(i,e,n);if(a!==0)return a;r=r||i.field.isKeyField()}return 0}}function yO(t,e,n){const r=t.field.isKeyField()?je.comparator(e.key,n.key):(function(a,l,d){const f=l.data.field(a),p=d.data.field(a);return f!==null&&p!==null?dl(f,p):qe()})(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return qe()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sl{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[i,a]of r)if(this.equalsFn(i,e))return a}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let a=0;a<i.length;a++)if(this.equalsFn(i[a][0],e))return void(i[a]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){na(this.inner,((n,r)=>{for(const[i,a]of r)e(i,a)}))}isEmpty(){return pI(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const vO=new Ot(je.comparator);function fi(){return vO}const SI=new Ot(je.comparator);function Iu(...t){let e=SI;for(const n of t)e=e.insert(n.key,n);return e}function xI(t){let e=SI;return t.forEach(((n,r)=>e=e.insert(n,r.overlayedDocument))),e}function jo(){return Cu()}function AI(){return Cu()}function Cu(){return new Sl((t=>t.toString()),((t,e)=>t.isEqual(e)))}const _O=new Ot(je.comparator),wO=new _n(je.comparator);function tt(...t){let e=wO;for(const n of t)e=e.add(n);return e}const EO=new _n(ct);function TO(){return EO}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:ch(e)?"-0":e}}function CI(t){return{integerValue:""+t}}function IO(t,e){return eO(e)?CI(e):RI(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fh{constructor(){this._=void 0}}function bO(t,e,n){return t instanceof Wu?(function(i,a){const l={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return a&&Ag(a)&&(a=Rg(a)),a&&(l.fields.__previous_value__=a),{mapValue:l}})(n,e):t instanceof Ku?NI(t,e):t instanceof Gu?OI(t,e):(function(i,a){const l=PI(i,a),d=r0(l)+r0(i.Pe);return Mm(l)&&Mm(i.Pe)?CI(d):RI(i.serializer,d)})(t,e)}function kO(t,e,n){return t instanceof Ku?NI(t,e):t instanceof Gu?OI(t,e):n}function PI(t,e){return t instanceof hh?(function(r){return Mm(r)||(function(a){return!!a&&"doubleValue"in a})(r)})(e)?e:{integerValue:0}:null}class Wu extends Fh{}class Ku extends Fh{constructor(e){super(),this.elements=e}}function NI(t,e){const n=DI(e);for(const r of t.elements)n.some((i=>Ms(i,r)))||n.push(r);return{arrayValue:{values:n}}}class Gu extends Fh{constructor(e){super(),this.elements=e}}function OI(t,e){let n=DI(e);for(const r of t.elements)n=n.filter((i=>!Ms(i,r)));return{arrayValue:{values:n}}}class hh extends Fh{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function r0(t){return Ht(t.integerValue||t.doubleValue)}function DI(t){return Cg(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SO{constructor(e,n){this.field=e,this.transform=n}}function xO(t,e){return t.field.isEqual(e.field)&&(function(r,i){return r instanceof Ku&&i instanceof Ku||r instanceof Gu&&i instanceof Gu?cl(r.elements,i.elements,Ms):r instanceof hh&&i instanceof hh?Ms(r.Pe,i.Pe):r instanceof Wu&&i instanceof Wu})(t.transform,e.transform)}class AO{constructor(e,n){this.version=e,this.transformResults=n}}class $r{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new $r}static exists(e){return new $r(void 0,e)}static updateTime(e){return new $r(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Uh{}function LI(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Og(t.key,$r.none()):new oc(t.key,t.data,$r.none());{const n=t.data,r=hr.empty();let i=new _n(vn.comparator);for(let a of e.fields)if(!i.has(a)){let l=n.field(a);l===null&&a.length>1&&(a=a.popLast(),l=n.field(a)),l===null?r.delete(a):r.set(a,l),i=i.add(a)}return new ao(t.key,r,new kr(i.toArray()),$r.none())}}function RO(t,e,n){t instanceof oc?(function(i,a,l){const d=i.value.clone(),f=i0(i.fieldTransforms,a,l.transformResults);d.setAll(f),a.convertToFoundDocument(l.version,d).setHasCommittedMutations()})(t,e,n):t instanceof ao?(function(i,a,l){if(!Zd(i.precondition,a))return void a.convertToUnknownDocument(l.version);const d=i0(i.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(VI(i)),f.setAll(d),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()})(t,e,n):(function(i,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()})(0,e,n)}function Pu(t,e,n,r){return t instanceof oc?(function(a,l,d,f){if(!Zd(a.precondition,l))return d;const p=a.value.clone(),_=o0(a.fieldTransforms,f,l);return p.setAll(_),l.convertToFoundDocument(l.version,p).setHasLocalMutations(),null})(t,e,n,r):t instanceof ao?(function(a,l,d,f){if(!Zd(a.precondition,l))return d;const p=o0(a.fieldTransforms,f,l),_=l.data;return _.setAll(VI(a)),_.setAll(p),l.convertToFoundDocument(l.version,_).setHasLocalMutations(),d===null?null:d.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map((v=>v.field)))})(t,e,n,r):(function(a,l,d){return Zd(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):d})(t,e,n)}function CO(t,e){let n=null;for(const r of t.fieldTransforms){const i=e.data.field(r.field),a=PI(r.transform,i||null);a!=null&&(n===null&&(n=hr.empty()),n.set(r.field,a))}return n||null}function s0(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!(function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&cl(r,i,((a,l)=>xO(a,l)))})(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class oc extends Uh{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}}class ao extends Uh{constructor(e,n,r,i,a=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function VI(t){const e=new Map;return t.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}})),e}function i0(t,e,n){const r=new Map;mt(t.length===n.length);for(let i=0;i<n.length;i++){const a=t[i],l=a.transform,d=e.data.field(a.field);r.set(a.field,kO(l,d,n[i]))}return r}function o0(t,e,n){const r=new Map;for(const i of t){const a=i.transform,l=n.data.field(i.field);r.set(i.field,bO(a,l,e))}return r}class Og extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class PO extends Uh{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NO{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){const a=this.mutations[i];a.key.isEqual(e.key)&&RO(a,e,r[i])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Pu(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Pu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=AI();return this.mutations.forEach((i=>{const a=e.get(i.key),l=a.overlayedDocument;let d=this.applyToLocalView(l,a.mutatedFields);d=n.has(i.key)?null:d;const f=LI(l,d);f!==null&&r.set(i.key,f),l.isValidDocument()||l.convertToNoDocument(He.min())})),r}keys(){return this.mutations.reduce(((e,n)=>e.add(n.key)),tt())}isEqual(e){return this.batchId===e.batchId&&cl(this.mutations,e.mutations,((n,r)=>s0(n,r)))&&cl(this.baseMutations,e.baseMutations,((n,r)=>s0(n,r)))}}class Dg{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){mt(e.mutations.length===r.length);let i=(function(){return _O})();const a=e.mutations;for(let l=0;l<a.length;l++)i=i.insert(a[l].key,r[l].version);return new Dg(e,n,r,i)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OO{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DO{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var qt,ot;function LO(t){switch(t){default:return qe();case ne.CANCELLED:case ne.UNKNOWN:case ne.DEADLINE_EXCEEDED:case ne.RESOURCE_EXHAUSTED:case ne.INTERNAL:case ne.UNAVAILABLE:case ne.UNAUTHENTICATED:return!1;case ne.INVALID_ARGUMENT:case ne.NOT_FOUND:case ne.ALREADY_EXISTS:case ne.PERMISSION_DENIED:case ne.FAILED_PRECONDITION:case ne.ABORTED:case ne.OUT_OF_RANGE:case ne.UNIMPLEMENTED:case ne.DATA_LOSS:return!0}}function MI(t){if(t===void 0)return hi("GRPC error has no .code"),ne.UNKNOWN;switch(t){case qt.OK:return ne.OK;case qt.CANCELLED:return ne.CANCELLED;case qt.UNKNOWN:return ne.UNKNOWN;case qt.DEADLINE_EXCEEDED:return ne.DEADLINE_EXCEEDED;case qt.RESOURCE_EXHAUSTED:return ne.RESOURCE_EXHAUSTED;case qt.INTERNAL:return ne.INTERNAL;case qt.UNAVAILABLE:return ne.UNAVAILABLE;case qt.UNAUTHENTICATED:return ne.UNAUTHENTICATED;case qt.INVALID_ARGUMENT:return ne.INVALID_ARGUMENT;case qt.NOT_FOUND:return ne.NOT_FOUND;case qt.ALREADY_EXISTS:return ne.ALREADY_EXISTS;case qt.PERMISSION_DENIED:return ne.PERMISSION_DENIED;case qt.FAILED_PRECONDITION:return ne.FAILED_PRECONDITION;case qt.ABORTED:return ne.ABORTED;case qt.OUT_OF_RANGE:return ne.OUT_OF_RANGE;case qt.UNIMPLEMENTED:return ne.UNIMPLEMENTED;case qt.DATA_LOSS:return ne.DATA_LOSS;default:return qe()}}(ot=qt||(qt={}))[ot.OK=0]="OK",ot[ot.CANCELLED=1]="CANCELLED",ot[ot.UNKNOWN=2]="UNKNOWN",ot[ot.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",ot[ot.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",ot[ot.NOT_FOUND=5]="NOT_FOUND",ot[ot.ALREADY_EXISTS=6]="ALREADY_EXISTS",ot[ot.PERMISSION_DENIED=7]="PERMISSION_DENIED",ot[ot.UNAUTHENTICATED=16]="UNAUTHENTICATED",ot[ot.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",ot[ot.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",ot[ot.ABORTED=10]="ABORTED",ot[ot.OUT_OF_RANGE=11]="OUT_OF_RANGE",ot[ot.UNIMPLEMENTED=12]="UNIMPLEMENTED",ot[ot.INTERNAL=13]="INTERNAL",ot[ot.UNAVAILABLE=14]="UNAVAILABLE",ot[ot.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VO(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MO=new zo([4294967295,4294967295],0);function a0(t){const e=VO().encode(t),n=new iI;return n.update(e),new Uint8Array(n.digest())}function l0(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new zo([n,r],0),new zo([i,a],0)]}class Lg{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new bu(`Invalid padding: ${n}`);if(r<0)throw new bu(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new bu(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new bu(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=zo.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(zo.fromNumber(r)));return i.compare(MO)===1&&(i=new zo([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;const n=a0(e),[r,i]=l0(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);if(!this.de(l))return!1}return!0}static create(e,n,r){const i=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new Lg(a,i,n);return r.forEach((d=>l.insert(d))),l}insert(e){if(this.Ie===0)return;const n=a0(e),[r,i]=l0(n);for(let a=0;a<this.hashCount;a++){const l=this.Ee(r,i,a);this.Ae(l)}}Ae(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class bu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zh{constructor(e,n,r,i,a){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const i=new Map;return i.set(e,ac.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new zh(He.min(),i,new Ot(ct),fi(),tt())}}class ac{constructor(e,n,r,i,a){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new ac(r,n,tt(),tt(),tt())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qd{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}}class jI{constructor(e,n){this.targetId=e,this.me=n}}class FI{constructor(e,n,r=En.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}}class u0{constructor(){this.fe=0,this.ge=d0(),this.pe=En.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}Ce(){let e=tt(),n=tt(),r=tt();return this.ge.forEach(((i,a)=>{switch(a){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:qe()}})),new ac(this.pe,this.ye,e,n,r)}ve(){this.we=!1,this.ge=d0()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,mt(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class jO{constructor(e){this.Le=e,this.Be=new Map,this.ke=fi(),this.qe=c0(),this.Qe=new Ot(ct)}Ke(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,(n=>{const r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.ve(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:qe()}}))}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach(((r,i)=>{this.ze(i)&&n(i)}))}He(e){const n=e.targetId,r=e.me.count,i=this.Je(n);if(i){const a=i.target;if(Fm(a))if(r===0){const l=new je(a.path);this.Ue(n,l,Ln.newNoDocument(l,He.min()))}else mt(r===1);else{const l=this.Ye(n);if(l!==r){const d=this.Ze(e),f=d?this.Xe(d,e,l):1;if(f!==0){this.je(n);const p=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,p)}}}}}Ze(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:i=0},hashCount:a=0}=n;let l,d;try{l=Zo(r).toUint8Array()}catch(f){if(f instanceof mI)return ul("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{d=new Lg(l,i,a)}catch(f){return ul(f instanceof bu?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return d.Ie===0?null:d}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){const r=this.Le.getRemoteKeysForTarget(n);let i=0;return r.forEach((a=>{const l=this.Le.tt(),d=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(d)||(this.Ue(n,a,null),i++)})),i}rt(e){const n=new Map;this.Be.forEach(((a,l)=>{const d=this.Je(l);if(d){if(a.current&&Fm(d.target)){const f=new je(d.target.path);this.ke.get(f)!==null||this.it(l,f)||this.Ue(l,f,Ln.newNoDocument(f,e))}a.be&&(n.set(l,a.Ce()),a.ve())}}));let r=tt();this.qe.forEach(((a,l)=>{let d=!0;l.forEachWhile((f=>{const p=this.Je(f);return!p||p.purpose==="TargetPurposeLimboResolution"||(d=!1,!1)})),d&&(r=r.add(a))})),this.ke.forEach(((a,l)=>l.setReadTime(e)));const i=new zh(e,n,this.Qe,this.ke,r);return this.ke=fi(),this.qe=c0(),this.Qe=new Ot(ct),i}$e(e,n){if(!this.ze(e))return;const r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;const i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){const n=this.Ge(e).Ce();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new u0,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new _n(ct),this.qe=this.qe.insert(e,n)),n}ze(e){const n=this.Je(e)!==null;return n||Ce("WatchChangeAggregator","Detected inactive target",e),n}Je(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new u0),this.Le.getRemoteKeysForTarget(e).forEach((n=>{this.Ue(e,n,null)}))}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function c0(){return new Ot(je.comparator)}function d0(){return new Ot(je.comparator)}const FO={asc:"ASCENDING",desc:"DESCENDING"},UO={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},zO={and:"AND",or:"OR"};class $O{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function $m(t,e){return t.useProto3Json||Lh(e)?e:{value:e}}function fh(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function UI(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function BO(t,e){return fh(t,e.toTimestamp())}function Vs(t){return mt(!!t),He.fromTimestamp((function(n){const r=so(n);return new rn(r.seconds,r.nanos)})(t))}function Vg(t,e){return Bm(t,e).canonicalString()}function Bm(t,e){const n=(function(i){return new Et(["projects",i.projectId,"databases",i.database])})(t).child("documents");return e===void 0?n:n.child(e)}function zI(t){const e=Et.fromString(t);return mt(WI(e)),e}function qm(t,e){return Vg(t.databaseId,e.path)}function Jp(t,e){const n=zI(e);if(n.get(1)!==t.databaseId.projectId)throw new Te(ne.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new Te(ne.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new je(BI(n))}function $I(t,e){return Vg(t.databaseId,e)}function qO(t){const e=zI(t);return e.length===4?Et.emptyPath():BI(e)}function Hm(t){return new Et(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function BI(t){return mt(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function h0(t,e,n){return{name:qm(t,e),fields:n.value.mapValue.fields}}function HO(t,e){let n;if("targetChange"in e){e.targetChange;const r=(function(p){return p==="NO_CHANGE"?0:p==="ADD"?1:p==="REMOVE"?2:p==="CURRENT"?3:p==="RESET"?4:qe()})(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],a=(function(p,_){return p.useProto3Json?(mt(_===void 0||typeof _=="string"),En.fromBase64String(_||"")):(mt(_===void 0||_ instanceof Buffer||_ instanceof Uint8Array),En.fromUint8Array(_||new Uint8Array))})(t,e.targetChange.resumeToken),l=e.targetChange.cause,d=l&&(function(p){const _=p.code===void 0?ne.UNKNOWN:MI(p.code);return new Te(_,p.message||"")})(l);n=new FI(r,i,a,d||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const i=Jp(t,r.document.name),a=Vs(r.document.updateTime),l=r.document.createTime?Vs(r.document.createTime):He.min(),d=new hr({mapValue:{fields:r.document.fields}}),f=Ln.newFoundDocument(i,a,l,d),p=r.targetIds||[],_=r.removedTargetIds||[];n=new Qd(p,_,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const i=Jp(t,r.document),a=r.readTime?Vs(r.readTime):He.min(),l=Ln.newNoDocument(i,a),d=r.removedTargetIds||[];n=new Qd([],d,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const i=Jp(t,r.document),a=r.removedTargetIds||[];n=new Qd([],a,i,null)}else{if(!("filter"in e))return qe();{e.filter;const r=e.filter;r.targetId;const{count:i=0,unchangedNames:a}=r,l=new DO(i,a),d=r.targetId;n=new jI(d,l)}}return n}function WO(t,e){let n;if(e instanceof oc)n={update:h0(t,e.key,e.value)};else if(e instanceof Og)n={delete:qm(t,e.key)};else if(e instanceof ao)n={update:h0(t,e.key,e.data),updateMask:tD(e.fieldMask)};else{if(!(e instanceof PO))return qe();n={verify:qm(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map((r=>(function(a,l){const d=l.transform;if(d instanceof Wu)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(d instanceof Ku)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:d.elements}};if(d instanceof Gu)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:d.elements}};if(d instanceof hh)return{fieldPath:l.field.canonicalString(),increment:d.Pe};throw qe()})(0,r)))),e.precondition.isNone||(n.currentDocument=(function(i,a){return a.updateTime!==void 0?{updateTime:BO(i,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:qe()})(t,e.precondition)),n}function KO(t,e){return t&&t.length>0?(mt(e!==void 0),t.map((n=>(function(i,a){let l=i.updateTime?Vs(i.updateTime):Vs(a);return l.isEqual(He.min())&&(l=Vs(a)),new AO(l,i.transformResults||[])})(n,e)))):[]}function GO(t,e){return{documents:[$I(t,e.path)]}}function ZO(t,e){const n={structuredQuery:{}},r=e.path;let i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=$I(t,i);const a=(function(p){if(p.length!==0)return HI(fs.create(p,"and"))})(e.filters);a&&(n.structuredQuery.where=a);const l=(function(p){if(p.length!==0)return p.map((_=>(function(E){return{field:Za(E.field),direction:JO(E.dir)}})(_)))})(e.orderBy);l&&(n.structuredQuery.orderBy=l);const d=$m(t,e.limit);return d!==null&&(n.structuredQuery.limit=d),e.startAt&&(n.structuredQuery.startAt=(function(p){return{before:p.inclusive,values:p.position}})(e.startAt)),e.endAt&&(n.structuredQuery.endAt=(function(p){return{before:!p.inclusive,values:p.position}})(e.endAt)),{_t:n,parent:i}}function QO(t){let e=qO(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){mt(r===1);const _=n.from[0];_.allDescendants?i=_.collectionId:e=e.child(_.collectionId)}let a=[];n.where&&(a=(function(v){const E=qI(v);return E instanceof fs&&_I(E)?E.getFilters():[E]})(n.where));let l=[];n.orderBy&&(l=(function(v){return v.map((E=>(function(A){return new Hu(Qa(A.field),(function(R){switch(R){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}})(A.direction))})(E)))})(n.orderBy));let d=null;n.limit&&(d=(function(v){let E;return E=typeof v=="object"?v.value:v,Lh(E)?null:E})(n.limit));let f=null;n.startAt&&(f=(function(v){const E=!!v.before,x=v.values||[];return new dh(x,E)})(n.startAt));let p=null;return n.endAt&&(p=(function(v){const E=!v.before,x=v.values||[];return new dh(x,E)})(n.endAt)),pO(e,i,l,a,d,"F",f,p)}function YO(t,e){const n=(function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return qe()}})(e.purpose);return n==null?null:{"goog-listen-tags":n}}function qI(t){return t.unaryFilter!==void 0?(function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Qa(n.unaryFilter.field);return Kt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const i=Qa(n.unaryFilter.field);return Kt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Qa(n.unaryFilter.field);return Kt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Qa(n.unaryFilter.field);return Kt.create(l,"!=",{nullValue:"NULL_VALUE"});default:return qe()}})(t):t.fieldFilter!==void 0?(function(n){return Kt.create(Qa(n.fieldFilter.field),(function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return qe()}})(n.fieldFilter.op),n.fieldFilter.value)})(t):t.compositeFilter!==void 0?(function(n){return fs.create(n.compositeFilter.filters.map((r=>qI(r))),(function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return qe()}})(n.compositeFilter.op))})(t):qe()}function JO(t){return FO[t]}function XO(t){return UO[t]}function eD(t){return zO[t]}function Za(t){return{fieldPath:t.canonicalString()}}function Qa(t){return vn.fromServerFormat(t.fieldPath)}function HI(t){return t instanceof Kt?(function(n){if(n.op==="=="){if(Jw(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NAN"}};if(Yw(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Jw(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NAN"}};if(Yw(n.value))return{unaryFilter:{field:Za(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Za(n.field),op:XO(n.op),value:n.value}}})(t):t instanceof fs?(function(n){const r=n.getFilters().map((i=>HI(i)));return r.length===1?r[0]:{compositeFilter:{op:eD(n.op),filters:r}}})(t):qe()}function tD(t){const e=[];return t.fields.forEach((n=>e.push(n.canonicalString()))),{fieldPaths:e}}function WI(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qi{constructor(e,n,r,i,a=He.min(),l=He.min(),d=En.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=d,this.expectedCount=f}withSequenceNumber(e){return new Qi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Qi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nD{constructor(e){this.ct=e}}function rD(t){const e=QO({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?zm(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sD{constructor(){this.an=new iD}addToCollectionParentIndex(e,n){return this.an.add(n),ue.resolve()}getCollectionParents(e,n){return ue.resolve(this.an.getEntries(n))}addFieldIndex(e,n){return ue.resolve()}deleteFieldIndex(e,n){return ue.resolve()}deleteAllFieldIndexes(e){return ue.resolve()}createTargetIndexes(e,n){return ue.resolve()}getDocumentsMatchingTarget(e,n){return ue.resolve(null)}getIndexType(e,n){return ue.resolve(0)}getFieldIndexes(e,n){return ue.resolve([])}getNextCollectionGroupToUpdate(e){return ue.resolve(null)}getMinOffset(e,n){return ue.resolve(ro.min())}getMinOffsetFromCollectionGroup(e,n){return ue.resolve(ro.min())}updateCollectionGroup(e,n,r){return ue.resolve()}updateIndexEntries(e,n){return ue.resolve()}}class iD{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new _n(Et.comparator),a=!i.has(r);return this.index[n]=i.add(r),a}has(e){const n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new _n(Et.comparator)).toArray()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fl{constructor(e){this.Nn=e}next(){return this.Nn+=2,this.Nn}static Ln(){return new fl(0)}static Bn(){return new fl(-1)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class oD{constructor(){this.changes=new Sl((e=>e.toString()),((e,n)=>e.isEqual(n))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ln.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?ue.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aD{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lD{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next((i=>(r=i,this.remoteDocumentCache.getEntry(e,n)))).next((i=>(r!==null&&Pu(r.mutation,i,kr.empty(),rn.now()),i)))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.getLocalViewOfDocuments(e,r,tt()).next((()=>r))))}getLocalViewOfDocuments(e,n,r=tt()){const i=jo();return this.populateOverlays(e,i,n).next((()=>this.computeViews(e,n,i,r).next((a=>{let l=Iu();return a.forEach(((d,f)=>{l=l.insert(d,f.overlayedDocument)})),l}))))}getOverlayedDocuments(e,n){const r=jo();return this.populateOverlays(e,r,n).next((()=>this.computeViews(e,n,r,tt())))}populateOverlays(e,n,r){const i=[];return r.forEach((a=>{n.has(a)||i.push(a)})),this.documentOverlayCache.getOverlays(e,i).next((a=>{a.forEach(((l,d)=>{n.set(l,d)}))}))}computeViews(e,n,r,i){let a=fi();const l=Cu(),d=(function(){return Cu()})();return n.forEach(((f,p)=>{const _=r.get(p.key);i.has(p.key)&&(_===void 0||_.mutation instanceof ao)?a=a.insert(p.key,p):_!==void 0?(l.set(p.key,_.mutation.getFieldMask()),Pu(_.mutation,p,_.mutation.getFieldMask(),rn.now())):l.set(p.key,kr.empty())})),this.recalculateAndSaveOverlays(e,a).next((f=>(f.forEach(((p,_)=>l.set(p,_))),n.forEach(((p,_)=>{var v;return d.set(p,new aD(_,(v=l.get(p))!==null&&v!==void 0?v:null))})),d)))}recalculateAndSaveOverlays(e,n){const r=Cu();let i=new Ot(((l,d)=>l-d)),a=tt();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next((l=>{for(const d of l)d.keys().forEach((f=>{const p=n.get(f);if(p===null)return;let _=r.get(f)||kr.empty();_=d.applyToLocalView(p,_),r.set(f,_);const v=(i.get(d.batchId)||tt()).add(f);i=i.insert(d.batchId,v)}))})).next((()=>{const l=[],d=i.getReverseIterator();for(;d.hasNext();){const f=d.getNext(),p=f.key,_=f.value,v=AI();_.forEach((E=>{if(!a.has(E)){const x=LI(n.get(E),r.get(E));x!==null&&v.set(E,x),a=a.add(E)}})),l.push(this.documentOverlayCache.saveOverlays(e,p,v))}return ue.waitFor(l)})).next((()=>r))}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next((r=>this.recalculateAndSaveOverlays(e,r)))}getDocumentsMatchingQuery(e,n,r,i){return(function(l){return je.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0})(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):II(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next((a=>{const l=i-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-a.size):ue.resolve(jo());let d=-1,f=a;return l.next((p=>ue.forEach(p,((_,v)=>(d<v.largestBatchId&&(d=v.largestBatchId),a.get(_)?ue.resolve():this.remoteDocumentCache.getEntry(e,_).next((E=>{f=f.insert(_,E)}))))).next((()=>this.populateOverlays(e,p,a))).next((()=>this.computeViews(e,f,p,tt()))).next((_=>({batchId:d,changes:xI(_)})))))}))}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new je(n)).next((r=>{let i=Iu();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i}))}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){const a=n.collectionGroup;let l=Iu();return this.indexManager.getCollectionParents(e,a).next((d=>ue.forEach(d,(f=>{const p=(function(v,E){return new kl(E,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)})(n,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,p,r,i).next((_=>{_.forEach(((v,E)=>{l=l.insert(v,E)}))}))})).next((()=>l))))}getDocumentsMatchingCollectionQuery(e,n,r,i){let a;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next((l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,a,i)))).next((l=>{a.forEach(((f,p)=>{const _=p.getKey();l.get(_)===null&&(l=l.insert(_,Ln.newInvalidDocument(_)))}));let d=Iu();return l.forEach(((f,p)=>{const _=a.get(f);_!==void 0&&Pu(_.mutation,p,kr.empty(),rn.now()),jh(n,p)&&(d=d.insert(f,p))})),d}))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uD{constructor(e){this.serializer=e,this.lr=new Map,this.hr=new Map}getBundleMetadata(e,n){return ue.resolve(this.lr.get(n))}saveBundleMetadata(e,n){return this.lr.set(n.id,(function(i){return{id:i.id,version:i.version,createTime:Vs(i.createTime)}})(n)),ue.resolve()}getNamedQuery(e,n){return ue.resolve(this.hr.get(n))}saveNamedQuery(e,n){return this.hr.set(n.name,(function(i){return{name:i.name,query:rD(i.bundledQuery),readTime:Vs(i.readTime)}})(n)),ue.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cD{constructor(){this.overlays=new Ot(je.comparator),this.Pr=new Map}getOverlay(e,n){return ue.resolve(this.overlays.get(n))}getOverlays(e,n){const r=jo();return ue.forEach(n,(i=>this.getOverlay(e,i).next((a=>{a!==null&&r.set(i,a)})))).next((()=>r))}saveOverlays(e,n,r){return r.forEach(((i,a)=>{this.ht(e,n,a)})),ue.resolve()}removeOverlaysForBatchId(e,n,r){const i=this.Pr.get(r);return i!==void 0&&(i.forEach((a=>this.overlays=this.overlays.remove(a))),this.Pr.delete(r)),ue.resolve()}getOverlaysForCollection(e,n,r){const i=jo(),a=n.length+1,l=new je(n.child("")),d=this.overlays.getIteratorFrom(l);for(;d.hasNext();){const f=d.getNext().value,p=f.getKey();if(!n.isPrefixOf(p.path))break;p.path.length===a&&f.largestBatchId>r&&i.set(f.getKey(),f)}return ue.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let a=new Ot(((p,_)=>p-_));const l=this.overlays.getIterator();for(;l.hasNext();){const p=l.getNext().value;if(p.getKey().getCollectionGroup()===n&&p.largestBatchId>r){let _=a.get(p.largestBatchId);_===null&&(_=jo(),a=a.insert(p.largestBatchId,_)),_.set(p.getKey(),p)}}const d=jo(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach(((p,_)=>d.set(p,_))),!(d.size()>=i)););return ue.resolve(d)}ht(e,n,r){const i=this.overlays.get(r.key);if(i!==null){const l=this.Pr.get(i.largestBatchId).delete(r.key);this.Pr.set(i.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new OO(n,r));let a=this.Pr.get(n);a===void 0&&(a=tt(),this.Pr.set(n,a)),this.Pr.set(n,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dD{constructor(){this.sessionToken=En.EMPTY_BYTE_STRING}getSessionToken(e){return ue.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,ue.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mg{constructor(){this.Ir=new _n(cn.Tr),this.Er=new _n(cn.dr)}isEmpty(){return this.Ir.isEmpty()}addReference(e,n){const r=new cn(e,n);this.Ir=this.Ir.add(r),this.Er=this.Er.add(r)}Ar(e,n){e.forEach((r=>this.addReference(r,n)))}removeReference(e,n){this.Rr(new cn(e,n))}Vr(e,n){e.forEach((r=>this.removeReference(r,n)))}mr(e){const n=new je(new Et([])),r=new cn(n,e),i=new cn(n,e+1),a=[];return this.Er.forEachInRange([r,i],(l=>{this.Rr(l),a.push(l.key)})),a}gr(){this.Ir.forEach((e=>this.Rr(e)))}Rr(e){this.Ir=this.Ir.delete(e),this.Er=this.Er.delete(e)}pr(e){const n=new je(new Et([])),r=new cn(n,e),i=new cn(n,e+1);let a=tt();return this.Er.forEachInRange([r,i],(l=>{a=a.add(l.key)})),a}containsKey(e){const n=new cn(e,0),r=this.Ir.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class cn{constructor(e,n){this.key=e,this.yr=n}static Tr(e,n){return je.comparator(e.key,n.key)||ct(e.yr,n.yr)}static dr(e,n){return ct(e.yr,n.yr)||je.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hD{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.wr=1,this.Sr=new _n(cn.Tr)}checkEmpty(e){return ue.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){const a=this.wr;this.wr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new NO(a,n,r,i);this.mutationQueue.push(l);for(const d of i)this.Sr=this.Sr.add(new cn(d.key,a)),this.indexManager.addToCollectionParentIndex(e,d.key.path.popLast());return ue.resolve(l)}lookupMutationBatch(e,n){return ue.resolve(this.br(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,i=this.Dr(r),a=i<0?0:i;return ue.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ue.resolve(this.mutationQueue.length===0?-1:this.wr-1)}getAllMutationBatches(e){return ue.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new cn(n,0),i=new cn(n,Number.POSITIVE_INFINITY),a=[];return this.Sr.forEachInRange([r,i],(l=>{const d=this.br(l.yr);a.push(d)})),ue.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new _n(ct);return n.forEach((i=>{const a=new cn(i,0),l=new cn(i,Number.POSITIVE_INFINITY);this.Sr.forEachInRange([a,l],(d=>{r=r.add(d.yr)}))})),ue.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,i=r.length+1;let a=r;je.isDocumentKey(a)||(a=a.child(""));const l=new cn(new je(a),0);let d=new _n(ct);return this.Sr.forEachWhile((f=>{const p=f.key.path;return!!r.isPrefixOf(p)&&(p.length===i&&(d=d.add(f.yr)),!0)}),l),ue.resolve(this.Cr(d))}Cr(e){const n=[];return e.forEach((r=>{const i=this.br(r);i!==null&&n.push(i)})),n}removeMutationBatch(e,n){mt(this.vr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.Sr;return ue.forEach(n.mutations,(i=>{const a=new cn(i.key,n.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)})).next((()=>{this.Sr=r}))}xn(e){}containsKey(e,n){const r=new cn(n,0),i=this.Sr.firstAfterOrEqual(r);return ue.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,ue.resolve()}vr(e,n){return this.Dr(e)}Dr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}br(e){const n=this.Dr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fD{constructor(e){this.Fr=e,this.docs=(function(){return new Ot(je.comparator)})(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,i=this.docs.get(r),a=i?i.size:0,l=this.Fr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return ue.resolve(r?r.document.mutableCopy():Ln.newInvalidDocument(n))}getEntries(e,n){let r=fi();return n.forEach((i=>{const a=this.docs.get(i);r=r.insert(i,a?a.document.mutableCopy():Ln.newInvalidDocument(i))})),ue.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let a=fi();const l=n.path,d=new je(l.child("")),f=this.docs.getIteratorFrom(d);for(;f.hasNext();){const{key:p,value:{document:_}}=f.getNext();if(!l.isPrefixOf(p.path))break;p.path.length>l.length+1||QN(ZN(_),r)<=0||(i.has(_.key)||jh(n,_))&&(a=a.insert(_.key,_.mutableCopy()))}return ue.resolve(a)}getAllFromCollectionGroup(e,n,r,i){qe()}Mr(e,n){return ue.forEach(this.docs,(r=>n(r)))}newChangeBuffer(e){return new pD(this)}getSize(e){return ue.resolve(this.size)}}class pD extends oD{constructor(e){super(),this.ur=e}applyChanges(e){const n=[];return this.changes.forEach(((r,i)=>{i.isValidDocument()?n.push(this.ur.addEntry(e,i)):this.ur.removeEntry(r)})),ue.waitFor(n)}getFromCache(e,n){return this.ur.getEntry(e,n)}getAllFromCache(e,n){return this.ur.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mD{constructor(e){this.persistence=e,this.Or=new Sl((n=>Pg(n)),Ng),this.lastRemoteSnapshotVersion=He.min(),this.highestTargetId=0,this.Nr=0,this.Lr=new Mg,this.targetCount=0,this.Br=fl.Ln()}forEachTarget(e,n){return this.Or.forEach(((r,i)=>n(i))),ue.resolve()}getLastRemoteSnapshotVersion(e){return ue.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ue.resolve(this.Nr)}allocateTargetId(e){return this.highestTargetId=this.Br.next(),ue.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Nr&&(this.Nr=n),ue.resolve()}Qn(e){this.Or.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Br=new fl(n),this.highestTargetId=n),e.sequenceNumber>this.Nr&&(this.Nr=e.sequenceNumber)}addTargetData(e,n){return this.Qn(n),this.targetCount+=1,ue.resolve()}updateTargetData(e,n){return this.Qn(n),ue.resolve()}removeTargetData(e,n){return this.Or.delete(n.target),this.Lr.mr(n.targetId),this.targetCount-=1,ue.resolve()}removeTargets(e,n,r){let i=0;const a=[];return this.Or.forEach(((l,d)=>{d.sequenceNumber<=n&&r.get(d.targetId)===null&&(this.Or.delete(l),a.push(this.removeMatchingKeysForTargetId(e,d.targetId)),i++)})),ue.waitFor(a).next((()=>i))}getTargetCount(e){return ue.resolve(this.targetCount)}getTargetData(e,n){const r=this.Or.get(n)||null;return ue.resolve(r)}addMatchingKeys(e,n,r){return this.Lr.Ar(n,r),ue.resolve()}removeMatchingKeys(e,n,r){this.Lr.Vr(n,r);const i=this.persistence.referenceDelegate,a=[];return i&&n.forEach((l=>{a.push(i.markPotentiallyOrphaned(e,l))})),ue.waitFor(a)}removeMatchingKeysForTargetId(e,n){return this.Lr.mr(n),ue.resolve()}getMatchingKeysForTargetId(e,n){const r=this.Lr.pr(n);return ue.resolve(r)}containsKey(e,n){return ue.resolve(this.Lr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gD{constructor(e,n){this.kr={},this.overlays={},this.qr=new xg(0),this.Qr=!1,this.Qr=!0,this.Kr=new dD,this.referenceDelegate=e(this),this.$r=new mD(this),this.indexManager=new sD,this.remoteDocumentCache=(function(i){return new fD(i)})((r=>this.referenceDelegate.Ur(r))),this.serializer=new nD(n),this.Wr=new uD(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Qr=!1,Promise.resolve()}get started(){return this.Qr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new cD,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.kr[e.toKey()];return r||(r=new hD(n,this.referenceDelegate),this.kr[e.toKey()]=r),r}getGlobalsCache(){return this.Kr}getTargetCache(){return this.$r}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Wr}runTransaction(e,n,r){Ce("MemoryPersistence","Starting transaction:",e);const i=new yD(this.qr.next());return this.referenceDelegate.Gr(),r(i).next((a=>this.referenceDelegate.zr(i).next((()=>a)))).toPromise().then((a=>(i.raiseOnCommittedEvent(),a)))}jr(e,n){return ue.or(Object.values(this.kr).map((r=>()=>r.containsKey(e,n))))}}class yD extends JN{constructor(e){super(),this.currentSequenceNumber=e}}class jg{constructor(e){this.persistence=e,this.Hr=new Mg,this.Jr=null}static Yr(e){return new jg(e)}get Zr(){if(this.Jr)return this.Jr;throw qe()}addReference(e,n,r){return this.Hr.addReference(r,n),this.Zr.delete(r.toString()),ue.resolve()}removeReference(e,n,r){return this.Hr.removeReference(r,n),this.Zr.add(r.toString()),ue.resolve()}markPotentiallyOrphaned(e,n){return this.Zr.add(n.toString()),ue.resolve()}removeTarget(e,n){this.Hr.mr(n.targetId).forEach((i=>this.Zr.add(i.toString())));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next((i=>{i.forEach((a=>this.Zr.add(a.toString())))})).next((()=>r.removeTargetData(e,n)))}Gr(){this.Jr=new Set}zr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ue.forEach(this.Zr,(r=>{const i=je.fromPath(r);return this.Xr(e,i).next((a=>{a||n.removeEntry(i,He.min())}))})).next((()=>(this.Jr=null,n.apply(e))))}updateLimboDocument(e,n){return this.Xr(e,n).next((r=>{r?this.Zr.delete(n.toString()):this.Zr.add(n.toString())}))}Ur(e){return 0}Xr(e,n){return ue.or([()=>ue.resolve(this.Hr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.jr(e,n)])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fg{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.Ki=r,this.$i=i}static Ui(e,n){let r=tt(),i=tt();for(const a of n.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:i=i.add(a.doc.key)}return new Fg(e,n.fromCache,r,i)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vD{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _D{constructor(){this.Wi=!1,this.Gi=!1,this.zi=100,this.ji=(function(){return aC()?8:XN(wn())>0?6:4})()}initialize(e,n){this.Hi=e,this.indexManager=n,this.Wi=!0}getDocumentsMatchingQuery(e,n,r,i){const a={result:null};return this.Ji(e,n).next((l=>{a.result=l})).next((()=>{if(!a.result)return this.Yi(e,n,i,r).next((l=>{a.result=l}))})).next((()=>{if(a.result)return;const l=new vD;return this.Zi(e,n,l).next((d=>{if(a.result=d,this.Gi)return this.Xi(e,n,l,d.size)}))})).next((()=>a.result))}Xi(e,n,r,i){return r.documentReadCount<this.zi?(pu()<=rt.DEBUG&&Ce("QueryEngine","SDK will not create cache indexes for query:",Ga(n),"since it only creates cache indexes for collection contains","more than or equal to",this.zi,"documents"),ue.resolve()):(pu()<=rt.DEBUG&&Ce("QueryEngine","Query:",Ga(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.ji*i?(pu()<=rt.DEBUG&&Ce("QueryEngine","The SDK decides to create cache indexes for query:",Ga(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ls(n))):ue.resolve())}Ji(e,n){if(n0(n))return ue.resolve(null);let r=Ls(n);return this.indexManager.getIndexType(e,r).next((i=>i===0?null:(n.limit!==null&&i===1&&(n=zm(n,null,"F"),r=Ls(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next((a=>{const l=tt(...a);return this.Hi.getDocuments(e,l).next((d=>this.indexManager.getMinOffset(e,r).next((f=>{const p=this.es(n,d);return this.ts(n,p,l,f.readTime)?this.Ji(e,zm(n,null,"F")):this.ns(e,p,n,f)}))))})))))}Yi(e,n,r,i){return n0(n)||i.isEqual(He.min())?ue.resolve(null):this.Hi.getDocuments(e,r).next((a=>{const l=this.es(n,a);return this.ts(n,l,r,i)?ue.resolve(null):(pu()<=rt.DEBUG&&Ce("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Ga(n)),this.ns(e,l,n,GN(i,-1)).next((d=>d)))}))}es(e,n){let r=new _n(kI(e));return n.forEach(((i,a)=>{jh(e,a)&&(r=r.add(a))})),r}ts(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const a=e.limitType==="F"?n.last():n.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(i)>0)}Zi(e,n,r){return pu()<=rt.DEBUG&&Ce("QueryEngine","Using full collection scan to execute query:",Ga(n)),this.Hi.getDocumentsMatchingQuery(e,n,ro.min(),r)}ns(e,n,r,i){return this.Hi.getDocumentsMatchingQuery(e,r,i).next((a=>(n.forEach((l=>{a=a.insert(l.key,l)})),a)))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wD{constructor(e,n,r,i){this.persistence=e,this.rs=n,this.serializer=i,this.ss=new Ot(ct),this.os=new Sl((a=>Pg(a)),Ng),this._s=new Map,this.us=e.getRemoteDocumentCache(),this.$r=e.getTargetCache(),this.Wr=e.getBundleCache(),this.cs(r)}cs(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new lD(this.us,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.us.setIndexManager(this.indexManager),this.rs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(n=>e.collect(n,this.ss)))}}function ED(t,e,n,r){return new wD(t,e,n,r)}async function KI(t,e){const n=We(t);return await n.persistence.runTransaction("Handle user change","readonly",(r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next((a=>(i=a,n.cs(e),n.mutationQueue.getAllMutationBatches(r)))).next((a=>{const l=[],d=[];let f=tt();for(const p of i){l.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}for(const p of a){d.push(p.batchId);for(const _ of p.mutations)f=f.add(_.key)}return n.localDocuments.getDocuments(r,f).next((p=>({ls:p,removedBatchIds:l,addedBatchIds:d})))}))}))}function TD(t,e){const n=We(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",(r=>{const i=e.batch.keys(),a=n.us.newChangeBuffer({trackRemovals:!0});return(function(d,f,p,_){const v=p.batch,E=v.keys();let x=ue.resolve();return E.forEach((A=>{x=x.next((()=>_.getEntry(f,A))).next((j=>{const R=p.docVersions.get(A);mt(R!==null),j.version.compareTo(R)<0&&(v.applyToRemoteDocument(j,p),j.isValidDocument()&&(j.setReadTime(p.commitVersion),_.addEntry(j)))}))})),x.next((()=>d.mutationQueue.removeMutationBatch(f,v)))})(n,r,e,a).next((()=>a.apply(r))).next((()=>n.mutationQueue.performConsistencyCheck(r))).next((()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId))).next((()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,(function(d){let f=tt();for(let p=0;p<d.mutationResults.length;++p)d.mutationResults[p].transformResults.length>0&&(f=f.add(d.batch.mutations[p].key));return f})(e)))).next((()=>n.localDocuments.getDocuments(r,i)))}))}function GI(t){const e=We(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",(n=>e.$r.getLastRemoteSnapshotVersion(n)))}function ID(t,e){const n=We(t),r=e.snapshotVersion;let i=n.ss;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(a=>{const l=n.us.newChangeBuffer({trackRemovals:!0});i=n.ss;const d=[];e.targetChanges.forEach(((_,v)=>{const E=i.get(v);if(!E)return;d.push(n.$r.removeMatchingKeys(a,_.removedDocuments,v).next((()=>n.$r.addMatchingKeys(a,_.addedDocuments,v))));let x=E.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?x=x.withResumeToken(En.EMPTY_BYTE_STRING,He.min()).withLastLimboFreeSnapshotVersion(He.min()):_.resumeToken.approximateByteSize()>0&&(x=x.withResumeToken(_.resumeToken,r)),i=i.insert(v,x),(function(j,R,K){return j.resumeToken.approximateByteSize()===0||R.snapshotVersion.toMicroseconds()-j.snapshotVersion.toMicroseconds()>=3e8?!0:K.addedDocuments.size+K.modifiedDocuments.size+K.removedDocuments.size>0})(E,x,_)&&d.push(n.$r.updateTargetData(a,x))}));let f=fi(),p=tt();if(e.documentUpdates.forEach((_=>{e.resolvedLimboDocuments.has(_)&&d.push(n.persistence.referenceDelegate.updateLimboDocument(a,_))})),d.push(bD(a,l,e.documentUpdates).next((_=>{f=_.hs,p=_.Ps}))),!r.isEqual(He.min())){const _=n.$r.getLastRemoteSnapshotVersion(a).next((v=>n.$r.setTargetsMetadata(a,a.currentSequenceNumber,r)));d.push(_)}return ue.waitFor(d).next((()=>l.apply(a))).next((()=>n.localDocuments.getLocalViewOfDocuments(a,f,p))).next((()=>f))})).then((a=>(n.ss=i,a)))}function bD(t,e,n){let r=tt(),i=tt();return n.forEach((a=>r=r.add(a))),e.getEntries(t,r).next((a=>{let l=fi();return n.forEach(((d,f)=>{const p=a.get(d);f.isFoundDocument()!==p.isFoundDocument()&&(i=i.add(d)),f.isNoDocument()&&f.version.isEqual(He.min())?(e.removeEntry(d,f.readTime),l=l.insert(d,f)):!p.isValidDocument()||f.version.compareTo(p.version)>0||f.version.compareTo(p.version)===0&&p.hasPendingWrites?(e.addEntry(f),l=l.insert(d,f)):Ce("LocalStore","Ignoring outdated watch update for ",d,". Current version:",p.version," Watch version:",f.version)})),{hs:l,Ps:i}}))}function kD(t,e){const n=We(t);return n.persistence.runTransaction("Get next mutation batch","readonly",(r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e))))}function SD(t,e){const n=We(t);return n.persistence.runTransaction("Allocate target","readwrite",(r=>{let i;return n.$r.getTargetData(r,e).next((a=>a?(i=a,ue.resolve(i)):n.$r.allocateTargetId(r).next((l=>(i=new Qi(e,l,"TargetPurposeListen",r.currentSequenceNumber),n.$r.addTargetData(r,i).next((()=>i)))))))})).then((r=>{const i=n.ss.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.ss=n.ss.insert(r.targetId,r),n.os.set(e,r.targetId)),r}))}async function Wm(t,e,n){const r=We(t),i=r.ss.get(e),a=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",a,(l=>r.persistence.referenceDelegate.removeTarget(l,i)))}catch(l){if(!ic(l))throw l;Ce("LocalStore",`Failed to update sequence numbers for target ${e}: ${l}`)}r.ss=r.ss.remove(e),r.os.delete(i.target)}function f0(t,e,n){const r=We(t);let i=He.min(),a=tt();return r.persistence.runTransaction("Execute query","readwrite",(l=>(function(f,p,_){const v=We(f),E=v.os.get(_);return E!==void 0?ue.resolve(v.ss.get(E)):v.$r.getTargetData(p,_)})(r,l,Ls(e)).next((d=>{if(d)return i=d.lastLimboFreeSnapshotVersion,r.$r.getMatchingKeysForTargetId(l,d.targetId).next((f=>{a=f}))})).next((()=>r.rs.getDocumentsMatchingQuery(l,e,n?i:He.min(),n?a:tt()))).next((d=>(xD(r,gO(e),d),{documents:d,Is:a})))))}function xD(t,e,n){let r=t._s.get(e)||He.min();n.forEach(((i,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)})),t._s.set(e,r)}class p0{constructor(){this.activeTargetIds=TO()}Vs(e){this.activeTargetIds=this.activeTargetIds.add(e)}fs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Rs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class AD{constructor(){this.io=new p0,this.so={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e){return this.io.Vs(e),this.so[e]||"not-current"}updateQueryState(e,n,r){this.so[e]=n}removeLocalQueryTarget(e){this.io.fs(e)}isLocalQueryTarget(e){return this.io.activeTargetIds.has(e)}clearQueryState(e){delete this.so[e]}getAllActiveQueryTargets(){return this.io.activeTargetIds}isActiveQueryTarget(e){return this.io.activeTargetIds.has(e)}start(){return this.io=new p0,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RD{oo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class m0{constructor(){this._o=()=>this.ao(),this.uo=()=>this.co(),this.lo=[],this.ho()}oo(e){this.lo.push(e)}shutdown(){window.removeEventListener("online",this._o),window.removeEventListener("offline",this.uo)}ho(){window.addEventListener("online",this._o),window.addEventListener("offline",this.uo)}ao(){Ce("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.lo)e(0)}co(){Ce("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.lo)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Dd=null;function Xp(){return Dd===null?Dd=(function(){return 268435456+Math.round(2147483648*Math.random())})():Dd++,"0x"+Dd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CD={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PD{constructor(e){this.Po=e.Po,this.Io=e.Io}To(e){this.Eo=e}Ao(e){this.Ro=e}Vo(e){this.mo=e}onMessage(e){this.fo=e}close(){this.Io()}send(e){this.Po(e)}po(){this.Eo()}yo(){this.Ro()}wo(e){this.mo(e)}So(e){this.fo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rn="WebChannelConnection";class ND extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),a=encodeURIComponent(this.databaseId.database);this.bo=r+"://"+n.host,this.Do=`projects/${i}/databases/${a}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${a}`}get vo(){return!1}Fo(n,r,i,a,l){const d=Xp(),f=this.Mo(n,r.toUriEncodedString());Ce("RestConnection",`Sending RPC '${n}' ${d}:`,f,i);const p={"google-cloud-resource-prefix":this.Do,"x-goog-request-params":this.Co};return this.xo(p,a,l),this.Oo(n,f,p,i).then((_=>(Ce("RestConnection",`Received RPC '${n}' ${d}: `,_),_)),(_=>{throw ul("RestConnection",`RPC '${n}' ${d} failed with error: `,_,"url: ",f,"request:",i),_}))}No(n,r,i,a,l,d){return this.Fo(n,r,i,a,l)}xo(n,r,i){n["X-Goog-Api-Client"]=(function(){return"gl-js/ fire/"+bl})(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach(((a,l)=>n[l]=a)),i&&i.headers.forEach(((a,l)=>n[l]=a))}Mo(n,r){const i=CD[n];return`${this.bo}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Oo(e,n,r,i){const a=Xp();return new Promise(((l,d)=>{const f=new oI;f.setWithCredentials(!0),f.listenOnce(lI.COMPLETE,(()=>{try{switch(f.getLastErrorCode()){case Kd.NO_ERROR:const _=f.getResponseJson();Ce(Rn,`XHR for RPC '${e}' ${a} received:`,JSON.stringify(_)),l(_);break;case Kd.TIMEOUT:Ce(Rn,`RPC '${e}' ${a} timed out`),d(new Te(ne.DEADLINE_EXCEEDED,"Request time out"));break;case Kd.HTTP_ERROR:const v=f.getStatus();if(Ce(Rn,`RPC '${e}' ${a} failed with status:`,v,"response text:",f.getResponseText()),v>0){let E=f.getResponseJson();Array.isArray(E)&&(E=E[0]);const x=E==null?void 0:E.error;if(x&&x.status&&x.message){const A=(function(R){const K=R.toLowerCase().replace(/_/g,"-");return Object.values(ne).indexOf(K)>=0?K:ne.UNKNOWN})(x.status);d(new Te(A,x.message))}else d(new Te(ne.UNKNOWN,"Server responded with status "+f.getStatus()))}else d(new Te(ne.UNAVAILABLE,"Connection failed."));break;default:qe()}}finally{Ce(Rn,`RPC '${e}' ${a} completed.`)}}));const p=JSON.stringify(i);Ce(Rn,`RPC '${e}' ${a} sending request:`,i),f.send(n,"POST",p,r,15)}))}Lo(e,n,r){const i=Xp(),a=[this.bo,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=dI(),d=cI(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},p=this.longPollingOptions.timeoutSeconds;p!==void 0&&(f.longPollingTimeout=Math.round(1e3*p)),this.useFetchStreams&&(f.xmlHttpFactory=new aI({})),this.xo(f.initMessageHeaders,n,r),f.encodeInitMessageHeaders=!0;const _=a.join("");Ce(Rn,`Creating RPC '${e}' stream ${i}: ${_}`,f);const v=l.createWebChannel(_,f);let E=!1,x=!1;const A=new PD({Po:R=>{x?Ce(Rn,`Not sending because RPC '${e}' stream ${i} is closed:`,R):(E||(Ce(Rn,`Opening RPC '${e}' stream ${i} transport.`),v.open(),E=!0),Ce(Rn,`RPC '${e}' stream ${i} sending:`,R),v.send(R))},Io:()=>v.close()}),j=(R,K,$)=>{R.listen(K,(ee=>{try{$(ee)}catch(J){setTimeout((()=>{throw J}),0)}}))};return j(v,Tu.EventType.OPEN,(()=>{x||(Ce(Rn,`RPC '${e}' stream ${i} transport opened.`),A.po())})),j(v,Tu.EventType.CLOSE,(()=>{x||(x=!0,Ce(Rn,`RPC '${e}' stream ${i} transport closed`),A.wo())})),j(v,Tu.EventType.ERROR,(R=>{x||(x=!0,ul(Rn,`RPC '${e}' stream ${i} transport errored:`,R),A.wo(new Te(ne.UNAVAILABLE,"The operation could not be completed")))})),j(v,Tu.EventType.MESSAGE,(R=>{var K;if(!x){const $=R.data[0];mt(!!$);const ee=$,J=ee.error||((K=ee[0])===null||K===void 0?void 0:K.error);if(J){Ce(Rn,`RPC '${e}' stream ${i} received error:`,J);const ce=J.status;let _e=(function(C){const D=qt[C];if(D!==void 0)return MI(D)})(ce),L=J.message;_e===void 0&&(_e=ne.INTERNAL,L="Unknown error status: "+ce+" with message "+J.message),x=!0,A.wo(new Te(_e,L)),v.close()}else Ce(Rn,`RPC '${e}' stream ${i} received:`,$),A.So($)}})),j(d,uI.STAT_EVENT,(R=>{R.stat===Lm.PROXY?Ce(Rn,`RPC '${e}' stream ${i} detected buffering proxy`):R.stat===Lm.NOPROXY&&Ce(Rn,`RPC '${e}' stream ${i} detected no buffering proxy`)})),setTimeout((()=>{A.yo()}),0),A}}function em(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $h(t){return new $O(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZI{constructor(e,n,r=1e3,i=1.5,a=6e4){this.ai=e,this.timerId=n,this.Bo=r,this.ko=i,this.qo=a,this.Qo=0,this.Ko=null,this.$o=Date.now(),this.reset()}reset(){this.Qo=0}Uo(){this.Qo=this.qo}Wo(e){this.cancel();const n=Math.floor(this.Qo+this.Go()),r=Math.max(0,Date.now()-this.$o),i=Math.max(0,n-r);i>0&&Ce("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Qo} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.Ko=this.ai.enqueueAfterDelay(this.timerId,i,(()=>(this.$o=Date.now(),e()))),this.Qo*=this.ko,this.Qo<this.Bo&&(this.Qo=this.Bo),this.Qo>this.qo&&(this.Qo=this.qo)}zo(){this.Ko!==null&&(this.Ko.skipDelay(),this.Ko=null)}cancel(){this.Ko!==null&&(this.Ko.cancel(),this.Ko=null)}Go(){return(Math.random()-.5)*this.Qo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QI{constructor(e,n,r,i,a,l,d,f){this.ai=e,this.jo=r,this.Ho=i,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=d,this.listener=f,this.state=0,this.Jo=0,this.Yo=null,this.Zo=null,this.stream=null,this.Xo=0,this.e_=new ZI(e,n)}t_(){return this.state===1||this.state===5||this.n_()}n_(){return this.state===2||this.state===3}start(){this.Xo=0,this.state!==4?this.auth():this.r_()}async stop(){this.t_()&&await this.close(0)}i_(){this.state=0,this.e_.reset()}s_(){this.n_()&&this.Yo===null&&(this.Yo=this.ai.enqueueAfterDelay(this.jo,6e4,(()=>this.o_())))}__(e){this.a_(),this.stream.send(e)}async o_(){if(this.n_())return this.close(0)}a_(){this.Yo&&(this.Yo.cancel(),this.Yo=null)}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}async close(e,n){this.a_(),this.u_(),this.e_.cancel(),this.Jo++,e!==4?this.e_.reset():n&&n.code===ne.RESOURCE_EXHAUSTED?(hi(n.toString()),hi("Using maximum backoff delay to prevent overloading the backend."),this.e_.Uo()):n&&n.code===ne.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.c_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.Vo(n)}c_(){}auth(){this.state=1;const e=this.l_(this.Jo),n=this.Jo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((([r,i])=>{this.Jo===n&&this.h_(r,i)}),(r=>{e((()=>{const i=new Te(ne.UNKNOWN,"Fetching auth token failed: "+r.message);return this.P_(i)}))}))}h_(e,n){const r=this.l_(this.Jo);this.stream=this.I_(e,n),this.stream.To((()=>{r((()=>this.listener.To()))})),this.stream.Ao((()=>{r((()=>(this.state=2,this.Zo=this.ai.enqueueAfterDelay(this.Ho,1e4,(()=>(this.n_()&&(this.state=3),Promise.resolve()))),this.listener.Ao())))})),this.stream.Vo((i=>{r((()=>this.P_(i)))})),this.stream.onMessage((i=>{r((()=>++this.Xo==1?this.T_(i):this.onNext(i)))}))}r_(){this.state=5,this.e_.Wo((async()=>{this.state=0,this.start()}))}P_(e){return Ce("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}l_(e){return n=>{this.ai.enqueueAndForget((()=>this.Jo===e?n():(Ce("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class OD extends QI{constructor(e,n,r,i,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}I_(e,n){return this.connection.Lo("Listen",e,n)}T_(e){return this.onNext(e)}onNext(e){this.e_.reset();const n=HO(this.serializer,e),r=(function(a){if(!("targetChange"in a))return He.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?He.min():l.readTime?Vs(l.readTime):He.min()})(e);return this.listener.E_(n,r)}d_(e){const n={};n.database=Hm(this.serializer),n.addTarget=(function(a,l){let d;const f=l.target;if(d=Fm(f)?{documents:GO(a,f)}:{query:ZO(a,f)._t},d.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){d.resumeToken=UI(a,l.resumeToken);const p=$m(a,l.expectedCount);p!==null&&(d.expectedCount=p)}else if(l.snapshotVersion.compareTo(He.min())>0){d.readTime=fh(a,l.snapshotVersion.toTimestamp());const p=$m(a,l.expectedCount);p!==null&&(d.expectedCount=p)}return d})(this.serializer,e);const r=YO(this.serializer,e);r&&(n.labels=r),this.__(n)}A_(e){const n={};n.database=Hm(this.serializer),n.removeTarget=e,this.__(n)}}class DD extends QI{constructor(e,n,r,i,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,l),this.serializer=a}get R_(){return this.Xo>0}start(){this.lastStreamToken=void 0,super.start()}c_(){this.R_&&this.V_([])}I_(e,n){return this.connection.Lo("Write",e,n)}T_(e){return mt(!!e.streamToken),this.lastStreamToken=e.streamToken,mt(!e.writeResults||e.writeResults.length===0),this.listener.m_()}onNext(e){mt(!!e.streamToken),this.lastStreamToken=e.streamToken,this.e_.reset();const n=KO(e.writeResults,e.commitTime),r=Vs(e.commitTime);return this.listener.f_(r,n)}g_(){const e={};e.database=Hm(this.serializer),this.__(e)}V_(e){const n={streamToken:this.lastStreamToken,writes:e.map((r=>WO(this.serializer,r)))};this.__(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LD extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.p_=!1}y_(){if(this.p_)throw new Te(ne.FAILED_PRECONDITION,"The client has already been terminated.")}Fo(e,n,r,i){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([a,l])=>this.connection.Fo(e,Bm(n,r),i,a,l))).catch((a=>{throw a.name==="FirebaseError"?(a.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new Te(ne.UNKNOWN,a.toString())}))}No(e,n,r,i,a){return this.y_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((([l,d])=>this.connection.No(e,Bm(n,r),i,l,d,a))).catch((l=>{throw l.name==="FirebaseError"?(l.code===ne.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new Te(ne.UNKNOWN,l.toString())}))}terminate(){this.p_=!0,this.connection.terminate()}}class VD{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.w_=0,this.S_=null,this.b_=!0}D_(){this.w_===0&&(this.C_("Unknown"),this.S_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.S_=null,this.v_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve()))))}F_(e){this.state==="Online"?this.C_("Unknown"):(this.w_++,this.w_>=1&&(this.M_(),this.v_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.M_(),this.w_=0,e==="Online"&&(this.b_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}v_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.b_?(hi(n),this.b_=!1):Ce("OnlineStateTracker",n)}M_(){this.S_!==null&&(this.S_.cancel(),this.S_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MD{constructor(e,n,r,i,a){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.x_=[],this.O_=new Map,this.N_=new Set,this.L_=[],this.B_=a,this.B_.oo((l=>{r.enqueueAndForget((async()=>{ra(this)&&(Ce("RemoteStore","Restarting streams for network reachability change."),await(async function(f){const p=We(f);p.N_.add(4),await lc(p),p.k_.set("Unknown"),p.N_.delete(4),await Bh(p)})(this))}))})),this.k_=new VD(r,i)}}async function Bh(t){if(ra(t))for(const e of t.L_)await e(!0)}async function lc(t){for(const e of t.L_)await e(!1)}function YI(t,e){const n=We(t);n.O_.has(e.targetId)||(n.O_.set(e.targetId,e),Bg(n)?$g(n):xl(n).n_()&&zg(n,e))}function Ug(t,e){const n=We(t),r=xl(n);n.O_.delete(e),r.n_()&&JI(n,e),n.O_.size===0&&(r.n_()?r.s_():ra(n)&&n.k_.set("Unknown"))}function zg(t,e){if(t.q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(He.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}xl(t).d_(e)}function JI(t,e){t.q_.xe(e),xl(t).A_(e)}function $g(t){t.q_=new jO({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.O_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),xl(t).start(),t.k_.D_()}function Bg(t){return ra(t)&&!xl(t).t_()&&t.O_.size>0}function ra(t){return We(t).N_.size===0}function XI(t){t.q_=void 0}async function jD(t){t.k_.set("Online")}async function FD(t){t.O_.forEach(((e,n)=>{zg(t,e)}))}async function UD(t,e){XI(t),Bg(t)?(t.k_.F_(e),$g(t)):t.k_.set("Unknown")}async function zD(t,e,n){if(t.k_.set("Online"),e instanceof FI&&e.state===2&&e.cause)try{await(async function(i,a){const l=a.cause;for(const d of a.targetIds)i.O_.has(d)&&(await i.remoteSyncer.rejectListen(d,l),i.O_.delete(d),i.q_.removeTarget(d))})(t,e)}catch(r){Ce("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),await ph(t,r)}else if(e instanceof Qd?t.q_.Ke(e):e instanceof jI?t.q_.He(e):t.q_.We(e),!n.isEqual(He.min()))try{const r=await GI(t.localStore);n.compareTo(r)>=0&&await(function(a,l){const d=a.q_.rt(l);return d.targetChanges.forEach(((f,p)=>{if(f.resumeToken.approximateByteSize()>0){const _=a.O_.get(p);_&&a.O_.set(p,_.withResumeToken(f.resumeToken,l))}})),d.targetMismatches.forEach(((f,p)=>{const _=a.O_.get(f);if(!_)return;a.O_.set(f,_.withResumeToken(En.EMPTY_BYTE_STRING,_.snapshotVersion)),JI(a,f);const v=new Qi(_.target,f,p,_.sequenceNumber);zg(a,v)})),a.remoteSyncer.applyRemoteEvent(d)})(t,n)}catch(r){Ce("RemoteStore","Failed to raise snapshot:",r),await ph(t,r)}}async function ph(t,e,n){if(!ic(e))throw e;t.N_.add(1),await lc(t),t.k_.set("Offline"),n||(n=()=>GI(t.localStore)),t.asyncQueue.enqueueRetryable((async()=>{Ce("RemoteStore","Retrying IndexedDB access"),await n(),t.N_.delete(1),await Bh(t)}))}function eb(t,e){return e().catch((n=>ph(t,n,e)))}async function qh(t){const e=We(t),n=io(e);let r=e.x_.length>0?e.x_[e.x_.length-1].batchId:-1;for(;$D(e);)try{const i=await kD(e.localStore,r);if(i===null){e.x_.length===0&&n.s_();break}r=i.batchId,BD(e,i)}catch(i){await ph(e,i)}tb(e)&&nb(e)}function $D(t){return ra(t)&&t.x_.length<10}function BD(t,e){t.x_.push(e);const n=io(t);n.n_()&&n.R_&&n.V_(e.mutations)}function tb(t){return ra(t)&&!io(t).t_()&&t.x_.length>0}function nb(t){io(t).start()}async function qD(t){io(t).g_()}async function HD(t){const e=io(t);for(const n of t.x_)e.V_(n.mutations)}async function WD(t,e,n){const r=t.x_.shift(),i=Dg.from(r,e,n);await eb(t,(()=>t.remoteSyncer.applySuccessfulWrite(i))),await qh(t)}async function KD(t,e){e&&io(t).R_&&await(async function(r,i){if((function(l){return LO(l)&&l!==ne.ABORTED})(i.code)){const a=r.x_.shift();io(r).i_(),await eb(r,(()=>r.remoteSyncer.rejectFailedWrite(a.batchId,i))),await qh(r)}})(t,e),tb(t)&&nb(t)}async function g0(t,e){const n=We(t);n.asyncQueue.verifyOperationInProgress(),Ce("RemoteStore","RemoteStore received new credentials");const r=ra(n);n.N_.add(3),await lc(n),r&&n.k_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.N_.delete(3),await Bh(n)}async function GD(t,e){const n=We(t);e?(n.N_.delete(2),await Bh(n)):e||(n.N_.add(2),await lc(n),n.k_.set("Unknown"))}function xl(t){return t.Q_||(t.Q_=(function(n,r,i){const a=We(n);return a.y_(),new OD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{To:jD.bind(null,t),Ao:FD.bind(null,t),Vo:UD.bind(null,t),E_:zD.bind(null,t)}),t.L_.push((async e=>{e?(t.Q_.i_(),Bg(t)?$g(t):t.k_.set("Unknown")):(await t.Q_.stop(),XI(t))}))),t.Q_}function io(t){return t.K_||(t.K_=(function(n,r,i){const a=We(n);return a.y_(),new DD(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,i)})(t.datastore,t.asyncQueue,{To:()=>Promise.resolve(),Ao:qD.bind(null,t),Vo:KD.bind(null,t),m_:HD.bind(null,t),f_:WD.bind(null,t)}),t.L_.push((async e=>{e?(t.K_.i_(),await qh(t)):(await t.K_.stop(),t.x_.length>0&&(Ce("RemoteStore",`Stopping write stream with ${t.x_.length} pending writes`),t.x_=[]))}))),t.K_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qg{constructor(e,n,r,i,a){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=a,this.deferred=new ci,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((l=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,a){const l=Date.now()+r,d=new qg(e,n,l,i,a);return d.start(r),d}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new Te(ne.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Hg(t,e){if(hi("AsyncQueue",`${e}: ${t}`),ic(t))return new Te(ne.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nl{constructor(e){this.comparator=e?(n,r)=>e(n,r)||je.comparator(n.key,r.key):(n,r)=>je.comparator(n.key,r.key),this.keyedMap=Iu(),this.sortedSet=new Ot(this.comparator)}static emptySet(e){return new nl(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((n,r)=>(e(n),!1)))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof nl)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const i=n.getNext().key,a=r.getNext().key;if(!i.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach((n=>{e.push(n.toString())})),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new nl;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y0{constructor(){this.U_=new Ot(je.comparator)}track(e){const n=e.doc.key,r=this.U_.get(n);r?e.type!==0&&r.type===3?this.U_=this.U_.insert(n,e):e.type===3&&r.type!==1?this.U_=this.U_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.U_=this.U_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.U_=this.U_.remove(n):e.type===1&&r.type===2?this.U_=this.U_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.U_=this.U_.insert(n,{type:2,doc:e.doc}):qe():this.U_=this.U_.insert(n,e)}W_(){const e=[];return this.U_.inorderTraversal(((n,r)=>{e.push(r)})),e}}class pl{constructor(e,n,r,i,a,l,d,f,p){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=d,this.excludesMetadataChanges=f,this.hasCachedResults=p}static fromInitialDocuments(e,n,r,i,a){const l=[];return n.forEach((d=>{l.push({type:0,doc:d})})),new pl(e,n,nl.emptySet(n),l,r,i,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Mh(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ZD{constructor(){this.G_=void 0,this.z_=[]}j_(){return this.z_.some((e=>e.H_()))}}class QD{constructor(){this.queries=v0(),this.onlineState="Unknown",this.J_=new Set}terminate(){(function(n,r){const i=We(n),a=i.queries;i.queries=v0(),a.forEach(((l,d)=>{for(const f of d.z_)f.onError(r)}))})(this,new Te(ne.ABORTED,"Firestore shutting down"))}}function v0(){return new Sl((t=>bI(t)),Mh)}async function Wg(t,e){const n=We(t);let r=3;const i=e.query;let a=n.queries.get(i);a?!a.j_()&&e.H_()&&(r=2):(a=new ZD,r=e.H_()?0:1);try{switch(r){case 0:a.G_=await n.onListen(i,!0);break;case 1:a.G_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(l){const d=Hg(l,`Initialization of query '${Ga(e.query)}' failed`);return void e.onError(d)}n.queries.set(i,a),a.z_.push(e),e.Y_(n.onlineState),a.G_&&e.Z_(a.G_)&&Gg(n)}async function Kg(t,e){const n=We(t),r=e.query;let i=3;const a=n.queries.get(r);if(a){const l=a.z_.indexOf(e);l>=0&&(a.z_.splice(l,1),a.z_.length===0?i=e.H_()?0:1:!a.j_()&&e.H_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function YD(t,e){const n=We(t);let r=!1;for(const i of e){const a=i.query,l=n.queries.get(a);if(l){for(const d of l.z_)d.Z_(i)&&(r=!0);l.G_=i}}r&&Gg(n)}function JD(t,e,n){const r=We(t),i=r.queries.get(e);if(i)for(const a of i.z_)a.onError(n);r.queries.delete(e)}function Gg(t){t.J_.forEach((e=>{e.next()}))}var Km,_0;(_0=Km||(Km={})).X_="default",_0.Cache="cache";class Zg{constructor(e,n,r){this.query=e,this.ea=n,this.ta=!1,this.na=null,this.onlineState="Unknown",this.options=r||{}}Z_(e){if(!this.options.includeMetadataChanges){const r=[];for(const i of e.docChanges)i.type!==3&&r.push(i);e=new pl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ta?this.ra(e)&&(this.ea.next(e),n=!0):this.ia(e,this.onlineState)&&(this.sa(e),n=!0),this.na=e,n}onError(e){this.ea.error(e)}Y_(e){this.onlineState=e;let n=!1;return this.na&&!this.ta&&this.ia(this.na,e)&&(this.sa(this.na),n=!0),n}ia(e,n){if(!e.fromCache||!this.H_())return!0;const r=n!=="Offline";return(!this.options.oa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ra(e){if(e.docChanges.length>0)return!0;const n=this.na&&this.na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}sa(e){e=pl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ta=!0,this.ea.next(e)}H_(){return this.options.source!==Km.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rb{constructor(e){this.key=e}}class sb{constructor(e){this.key=e}}class XD{constructor(e,n){this.query=e,this.Ia=n,this.Ta=null,this.hasCachedResults=!1,this.current=!1,this.Ea=tt(),this.mutatedKeys=tt(),this.da=kI(e),this.Aa=new nl(this.da)}get Ra(){return this.Ia}Va(e,n){const r=n?n.ma:new y0,i=n?n.Aa:this.Aa;let a=n?n.mutatedKeys:this.mutatedKeys,l=i,d=!1;const f=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,p=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal(((_,v)=>{const E=i.get(_),x=jh(this.query,v)?v:null,A=!!E&&this.mutatedKeys.has(E.key),j=!!x&&(x.hasLocalMutations||this.mutatedKeys.has(x.key)&&x.hasCommittedMutations);let R=!1;E&&x?E.data.isEqual(x.data)?A!==j&&(r.track({type:3,doc:x}),R=!0):this.fa(E,x)||(r.track({type:2,doc:x}),R=!0,(f&&this.da(x,f)>0||p&&this.da(x,p)<0)&&(d=!0)):!E&&x?(r.track({type:0,doc:x}),R=!0):E&&!x&&(r.track({type:1,doc:E}),R=!0,(f||p)&&(d=!0)),R&&(x?(l=l.add(x),a=j?a.add(_):a.delete(_)):(l=l.delete(_),a=a.delete(_)))})),this.query.limit!==null)for(;l.size>this.query.limit;){const _=this.query.limitType==="F"?l.last():l.first();l=l.delete(_.key),a=a.delete(_.key),r.track({type:1,doc:_})}return{Aa:l,ma:r,ts:d,mutatedKeys:a}}fa(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){const a=this.Aa;this.Aa=e.Aa,this.mutatedKeys=e.mutatedKeys;const l=e.ma.W_();l.sort(((_,v)=>(function(x,A){const j=R=>{switch(R){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return qe()}};return j(x)-j(A)})(_.type,v.type)||this.da(_.doc,v.doc))),this.ga(r),i=i!=null&&i;const d=n&&!i?this.pa():[],f=this.Ea.size===0&&this.current&&!i?1:0,p=f!==this.Ta;return this.Ta=f,l.length!==0||p?{snapshot:new pl(this.query,e.Aa,a,l,e.mutatedKeys,f===0,p,!1,!!r&&r.resumeToken.approximateByteSize()>0),ya:d}:{ya:d}}Y_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Aa:this.Aa,ma:new y0,mutatedKeys:this.mutatedKeys,ts:!1},!1)):{ya:[]}}wa(e){return!this.Ia.has(e)&&!!this.Aa.has(e)&&!this.Aa.get(e).hasLocalMutations}ga(e){e&&(e.addedDocuments.forEach((n=>this.Ia=this.Ia.add(n))),e.modifiedDocuments.forEach((n=>{})),e.removedDocuments.forEach((n=>this.Ia=this.Ia.delete(n))),this.current=e.current)}pa(){if(!this.current)return[];const e=this.Ea;this.Ea=tt(),this.Aa.forEach((r=>{this.wa(r.key)&&(this.Ea=this.Ea.add(r.key))}));const n=[];return e.forEach((r=>{this.Ea.has(r)||n.push(new sb(r))})),this.Ea.forEach((r=>{e.has(r)||n.push(new rb(r))})),n}Sa(e){this.Ia=e.Is,this.Ea=tt();const n=this.Va(e.documents);return this.applyChanges(n,!0)}ba(){return pl.fromInitialDocuments(this.query,this.Aa,this.mutatedKeys,this.Ta===0,this.hasCachedResults)}}class e2{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class t2{constructor(e){this.key=e,this.Da=!1}}class n2{constructor(e,n,r,i,a,l){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.Ca={},this.va=new Sl((d=>bI(d)),Mh),this.Fa=new Map,this.Ma=new Set,this.xa=new Ot(je.comparator),this.Oa=new Map,this.Na=new Mg,this.La={},this.Ba=new Map,this.ka=fl.Bn(),this.onlineState="Unknown",this.qa=void 0}get isPrimaryClient(){return this.qa===!0}}async function r2(t,e,n=!0){const r=cb(t);let i;const a=r.va.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),i=a.view.ba()):i=await ib(r,e,n,!0),i}async function s2(t,e){const n=cb(t);await ib(n,e,!0,!1)}async function ib(t,e,n,r){const i=await SD(t.localStore,Ls(e)),a=i.targetId,l=n?t.sharedClientState.addLocalQueryTarget(a):"not-current";let d;return r&&(d=await i2(t,e,a,l==="current",i.resumeToken)),t.isPrimaryClient&&n&&YI(t.remoteStore,i),d}async function i2(t,e,n,r,i){t.Qa=(v,E,x)=>(async function(j,R,K,$){let ee=R.view.Va(K);ee.ts&&(ee=await f0(j.localStore,R.query,!1).then((({documents:L})=>R.view.Va(L,ee))));const J=$&&$.targetChanges.get(R.targetId),ce=$&&$.targetMismatches.get(R.targetId)!=null,_e=R.view.applyChanges(ee,j.isPrimaryClient,J,ce);return E0(j,R.targetId,_e.ya),_e.snapshot})(t,v,E,x);const a=await f0(t.localStore,e,!0),l=new XD(e,a.Is),d=l.Va(a.documents),f=ac.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),p=l.applyChanges(d,t.isPrimaryClient,f);E0(t,n,p.ya);const _=new e2(e,n,l);return t.va.set(e,_),t.Fa.has(n)?t.Fa.get(n).push(e):t.Fa.set(n,[e]),p.snapshot}async function o2(t,e,n){const r=We(t),i=r.va.get(e),a=r.Fa.get(i.targetId);if(a.length>1)return r.Fa.set(i.targetId,a.filter((l=>!Mh(l,e)))),void r.va.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Wm(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ug(r.remoteStore,i.targetId),Gm(r,i.targetId)})).catch(sc)):(Gm(r,i.targetId),await Wm(r.localStore,i.targetId,!0))}async function a2(t,e){const n=We(t),r=n.va.get(e),i=n.Fa.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ug(n.remoteStore,r.targetId))}async function l2(t,e,n){const r=m2(t);try{const i=await(function(l,d){const f=We(l),p=rn.now(),_=d.reduce(((x,A)=>x.add(A.key)),tt());let v,E;return f.persistence.runTransaction("Locally write mutations","readwrite",(x=>{let A=fi(),j=tt();return f.us.getEntries(x,_).next((R=>{A=R,A.forEach(((K,$)=>{$.isValidDocument()||(j=j.add(K))}))})).next((()=>f.localDocuments.getOverlayedDocuments(x,A))).next((R=>{v=R;const K=[];for(const $ of d){const ee=CO($,v.get($.key).overlayedDocument);ee!=null&&K.push(new ao($.key,ee,gI(ee.value.mapValue),$r.exists(!0)))}return f.mutationQueue.addMutationBatch(x,p,K,d)})).next((R=>{E=R;const K=R.applyToLocalDocumentSet(v,j);return f.documentOverlayCache.saveOverlays(x,R.batchId,K)}))})).then((()=>({batchId:E.batchId,changes:xI(v)})))})(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),(function(l,d,f){let p=l.La[l.currentUser.toKey()];p||(p=new Ot(ct)),p=p.insert(d,f),l.La[l.currentUser.toKey()]=p})(r,i.batchId,n),await uc(r,i.changes),await qh(r.remoteStore)}catch(i){const a=Hg(i,"Failed to persist write");n.reject(a)}}async function ob(t,e){const n=We(t);try{const r=await ID(n.localStore,e);e.targetChanges.forEach(((i,a)=>{const l=n.Oa.get(a);l&&(mt(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?l.Da=!0:i.modifiedDocuments.size>0?mt(l.Da):i.removedDocuments.size>0&&(mt(l.Da),l.Da=!1))})),await uc(n,r,e)}catch(r){await sc(r)}}function w0(t,e,n){const r=We(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const i=[];r.va.forEach(((a,l)=>{const d=l.view.Y_(e);d.snapshot&&i.push(d.snapshot)})),(function(l,d){const f=We(l);f.onlineState=d;let p=!1;f.queries.forEach(((_,v)=>{for(const E of v.z_)E.Y_(d)&&(p=!0)})),p&&Gg(f)})(r.eventManager,e),i.length&&r.Ca.E_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function u2(t,e,n){const r=We(t);r.sharedClientState.updateQueryState(e,"rejected",n);const i=r.Oa.get(e),a=i&&i.key;if(a){let l=new Ot(je.comparator);l=l.insert(a,Ln.newNoDocument(a,He.min()));const d=tt().add(a),f=new zh(He.min(),new Map,new Ot(ct),l,d);await ob(r,f),r.xa=r.xa.remove(a),r.Oa.delete(e),Qg(r)}else await Wm(r.localStore,e,!1).then((()=>Gm(r,e,n))).catch(sc)}async function c2(t,e){const n=We(t),r=e.batch.batchId;try{const i=await TD(n.localStore,e);lb(n,r,null),ab(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await uc(n,i)}catch(i){await sc(i)}}async function d2(t,e,n){const r=We(t);try{const i=await(function(l,d){const f=We(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",(p=>{let _;return f.mutationQueue.lookupMutationBatch(p,d).next((v=>(mt(v!==null),_=v.keys(),f.mutationQueue.removeMutationBatch(p,v)))).next((()=>f.mutationQueue.performConsistencyCheck(p))).next((()=>f.documentOverlayCache.removeOverlaysForBatchId(p,_,d))).next((()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(p,_))).next((()=>f.localDocuments.getDocuments(p,_)))}))})(r.localStore,e);lb(r,e,n),ab(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await uc(r,i)}catch(i){await sc(i)}}function ab(t,e){(t.Ba.get(e)||[]).forEach((n=>{n.resolve()})),t.Ba.delete(e)}function lb(t,e,n){const r=We(t);let i=r.La[r.currentUser.toKey()];if(i){const a=i.get(e);a&&(n?a.reject(n):a.resolve(),i=i.remove(e)),r.La[r.currentUser.toKey()]=i}}function Gm(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Fa.get(e))t.va.delete(r),n&&t.Ca.Ka(r,n);t.Fa.delete(e),t.isPrimaryClient&&t.Na.mr(e).forEach((r=>{t.Na.containsKey(r)||ub(t,r)}))}function ub(t,e){t.Ma.delete(e.path.canonicalString());const n=t.xa.get(e);n!==null&&(Ug(t.remoteStore,n),t.xa=t.xa.remove(e),t.Oa.delete(n),Qg(t))}function E0(t,e,n){for(const r of n)r instanceof rb?(t.Na.addReference(r.key,e),h2(t,r)):r instanceof sb?(Ce("SyncEngine","Document no longer in limbo: "+r.key),t.Na.removeReference(r.key,e),t.Na.containsKey(r.key)||ub(t,r.key)):qe()}function h2(t,e){const n=e.key,r=n.path.canonicalString();t.xa.get(n)||t.Ma.has(r)||(Ce("SyncEngine","New document in limbo: "+n),t.Ma.add(r),Qg(t))}function Qg(t){for(;t.Ma.size>0&&t.xa.size<t.maxConcurrentLimboResolutions;){const e=t.Ma.values().next().value;t.Ma.delete(e);const n=new je(Et.fromString(e)),r=t.ka.next();t.Oa.set(r,new t2(n)),t.xa=t.xa.insert(n,r),YI(t.remoteStore,new Qi(Ls(Vh(n.path)),r,"TargetPurposeLimboResolution",xg.oe))}}async function uc(t,e,n){const r=We(t),i=[],a=[],l=[];r.va.isEmpty()||(r.va.forEach(((d,f)=>{l.push(r.Qa(f,e,n).then((p=>{var _;if((p||n)&&r.isPrimaryClient){const v=p?!p.fromCache:(_=n==null?void 0:n.targetChanges.get(f.targetId))===null||_===void 0?void 0:_.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(p){i.push(p);const v=Fg.Ui(f.targetId,p);a.push(v)}})))})),await Promise.all(l),r.Ca.E_(i),await(async function(f,p){const _=We(f);try{await _.persistence.runTransaction("notifyLocalViewChanges","readwrite",(v=>ue.forEach(p,(E=>ue.forEach(E.Ki,(x=>_.persistence.referenceDelegate.addReference(v,E.targetId,x))).next((()=>ue.forEach(E.$i,(x=>_.persistence.referenceDelegate.removeReference(v,E.targetId,x)))))))))}catch(v){if(!ic(v))throw v;Ce("LocalStore","Failed to update sequence numbers: "+v)}for(const v of p){const E=v.targetId;if(!v.fromCache){const x=_.ss.get(E),A=x.snapshotVersion,j=x.withLastLimboFreeSnapshotVersion(A);_.ss=_.ss.insert(E,j)}}})(r.localStore,a))}async function f2(t,e){const n=We(t);if(!n.currentUser.isEqual(e)){Ce("SyncEngine","User change. New user:",e.toKey());const r=await KI(n.localStore,e);n.currentUser=e,(function(a,l){a.Ba.forEach((d=>{d.forEach((f=>{f.reject(new Te(ne.CANCELLED,l))}))})),a.Ba.clear()})(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await uc(n,r.ls)}}function p2(t,e){const n=We(t),r=n.Oa.get(e);if(r&&r.Da)return tt().add(r.key);{let i=tt();const a=n.Fa.get(e);if(!a)return i;for(const l of a){const d=n.va.get(l);i=i.unionWith(d.view.Ra)}return i}}function cb(t){const e=We(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=ob.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=p2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=u2.bind(null,e),e.Ca.E_=YD.bind(null,e.eventManager),e.Ca.Ka=JD.bind(null,e.eventManager),e}function m2(t){const e=We(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=c2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=d2.bind(null,e),e}class T0{constructor(){this.synchronizeTabs=!1}async initialize(e){this.serializer=$h(e.databaseInfo.databaseId),this.sharedClientState=this.createSharedClientState(e),this.persistence=this.createPersistence(e),await this.persistence.start(),this.localStore=this.createLocalStore(e),this.gcScheduler=this.createGarbageCollectionScheduler(e,this.localStore),this.indexBackfillerScheduler=this.createIndexBackfillerScheduler(e,this.localStore)}createGarbageCollectionScheduler(e,n){return null}createIndexBackfillerScheduler(e,n){return null}createLocalStore(e){return ED(this.persistence,new _D,e.initialUser,this.serializer)}createPersistence(e){return new gD(jg.Yr,this.serializer)}createSharedClientState(e){return new AD}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}class g2{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>w0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=f2.bind(null,this.syncEngine),await GD(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return(function(){return new QD})()}createDatastore(e){const n=$h(e.databaseInfo.databaseId),r=(function(a){return new ND(a)})(e.databaseInfo);return(function(a,l,d,f){return new LD(a,l,d,f)})(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return(function(r,i,a,l,d){return new MD(r,i,a,l,d)})(this.localStore,this.datastore,e.asyncQueue,(n=>w0(this.syncEngine,n,0)),(function(){return m0.D()?new m0:new RD})())}createSyncEngine(e,n){return(function(i,a,l,d,f,p,_){const v=new n2(i,a,l,d,f,p);return _&&(v.qa=!0),v})(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await(async function(i){const a=We(i);Ce("RemoteStore","RemoteStore shutting down."),a.N_.add(5),await lc(a),a.B_.shutdown(),a.k_.set("Unknown")})(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yg{constructor(e){this.observer=e,this.muted=!1}next(e){this.observer.next&&this.Wa(this.observer.next,e)}error(e){this.observer.error?this.Wa(this.observer.error,e):hi("Uncaught Error in snapshot listener:",e.toString())}Ga(){this.muted=!0}Wa(e,n){this.muted||setTimeout((()=>{this.muted||e(n)}),0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class y2{constructor(e,n,r,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Dn.UNAUTHENTICATED,this.clientId=fI.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this.authCredentials.start(r,(async a=>{Ce("FirestoreClient","Received user=",a.uid),await this.authCredentialListener(a),this.user=a})),this.appCheckCredentials.start(r,(a=>(Ce("FirestoreClient","Received new app check token=",a),this.appCheckCredentialListener(a,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}verifyNotTerminated(){if(this.asyncQueue.isShuttingDown)throw new Te(ne.FAILED_PRECONDITION,"The client has already been terminated.")}terminate(){this.asyncQueue.enterRestrictedMode();const e=new ci;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Hg(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}}async function tm(t,e){t.asyncQueue.verifyOperationInProgress(),Ce("FirestoreClient","Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener((async i=>{r.isEqual(i)||(await KI(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener((()=>t.terminate())),t._offlineComponents=e}async function I0(t,e){t.asyncQueue.verifyOperationInProgress();const n=await _2(t);Ce("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener((r=>g0(e.remoteStore,r))),t.setAppCheckTokenChangeListener(((r,i)=>g0(e.remoteStore,i))),t._onlineComponents=e}function v2(t){return t.name==="FirebaseError"?t.code===ne.FAILED_PRECONDITION||t.code===ne.UNIMPLEMENTED:!(typeof DOMException<"u"&&t instanceof DOMException)||t.code===22||t.code===20||t.code===11}async function _2(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){Ce("FirestoreClient","Using user provided OfflineComponentProvider");try{await tm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!v2(n))throw n;ul("Error using user provided cache. Falling back to memory cache: "+n),await tm(t,new T0)}}else Ce("FirestoreClient","Using default OfflineComponentProvider"),await tm(t,new T0);return t._offlineComponents}async function db(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(Ce("FirestoreClient","Using user provided OnlineComponentProvider"),await I0(t,t._uninitializedComponentsProvider._online)):(Ce("FirestoreClient","Using default OnlineComponentProvider"),await I0(t,new g2))),t._onlineComponents}function w2(t){return db(t).then((e=>e.syncEngine))}async function mh(t){const e=await db(t),n=e.eventManager;return n.onListen=r2.bind(null,e.syncEngine),n.onUnlisten=o2.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=s2.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=a2.bind(null,e.syncEngine),n}function E2(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,p){const _=new Yg({next:E=>{l.enqueueAndForget((()=>Kg(a,v)));const x=E.docs.has(d);!x&&E.fromCache?p.reject(new Te(ne.UNAVAILABLE,"Failed to get document because the client is offline.")):x&&E.fromCache&&f&&f.source==="server"?p.reject(new Te(ne.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Zg(Vh(d.path),_,{includeMetadataChanges:!0,oa:!0});return Wg(a,v)})(await mh(t),t.asyncQueue,e,n,r))),r.promise}function T2(t,e,n={}){const r=new ci;return t.asyncQueue.enqueueAndForget((async()=>(function(a,l,d,f,p){const _=new Yg({next:E=>{l.enqueueAndForget((()=>Kg(a,v))),E.fromCache&&f.source==="server"?p.reject(new Te(ne.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):p.resolve(E)},error:E=>p.reject(E)}),v=new Zg(d,_,{includeMetadataChanges:!0,oa:!0});return Wg(a,v)})(await mh(t),t.asyncQueue,e,n,r))),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hb(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const b0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fb(t,e,n){if(!n)throw new Te(ne.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function I2(t,e,n,r){if(e===!0&&r===!0)throw new Te(ne.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function k0(t){if(!je.isDocumentKey(t))throw new Te(ne.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function S0(t){if(je.isDocumentKey(t))throw new Te(ne.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Hh(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=(function(r){return r.constructor?r.constructor.name:null})(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":qe()}function fr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new Te(ne.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Hh(t);throw new Te(ne.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class x0{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new Te(ne.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new Te(ne.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}I2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=hb((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),(function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new Te(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new Te(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new Te(ne.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}})(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&(function(r,i){return r.timeoutSeconds===i.timeoutSeconds})(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Wh{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new x0({}),this._settingsFrozen=!1}get app(){if(!this._app)throw new Te(ne.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!==void 0}_setSettings(e){if(this._settingsFrozen)throw new Te(ne.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new x0(e),e.credentials!==void 0&&(this._authCredentials=(function(r){if(!r)return new FN;switch(r.type){case"firstParty":return new BN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new Te(ne.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}})(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask||(this._terminateTask=this._terminate()),this._terminateTask}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return(function(n){const r=b0.get(n);r&&(Ce("ComponentProvider","Removing Datastore"),b0.delete(n),r.terminate())})(this),Promise.resolve()}}function b2(t,e,n,r={}){var i;const a=(t=fr(t,Wh))._getSettings(),l=`${e}:${n}`;if(a.host!=="firestore.googleapis.com"&&a.host!==l&&ul("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},a),{host:l,ssl:!1})),r.mockUserToken){let d,f;if(typeof r.mockUserToken=="string")d=r.mockUserToken,f=Dn.MOCK_USER;else{d=vT(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new Te(ne.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Dn(p)}t._authCredentials=new UN(new hI(d,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new lo(this.firestore,e,this._query)}}class Vn{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new eo(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Vn(this.firestore,e,this._key)}}class eo extends lo{constructor(e,n,r){super(e,n,Vh(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Vn(this.firestore,null,new je(e))}withConverter(e){return new eo(this.firestore,e,this._path)}}function Je(t,e,...n){if(t=St(t),fb("collection","path",e),t instanceof Wh){const r=Et.fromString(e,...n);return S0(r),new eo(t,null,r)}{if(!(t instanceof Vn||t instanceof eo))throw new Te(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return S0(r),new eo(t.firestore,null,r)}}function In(t,e,...n){if(t=St(t),arguments.length===1&&(e=fI.newId()),fb("doc","path",e),t instanceof Wh){const r=Et.fromString(e,...n);return k0(r),new Vn(t,null,new je(r))}{if(!(t instanceof Vn||t instanceof eo))throw new Te(ne.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Et.fromString(e,...n));return k0(r),new Vn(t.firestore,t instanceof eo?t.converter:null,new je(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class k2{constructor(){this._u=Promise.resolve(),this.au=[],this.uu=!1,this.cu=[],this.lu=null,this.hu=!1,this.Pu=!1,this.Iu=[],this.e_=new ZI(this,"async_queue_retry"),this.Tu=()=>{const n=em();n&&Ce("AsyncQueue","Visibility state changed to "+n.visibilityState),this.e_.zo()};const e=em();e&&typeof e.addEventListener=="function"&&e.addEventListener("visibilitychange",this.Tu)}get isShuttingDown(){return this.uu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.Eu(),this.du(e)}enterRestrictedMode(e){if(!this.uu){this.uu=!0,this.Pu=e||!1;const n=em();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Tu)}}enqueue(e){if(this.Eu(),this.uu)return new Promise((()=>{}));const n=new ci;return this.du((()=>this.uu&&this.Pu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise))).then((()=>n.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.au.push(e),this.Au())))}async Au(){if(this.au.length!==0){try{await this.au[0](),this.au.shift(),this.e_.reset()}catch(e){if(!ic(e))throw e;Ce("AsyncQueue","Operation failed with retryable error: "+e)}this.au.length>0&&this.e_.Wo((()=>this.Au()))}}du(e){const n=this._u.then((()=>(this.hu=!0,e().catch((r=>{this.lu=r,this.hu=!1;const i=(function(l){let d=l.message||"";return l.stack&&(d=l.stack.includes(l.message)?l.stack:l.message+`
`+l.stack),d})(r);throw hi("INTERNAL UNHANDLED ERROR: ",i),r})).then((r=>(this.hu=!1,r))))));return this._u=n,n}enqueueAfterDelay(e,n,r){this.Eu(),this.Iu.indexOf(e)>-1&&(n=0);const i=qg.createAndSchedule(this,e,n,r,(a=>this.Ru(a)));return this.cu.push(i),i}Eu(){this.lu&&qe()}verifyOperationInProgress(){}async Vu(){let e;do e=this._u,await e;while(e!==this._u)}mu(e){for(const n of this.cu)if(n.timerId===e)return!0;return!1}fu(e){return this.Vu().then((()=>{this.cu.sort(((n,r)=>n.targetTimeMs-r.targetTimeMs));for(const n of this.cu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Vu()}))}gu(e){this.Iu.push(e)}Ru(e){const n=this.cu.indexOf(e);this.cu.splice(n,1)}}function A0(t){return(function(n,r){if(typeof n!="object"||n===null)return!1;const i=n;for(const a of r)if(a in i&&typeof i[a]=="function")return!0;return!1})(t,["next","error","complete"])}class pi extends Wh{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=(function(){return new k2})(),this._persistenceKey=(i==null?void 0:i.name)||"[DEFAULT]"}_terminate(){return this._firestoreClient||pb(this),this._firestoreClient.terminate()}}function S2(t,e){const n=typeof t=="object"?t:gg(),r=typeof t=="string"?t:"(default)",i=Ch(n,"firestore").getImmediate({identifier:r});if(!i._initialized){const a=mT("firestore");a&&b2(i,...a)}return i}function Kh(t){return t._firestoreClient||pb(t),t._firestoreClient.verifyNotTerminated(),t._firestoreClient}function pb(t){var e,n,r;const i=t._freezeSettings(),a=(function(d,f,p,_){return new nO(d,f,p,_.host,_.ssl,_.experimentalForceLongPolling,_.experimentalAutoDetectLongPolling,hb(_.experimentalLongPollingOptions),_.useFetchStreams)})(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._firestoreClient=new y2(t._authCredentials,t._appCheckCredentials,t._queue,a),!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._firestoreClient._uninitializedComponentsProvider={_offlineKind:i.localCache.kind,_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ml{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ml(En.fromBase64String(e))}catch(n){throw new Te(ne.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new ml(En.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gh{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new Te(ne.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new vn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zh{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jg{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new Te(ne.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new Te(ne.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ct(this._lat,e._lat)||ct(this._long,e._long)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x2=/^__.*__$/;class A2{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new ao(e,this.data,this.fieldMask,n,this.fieldTransforms):new oc(e,this.data,n,this.fieldTransforms)}}class mb{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new ao(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function gb(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw qe()}}class Xg{constructor(e,n,r,i,a,l){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,a===void 0&&this.pu(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get yu(){return this.settings.yu}wu(e){return new Xg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Su(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.Du(e),i}Cu(e){var n;const r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.wu({path:r,bu:!1});return i.pu(),i}vu(e){return this.wu({path:void 0,bu:!0})}Fu(e){return gh(e,this.settings.methodName,this.settings.Mu||!1,this.path,this.settings.xu)}contains(e){return this.fieldMask.find((n=>e.isPrefixOf(n)))!==void 0||this.fieldTransforms.find((n=>e.isPrefixOf(n.field)))!==void 0}pu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Du(this.path.get(e))}Du(e){if(e.length===0)throw this.Fu("Document fields must not be empty");if(gb(this.yu)&&x2.test(e))throw this.Fu('Document fields cannot begin and end with "__"')}}class R2{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||$h(e)}Ou(e,n,r,i=!1){return new Xg({yu:e,methodName:n,xu:r,path:vn.emptyPath(),bu:!1,Mu:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Qh(t){const e=t._freezeSettings(),n=$h(t._databaseId);return new R2(t._databaseId,!!e.ignoreUndefinedProperties,n)}function yb(t,e,n,r,i,a={}){const l=t.Ou(a.merge||a.mergeFields?2:0,e,n,i);ty("Data must be an object, but it was:",l,r);const d=vb(r,l);let f,p;if(a.merge)f=new kr(l.fieldMask),p=l.fieldTransforms;else if(a.mergeFields){const _=[];for(const v of a.mergeFields){const E=Zm(e,v,n);if(!l.contains(E))throw new Te(ne.INVALID_ARGUMENT,`Field '${E}' is specified in your field mask but missing from your input data.`);wb(_,E)||_.push(E)}f=new kr(_),p=l.fieldTransforms.filter((v=>f.covers(v.field)))}else f=null,p=l.fieldTransforms;return new A2(new hr(d),f,p)}class Yh extends Zh{_toFieldTransform(e){if(e.yu!==2)throw e.yu===1?e.Fu(`${this._methodName}() can only appear at the top level of your update data`):e.Fu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Yh}}class ey extends Zh{_toFieldTransform(e){return new SO(e.path,new Wu)}isEqual(e){return e instanceof ey}}function C2(t,e,n,r){const i=t.Ou(1,e,n);ty("Data must be an object, but it was:",i,r);const a=[],l=hr.empty();na(r,((f,p)=>{const _=ny(e,f,n);p=St(p);const v=i.Cu(_);if(p instanceof Yh)a.push(_);else{const E=cc(p,v);E!=null&&(a.push(_),l.set(_,E))}}));const d=new kr(a);return new mb(l,d,i.fieldTransforms)}function P2(t,e,n,r,i,a){const l=t.Ou(1,e,n),d=[Zm(e,r,n)],f=[i];if(a.length%2!=0)throw new Te(ne.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let E=0;E<a.length;E+=2)d.push(Zm(e,a[E])),f.push(a[E+1]);const p=[],_=hr.empty();for(let E=d.length-1;E>=0;--E)if(!wb(p,d[E])){const x=d[E];let A=f[E];A=St(A);const j=l.Cu(x);if(A instanceof Yh)p.push(x);else{const R=cc(A,j);R!=null&&(p.push(x),_.set(x,R))}}const v=new kr(p);return new mb(_,v,l.fieldTransforms)}function N2(t,e,n,r=!1){return cc(n,t.Ou(r?4:3,e))}function cc(t,e){if(_b(t=St(t)))return ty("Unsupported field value:",e,t),vb(t,e);if(t instanceof Zh)return(function(r,i){if(!gb(i.yu))throw i.Fu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Fu(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(i);a&&i.fieldTransforms.push(a)})(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.bu&&e.yu!==4)throw e.Fu("Nested arrays are not supported");return(function(r,i){const a=[];let l=0;for(const d of r){let f=cc(d,i.vu(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}})(t,e)}return(function(r,i){if((r=St(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IO(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=rn.fromDate(r);return{timestampValue:fh(i.serializer,a)}}if(r instanceof rn){const a=new rn(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:fh(i.serializer,a)}}if(r instanceof Jg)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ml)return{bytesValue:UI(i.serializer,r._byteString)};if(r instanceof Vn){const a=i.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw i.Fu(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:Vg(r.firestore._databaseId||i.databaseId,r._key.path)}}throw i.Fu(`Unsupported field value: ${Hh(r)}`)})(t,e)}function vb(t,e){const n={};return pI(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):na(t,((r,i)=>{const a=cc(i,e.Su(r));a!=null&&(n[r]=a)})),{mapValue:{fields:n}}}function _b(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof rn||t instanceof Jg||t instanceof ml||t instanceof Vn||t instanceof Zh)}function ty(t,e,n){if(!_b(n)||!(function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)})(n)){const r=Hh(n);throw r==="an object"?e.Fu(t+" a custom object"):e.Fu(t+" "+r)}}function Zm(t,e,n){if((e=St(e))instanceof Gh)return e._internalPath;if(typeof e=="string")return ny(t,e);throw gh("Field path arguments must be of type string or ",t,!1,void 0,n)}const O2=new RegExp("[~\\*/\\[\\]]");function ny(t,e,n){if(e.search(O2)>=0)throw gh(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Gh(...e.split("."))._internalPath}catch{throw gh(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function gh(t,e,n,r,i){const a=r&&!r.isEmpty(),l=i!==void 0;let d=`Function ${e}() called with invalid data`;n&&(d+=" (via `toFirestore()`)"),d+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${i}`),f+=")"),new Te(ne.INVALID_ARGUMENT,d+t+f)}function wb(t,e){return t.some((n=>n.isEqual(e)))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Eb{constructor(e,n,r,i,a){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new Vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new D2(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(Jh("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class D2 extends Eb{data(){return super.data()}}function Jh(t,e){return typeof e=="string"?ny(t,e):e instanceof Gh?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tb(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new Te(ne.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class ry{}class Ib extends ry{}function jn(t,e,...n){let r=[];e instanceof ry&&r.push(e),r=r.concat(n),(function(a){const l=a.filter((f=>f instanceof sy)).length,d=a.filter((f=>f instanceof Xh)).length;if(l>1||l>0&&d>0)throw new Te(ne.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")})(r);for(const i of r)t=i._apply(t);return t}class Xh extends Ib{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Xh(e,n,r)}_apply(e){const n=this._parse(e);return bb(e._query,n),new lo(e.firestore,e.converter,Um(e._query,n))}_parse(e){const n=Qh(e.firestore);return(function(a,l,d,f,p,_,v){let E;if(p.isKeyField()){if(_==="array-contains"||_==="array-contains-any")throw new Te(ne.INVALID_ARGUMENT,`Invalid Query. You can't perform '${_}' queries on documentId().`);if(_==="in"||_==="not-in"){C0(v,_);const x=[];for(const A of v)x.push(R0(f,a,A));E={arrayValue:{values:x}}}else E=R0(f,a,v)}else _!=="in"&&_!=="not-in"&&_!=="array-contains-any"||C0(v,_),E=N2(d,l,v,_==="in"||_==="not-in");return Kt.create(p,_,E)})(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function Al(t,e,n){const r=e,i=Jh("where",t);return Xh._create(i,r,n)}class sy extends ry{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new sy(e,n)}_parse(e){const n=this._queryConstraints.map((r=>r._parse(e))).filter((r=>r.getFilters().length>0));return n.length===1?n[0]:fs.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:((function(i,a){let l=i;const d=a.getFlattenedFilters();for(const f of d)bb(l,f),l=Um(l,f)})(e._query,n),new lo(e.firestore,e.converter,Um(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class iy extends Ib{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new iy(e,n)}_apply(e){const n=(function(i,a,l){if(i.startAt!==null)throw new Te(ne.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new Te(ne.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Hu(a,l)})(e._query,this._field,this._direction);return new lo(e.firestore,e.converter,(function(i,a){const l=i.explicitOrderBy.concat([a]);return new kl(i.path,i.collectionGroup,l,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)})(e._query,n))}}function Fn(t,e="asc"){const n=e,r=Jh("orderBy",t);return iy._create(r,n)}function R0(t,e,n){if(typeof(n=St(n))=="string"){if(n==="")throw new Te(ne.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!II(e)&&n.indexOf("/")!==-1)throw new Te(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Et.fromString(n));if(!je.isDocumentKey(r))throw new Te(ne.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Qw(t,new je(r))}if(n instanceof Vn)return Qw(t,n._key);throw new Te(ne.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Hh(n)}.`)}function C0(t,e){if(!Array.isArray(t)||t.length===0)throw new Te(ne.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function bb(t,e){const n=(function(i,a){for(const l of i)for(const d of l.getFlattenedFilters())if(a.indexOf(d.op)>=0)return d.op;return null})(t.filters,(function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}})(e.op));if(n!==null)throw n===e.op?new Te(ne.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new Te(ne.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}class L2{convertValue(e,n="none"){switch(Qo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Ht(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Zo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 10:return this.convertObject(e.mapValue,n);default:throw qe()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return na(e,((i,a)=>{r[i]=this.convertValue(a,n)})),r}convertGeoPoint(e){return new Jg(Ht(e.latitude),Ht(e.longitude))}convertArray(e,n){return(e.values||[]).map((r=>this.convertValue(r,n)))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Rg(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp($u(e));default:return null}}convertTimestamp(e){const n=so(e);return new rn(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Et.fromString(e);mt(WI(r));const i=new Bu(r.get(1),r.get(3)),a=new je(r.popFirst(5));return i.isEqual(n)||hi(`Document ${a} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kb(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ku{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class Sb extends Eb{constructor(e,n,r,i,a,l){super(e,n,r,i,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Yd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Jh("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}}class Yd extends Sb{data(e={}){return super.data(e)}}class xb{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ku(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){const e=[];return this.forEach((n=>e.push(n))),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach((r=>{e.call(n,new Yd(this._firestore,this._userDataWriter,r.key,r,new ku(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))}))}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new Te(ne.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=(function(i,a){if(i._snapshot.oldDocs.isEmpty()){let l=0;return i._snapshot.docChanges.map((d=>{const f=new Yd(i._firestore,i._userDataWriter,d.doc.key,d.doc,new ku(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);return d.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}}))}{let l=i._snapshot.oldDocs;return i._snapshot.docChanges.filter((d=>a||d.type!==3)).map((d=>{const f=new Yd(i._firestore,i._userDataWriter,d.doc.key,d.doc,new ku(i._snapshot.mutatedKeys.has(d.doc.key),i._snapshot.fromCache),i.query.converter);let p=-1,_=-1;return d.type!==0&&(p=l.indexOf(d.doc.key),l=l.delete(d.doc.key)),d.type!==1&&(l=l.add(d.doc),_=l.indexOf(d.doc.key)),{type:V2(d.type),doc:f,oldIndex:p,newIndex:_}}))}})(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function V2(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return qe()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function M2(t){t=fr(t,Vn);const e=fr(t.firestore,pi);return E2(Kh(e),t._key).then((n=>Ab(e,t,n)))}class oy extends L2{constructor(e){super(),this.firestore=e}convertBytes(e){return new ml(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Vn(this.firestore,null,n)}}function zs(t){t=fr(t,lo);const e=fr(t.firestore,pi),n=Kh(e),r=new oy(e);return Tb(t._query),T2(n,t._query).then((i=>new xb(e,r,t,i)))}function ay(t,e,n){t=fr(t,Vn);const r=fr(t.firestore,pi),i=kb(t.converter,e,n);return ef(r,[yb(Qh(r),"setDoc",t._key,i,t.converter!==null,n).toMutation(t._key,$r.none())])}function uo(t,e,n,...r){t=fr(t,Vn);const i=fr(t.firestore,pi),a=Qh(i);let l;return l=typeof(e=St(e))=="string"||e instanceof Gh?P2(a,"updateDoc",t._key,e,n,r):C2(a,"updateDoc",t._key,e),ef(i,[l.toMutation(t._key,$r.exists(!0))])}function ly(t){return ef(fr(t.firestore,pi),[new Og(t._key,$r.none())])}function Rl(t,e){const n=fr(t.firestore,pi),r=In(t),i=kb(t.converter,e);return ef(n,[yb(Qh(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,$r.exists(!1))]).then((()=>r))}function sa(t,...e){var n,r,i;t=St(t);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||A0(e[l])||(a=e[l],l++);const d={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if(A0(e[l])){const v=e[l];e[l]=(n=v.next)===null||n===void 0?void 0:n.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(i=v.complete)===null||i===void 0?void 0:i.bind(v)}let f,p,_;if(t instanceof Vn)p=fr(t.firestore,pi),_=Vh(t._key.path),f={next:v=>{e[l]&&e[l](Ab(p,t,v))},error:e[l+1],complete:e[l+2]};else{const v=fr(t,lo);p=fr(v.firestore,pi),_=v._query;const E=new oy(p);f={next:x=>{e[l]&&e[l](new xb(p,E,v,x))},error:e[l+1],complete:e[l+2]},Tb(t._query)}return(function(E,x,A,j){const R=new Yg(j),K=new Zg(x,R,A);return E.asyncQueue.enqueueAndForget((async()=>Wg(await mh(E),K))),()=>{R.Ga(),E.asyncQueue.enqueueAndForget((async()=>Kg(await mh(E),K)))}})(Kh(p),_,d,f)}function ef(t,e){return(function(r,i){const a=new ci;return r.asyncQueue.enqueueAndForget((async()=>l2(await w2(r),i,a))),a.promise})(Kh(t),e)}function Ab(t,e,n){const r=n.docs.get(e._key),i=new oy(t);return new Sb(t,i,e._key,r,new ku(n.hasPendingWrites,n.fromCache),e.converter)}function dn(){return new ey("serverTimestamp")}(function(e,n=!0){(function(i){bl=i})(ea),Ho(new no("firestore",((r,{instanceIdentifier:i,options:a})=>{const l=r.getProvider("app").getImmediate(),d=new pi(new zN(r.getProvider("auth-internal")),new HN(r.getProvider("app-check-internal")),(function(p,_){if(!Object.prototype.hasOwnProperty.apply(p.options,["projectId"]))throw new Te(ne.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Bu(p.options.projectId,_)})(l,i),l);return a=Object.assign({useFetchStreams:n},a),d._setSettings(a),d}),"PUBLIC").setMultipleInstances(!0)),Ns(Ww,"4.6.5",e),Ns(Ww,"4.6.5","esm2017")})();var j2="firebase",F2="10.12.5";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ns(j2,F2,"app");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Rb="firebasestorage.googleapis.com",Cb="storageBucket",U2=120*1e3,z2=600*1e3;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt extends Us{constructor(e,n,r=0){super(nm(e),`Firebase Storage: ${n} (${nm(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,Mt.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return nm(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}}var Vt;(function(t){t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment"})(Vt||(Vt={}));function nm(t){return"storage/"+t}function uy(){const t="An unknown error occurred, please check the error payload for server response.";return new Mt(Vt.UNKNOWN,t)}function $2(t){return new Mt(Vt.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function B2(t){return new Mt(Vt.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function q2(){const t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Mt(Vt.UNAUTHENTICATED,t)}function H2(){return new Mt(Vt.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function W2(t){return new Mt(Vt.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function K2(){return new Mt(Vt.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function G2(){return new Mt(Vt.CANCELED,"User canceled the upload/download.")}function Z2(t){return new Mt(Vt.INVALID_URL,"Invalid URL '"+t+"'.")}function Q2(t){return new Mt(Vt.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function Y2(){return new Mt(Vt.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Cb+"' property when initializing the app?")}function J2(){return new Mt(Vt.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function X2(){return new Mt(Vt.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function eL(t){return new Mt(Vt.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function Qm(t){return new Mt(Vt.INVALID_ARGUMENT,t)}function Pb(){return new Mt(Vt.APP_DELETED,"The Firebase app was deleted.")}function tL(t){return new Mt(Vt.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function Nu(t,e){return new Mt(Vt.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function mu(t){throw new Mt(Vt.INTERNAL_ERROR,"Internal error: "+t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sr{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){const e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=Sr.makeFromUrl(e,n)}catch{return new Sr(e,"")}if(r.path==="")return r;throw Q2(e)}static makeFromUrl(e,n){let r=null;const i="([A-Za-z0-9.\\-_]+)";function a(J){J.path.charAt(J.path.length-1)==="/"&&(J.path_=J.path_.slice(0,-1))}const l="(/(.*))?$",d=new RegExp("^gs://"+i+l,"i"),f={bucket:1,path:3};function p(J){J.path_=decodeURIComponent(J.path)}const _="v[A-Za-z0-9_]+",v=n.replace(/[.]/g,"\\."),E="(/([^?#]*).*)?$",x=new RegExp(`^https?://${v}/${_}/b/${i}/o${E}`,"i"),A={bucket:1,path:3},j=n===Rb?"(?:storage.googleapis.com|storage.cloud.google.com)":n,R="([^?#]*)",K=new RegExp(`^https?://${j}/${i}/${R}`,"i"),ee=[{regex:d,indices:f,postModify:a},{regex:x,indices:A,postModify:p},{regex:K,indices:{bucket:1,path:2},postModify:p}];for(let J=0;J<ee.length;J++){const ce=ee[J],_e=ce.regex.exec(e);if(_e){const L=_e[ce.indices.bucket];let b=_e[ce.indices.path];b||(b=""),r=new Sr(L,b),ce.postModify(r);break}}if(r==null)throw Z2(e);return r}}class nL{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rL(t,e,n){let r=1,i=null,a=null,l=!1,d=0;function f(){return d===2}let p=!1;function _(...R){p||(p=!0,e.apply(null,R))}function v(R){i=setTimeout(()=>{i=null,t(x,f())},R)}function E(){a&&clearTimeout(a)}function x(R,...K){if(p){E();return}if(R){E(),_.call(null,R,...K);return}if(f()||l){E(),_.call(null,R,...K);return}r<64&&(r*=2);let ee;d===1?(d=2,ee=0):ee=(r+Math.random())*1e3,v(ee)}let A=!1;function j(R){A||(A=!0,E(),!p&&(i!==null?(R||(d=2),clearTimeout(i),v(0)):R||(d=1)))}return v(0),a=setTimeout(()=>{l=!0,j(!0)},n),j}function sL(t){t(!1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iL(t){return t!==void 0}function oL(t){return typeof t=="object"&&!Array.isArray(t)}function cy(t){return typeof t=="string"||t instanceof String}function P0(t){return dy()&&t instanceof Blob}function dy(){return typeof Blob<"u"}function N0(t,e,n,r){if(r<e)throw Qm(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw Qm(`Invalid value for '${t}'. Expected ${n} or less.`)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function hy(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function Nb(t){const e=encodeURIComponent;let n="?";for(const r in t)if(t.hasOwnProperty(r)){const i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var $o;(function(t){t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT"})($o||($o={}));/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function aL(t,e){const n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,a=e.indexOf(t)!==-1;return n||i||a}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lL{constructor(e,n,r,i,a,l,d,f,p,_,v,E=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=a,this.additionalRetryCodes_=l,this.callback_=d,this.errorCallback_=f,this.timeout_=p,this.progressCallback_=_,this.connectionFactory_=v,this.retry=E,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((x,A)=>{this.resolve_=x,this.reject_=A,this.start_()})}start_(){const e=(r,i)=>{if(i){r(!1,new Ld(!1,null,!0));return}const a=this.connectionFactory_();this.pendingConnection_=a;const l=d=>{const f=d.loaded,p=d.lengthComputable?d.total:-1;this.progressCallback_!==null&&this.progressCallback_(f,p)};this.progressCallback_!==null&&a.addUploadProgressListener(l),a.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&a.removeUploadProgressListener(l),this.pendingConnection_=null;const d=a.getErrorCode()===$o.NO_ERROR,f=a.getStatus();if(!d||aL(f,this.additionalRetryCodes_)&&this.retry){const _=a.getErrorCode()===$o.ABORT;r(!1,new Ld(!1,null,_));return}const p=this.successCodes_.indexOf(f)!==-1;r(!0,new Ld(p,a))})},n=(r,i)=>{const a=this.resolve_,l=this.reject_,d=i.connection;if(i.wasSuccessCode)try{const f=this.callback_(d,d.getResponse());iL(f)?a(f):a()}catch(f){l(f)}else if(d!==null){const f=uy();f.serverResponse=d.getErrorText(),this.errorCallback_?l(this.errorCallback_(d,f)):l(f)}else if(i.canceled){const f=this.appDelete_?Pb():G2();l(f)}else{const f=K2();l(f)}};this.canceled_?n(!1,new Ld(!1,null,!0)):this.backoffId_=rL(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&sL(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}}class Ld{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}}function uL(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function cL(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function dL(t,e){e&&(t["X-Firebase-GMPID"]=e)}function hL(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function fL(t,e,n,r,i,a,l=!0){const d=Nb(t.urlParams),f=t.url+d,p=Object.assign({},t.headers);return dL(p,e),uL(p,n),cL(p,a),hL(p,r),new lL(f,t.method,p,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,l)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pL(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function mL(...t){const e=pL();if(e!==void 0){const n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(dy())return new Blob(t);throw new Mt(Vt.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function gL(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yL(t){if(typeof atob>"u")throw eL("base-64");return atob(t)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cs={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};class rm{constructor(e,n){this.data=e,this.contentType=n||null}}function vL(t,e){switch(t){case Cs.RAW:return new rm(Ob(e));case Cs.BASE64:case Cs.BASE64URL:return new rm(Db(t,e));case Cs.DATA_URL:return new rm(wL(e),EL(e))}throw uy()}function Ob(t){const e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{const a=r,l=t.charCodeAt(++n);r=65536|(a&1023)<<10|l&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function _L(t){let e;try{e=decodeURIComponent(t)}catch{throw Nu(Cs.DATA_URL,"Malformed data URL.")}return Ob(e)}function Db(t,e){switch(t){case Cs.BASE64:{const i=e.indexOf("-")!==-1,a=e.indexOf("_")!==-1;if(i||a)throw Nu(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case Cs.BASE64URL:{const i=e.indexOf("+")!==-1,a=e.indexOf("/")!==-1;if(i||a)throw Nu(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=yL(e)}catch(i){throw i.message.includes("polyfill")?i:Nu(t,"Invalid character found")}const r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}class Lb{constructor(e){this.base64=!1,this.contentType=null;const n=e.match(/^data:([^,]+)?,/);if(n===null)throw Nu(Cs.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");const r=n[1]||null;r!=null&&(this.base64=TL(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}}function wL(t){const e=new Lb(t);return e.base64?Db(Cs.BASE64,e.rest):_L(e.rest)}function EL(t){return new Lb(t).contentType}function TL(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ki{constructor(e,n){let r=0,i="";P0(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(P0(this.data_)){const r=this.data_,i=gL(r,e,n);return i===null?null:new Ki(i)}else{const r=new Uint8Array(this.data_.buffer,e,n-e);return new Ki(r,!0)}}static getBlob(...e){if(dy()){const n=e.map(r=>r instanceof Ki?r.data_:r);return new Ki(mL.apply(null,n))}else{const n=e.map(l=>cy(l)?vL(Cs.RAW,l).data:l.data_);let r=0;n.forEach(l=>{r+=l.byteLength});const i=new Uint8Array(r);let a=0;return n.forEach(l=>{for(let d=0;d<l.length;d++)i[a++]=l[d]}),new Ki(i,!0)}}uploadData(){return this.data_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Vb(t){let e;try{e=JSON.parse(t)}catch{return null}return oL(e)?e:null}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IL(t){if(t.length===0)return null;const e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function bL(t,e){const n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function Mb(t){const e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kL(t,e){return e}class Hn{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||kL}}let Vd=null;function SL(t){return!cy(t)||t.length<2?t:Mb(t)}function jb(){if(Vd)return Vd;const t=[];t.push(new Hn("bucket")),t.push(new Hn("generation")),t.push(new Hn("metageneration")),t.push(new Hn("name","fullPath",!0));function e(a,l){return SL(l)}const n=new Hn("name");n.xform=e,t.push(n);function r(a,l){return l!==void 0?Number(l):l}const i=new Hn("size");return i.xform=r,t.push(i),t.push(new Hn("timeCreated")),t.push(new Hn("updated")),t.push(new Hn("md5Hash",null,!0)),t.push(new Hn("cacheControl",null,!0)),t.push(new Hn("contentDisposition",null,!0)),t.push(new Hn("contentEncoding",null,!0)),t.push(new Hn("contentLanguage",null,!0)),t.push(new Hn("contentType",null,!0)),t.push(new Hn("metadata","customMetadata",!0)),Vd=t,Vd}function xL(t,e){function n(){const r=t.bucket,i=t.fullPath,a=new Sr(r,i);return e._makeStorageReference(a)}Object.defineProperty(t,"ref",{get:n})}function AL(t,e,n){const r={};r.type="file";const i=n.length;for(let a=0;a<i;a++){const l=n[a];r[l.local]=l.xform(r,e[l.server])}return xL(r,t),r}function Fb(t,e,n){const r=Vb(e);return r===null?null:AL(t,r,n)}function RL(t,e,n,r){const i=Vb(e);if(i===null||!cy(i.downloadTokens))return null;const a=i.downloadTokens;if(a.length===0)return null;const l=encodeURIComponent;return a.split(",").map(p=>{const _=t.bucket,v=t.fullPath,E="/b/"+l(_)+"/o/"+l(v),x=hy(E,n,r),A=Nb({alt:"media",token:p});return x+A})[0]}function CL(t,e){const n={},r=e.length;for(let i=0;i<r;i++){const a=e[i];a.writable&&(n[a.server]=t[a.local])}return JSON.stringify(n)}class Ub{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function zb(t){if(!t)throw uy()}function PL(t,e){function n(r,i){const a=Fb(t,i,e);return zb(a!==null),a}return n}function NL(t,e){function n(r,i){const a=Fb(t,i,e);return zb(a!==null),RL(a,i,t.host,t._protocol)}return n}function $b(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=H2():i=q2():n.getStatus()===402?i=B2(t.bucket):n.getStatus()===403?i=W2(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function OL(t){const e=$b(t);function n(r,i){let a=e(r,i);return r.getStatus()===404&&(a=$2(t.path)),a.serverResponse=i.serverResponse,a}return n}function DL(t,e,n){const r=e.fullServerUrl(),i=hy(r,t.host,t._protocol),a="GET",l=t.maxOperationRetryTime,d=new Ub(i,a,NL(t,n),l);return d.errorHandler=OL(e),d}function LL(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function VL(t,e,n){const r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=LL(null,e)),r}function ML(t,e,n,r,i){const a=e.bucketOnlyServerUrl(),l={"X-Goog-Upload-Protocol":"multipart"};function d(){let ee="";for(let J=0;J<2;J++)ee=ee+Math.random().toString().slice(2);return ee}const f=d();l["Content-Type"]="multipart/related; boundary="+f;const p=VL(e,r,i),_=CL(p,n),v="--"+f+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+_+`\r
--`+f+`\r
Content-Type: `+p.contentType+`\r
\r
`,E=`\r
--`+f+"--",x=Ki.getBlob(v,r,E);if(x===null)throw J2();const A={name:p.fullPath},j=hy(a,t.host,t._protocol),R="POST",K=t.maxUploadRetryTime,$=new Ub(j,R,PL(t,n),K);return $.urlParams=A,$.headers=l,$.body=x.uploadData(),$.errorHandler=$b(e),$}class jL{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=$o.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=$o.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=$o.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw mu("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(const a in i)i.hasOwnProperty(a)&&this.xhr_.setRequestHeader(a,i[a].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw mu("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw mu("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw mu("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw mu("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}}class FL extends jL{initXhr(){this.xhr_.responseType="text"}}function Bb(){return new FL}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yo{constructor(e,n){this._service=e,n instanceof Sr?this._location=n:this._location=Sr.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new Yo(e,n)}get root(){const e=new Sr(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return Mb(this._location.path)}get storage(){return this._service}get parent(){const e=IL(this._location.path);if(e===null)return null;const n=new Sr(this._location.bucket,e);return new Yo(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw tL(e)}}function UL(t,e,n){t._throwIfRoot("uploadBytes");const r=ML(t.storage,t._location,jb(),new Ki(e,!0),n);return t.storage.makeRequestWithTokens(r,Bb).then(i=>({metadata:i,ref:t}))}function zL(t){t._throwIfRoot("getDownloadURL");const e=DL(t.storage,t._location,jb());return t.storage.makeRequestWithTokens(e,Bb).then(n=>{if(n===null)throw X2();return n})}function $L(t,e){const n=bL(t._location.path,e),r=new Sr(t._location.bucket,n);return new Yo(t.storage,r)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function BL(t){return/^[A-Za-z]+:\/\//.test(t)}function qL(t,e){return new Yo(t,e)}function qb(t,e){if(t instanceof fy){const n=t;if(n._bucket==null)throw Y2();const r=new Yo(n,n._bucket);return e!=null?qb(r,e):r}else return e!==void 0?$L(t,e):t}function HL(t,e){if(e&&BL(e)){if(t instanceof fy)return qL(t,e);throw Qm("To use ref(service, url), the first argument must be a Storage instance.")}else return qb(t,e)}function O0(t,e){const n=e==null?void 0:e[Cb];return n==null?null:Sr.makeFromBucketSpec(n,t)}function WL(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";const{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:vT(i,t.app.options.projectId))}class fy{constructor(e,n,r,i,a){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=a,this._bucket=null,this._host=Rb,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=U2,this._maxUploadRetryTime=z2,this._requests=new Set,i!=null?this._bucket=Sr.makeFromBucketSpec(i,this._host):this._bucket=O0(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Sr.makeFromBucketSpec(this._url,e):this._bucket=O0(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){N0("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){N0("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}async _getAuthToken(){if(this._overrideAuthToken)return this._overrideAuthToken;const e=this._authProvider.getImmediate({optional:!0});if(e){const n=await e.getToken();if(n!==null)return n.accessToken}return null}async _getAppCheckToken(){const e=this._appCheckProvider.getImmediate({optional:!0});return e?(await e.getToken()).token:null}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Yo(this,e)}_makeRequest(e,n,r,i,a=!0){if(this._deleted)return new nL(Pb());{const l=fL(e,this._appId,r,i,n,this._firebaseVersion,a);return this._requests.add(l),l.getPromise().then(()=>this._requests.delete(l),()=>this._requests.delete(l)),l}}async makeRequestWithTokens(e,n){const[r,i]=await Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()}}const D0="@firebase/storage",L0="0.12.6";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hb="storage";function D9(t,e,n){return t=St(t),UL(t,e,n)}function L9(t){return t=St(t),zL(t)}function V9(t,e){return t=St(t),HL(t,e)}function KL(t=gg(),e){t=St(t);const r=Ch(t,Hb).getImmediate({identifier:e}),i=mT("storage");return i&&GL(r,...i),r}function GL(t,e,n,r={}){WL(t,e,n,r)}function ZL(t,{instanceIdentifier:e}){const n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fy(n,r,i,e,ea)}function QL(){Ho(new no(Hb,ZL,"PUBLIC").setMultipleInstances(!0)),Ns(D0,L0,""),Ns(D0,L0,"esm2017")}QL();const Mo={apiKey:"AIzaSyDDAwxXJdmET103OLjNVnFaxwW3dLPdZ-c",authDomain:"tourism-a4457.firebaseapp.com",databaseURL:"https://tourism-a4457-default-rtdb.firebaseio.com",projectId:"tourism-a4457",storageBucket:"tourism-a4457.firebasestorage.app",messagingSenderId:"956976696204",appId:"1:956976696204:web:56d033f32a1420b5e564a9",measurementId:"G-Q1W4MSLNQP"},YL=[Mo.apiKey,Mo.authDomain,Mo.projectId,Mo.storageBucket,Mo.messagingSenderId,Mo.appId],tf=YL.every(Boolean),gl=tf?p1()[0]??ET(Mo):null,yh=gl?S2(gl):null,Nn=gl?MN(gl):null,M9=gl?KL(gl):null;function Xe(){if(!yh)throw new Error("Backend is not configured. Add the required VITE_ variables.");return yh}function Zn(t,e){return{id:t,...e}}function JL(t,e){const n=e,r=typeof n.id=="number"?n.id:Number(t);return{...n,id:r}}function XL(t){return t.trim().toLowerCase().replace(/\//g,"_")}function eV(t,e){return e||XL(t)}async function j9(){const t=Xe(),e=Je(t,"tours");return(await zs(jn(e,Fn("id")))).docs.map(r=>JL(r.id,r.data()))}async function F9(t){const e=Xe(),n=In(Je(e,"tours"),String(t.id));await ay(n,{...t,createdAt:dn()})}async function U9(t,e){const n=Xe(),r=In(Je(n,"tours"),String(t));await uo(r,{...e,updatedAt:dn()})}async function z9(t){const e=Xe();await ly(In(Je(e,"tours"),String(t)))}async function $9(){const t=Xe(),e=Je(t,"sights");return(await zs(jn(e,Fn("name")))).docs.map(r=>Zn(r.id,r.data()))}async function B9(t){const e=Xe();await Rl(Je(e,"sights"),{...t,createdAt:dn()})}async function q9(t,e){const n=Xe();await uo(In(Je(n,"sights"),t),{...e,updatedAt:dn()})}async function H9(t){const e=Xe();await ly(In(Je(e,"sights"),t))}async function W9(){const t=Xe(),e=Je(t,"blogPosts");return(await zs(jn(e,Fn("createdAt","desc")))).docs.map(r=>Zn(r.id,r.data()))}async function K9(t){const e=Xe();await Rl(Je(e,"blogPosts"),{...t,createdAt:dn()})}async function G9(t,e){const n=Xe();await uo(In(Je(n,"blogPosts"),t),{...e,updatedAt:dn()})}async function Z9(t){const e=Xe();await ly(In(Je(e,"blogPosts"),t))}async function tV(t){const e=Xe();if(!t.userId)throw new Error("Sign in required to submit custom tour requests.");await Rl(Je(e,"customTourRequests"),{...t,createdAt:dn(),status:"pending"})}function Q9(t,e){const n=Xe(),r=Je(n,"customTourRequests"),i=jn(r,Fn("createdAt","desc"));return sa(i,a=>{t(a.docs.map(l=>Zn(l.id,l.data())))},a=>{e==null||e(a)})}async function Y9(t,e){const n=Xe();await uo(In(Je(n,"customTourRequests"),t),{status:e,updatedAt:dn()})}async function J9(t){const e=Xe();if(!t.userId)throw new Error("Sign in required to submit booking requests.");await Rl(Je(e,"bookings"),{...t,createdAt:dn(),status:"pending"});try{await rl({name:t.name,email:t.email,role:"buyer",uid:t.userId})}catch{}}async function X9(t){const e=Xe(),n=Je(e,"bookings");return(await zs(jn(n,Al("email","==",t),Fn("createdAt","desc")))).docs.map(i=>Zn(i.id,i.data()))}async function e6(t){const e=Xe(),n=Je(e,"bookings");return(await zs(jn(n,Al("userId","==",t),Fn("createdAt","desc")))).docs.map(i=>Zn(i.id,i.data()))}function t6(t,e){const n=Xe(),r=Je(n,"bookings"),i=jn(r,Fn("createdAt","desc"));return sa(i,a=>{t(a.docs.map(l=>Zn(l.id,l.data())))},a=>{e==null||e(a)})}function n6(t,e,n){const r=Xe(),i=Je(r,"bookings"),a=jn(i,Al("userId","==",t),Fn("createdAt","desc"));return sa(a,l=>{e(l.docs.map(d=>Zn(d.id,d.data())))},l=>{n==null||n(l)})}async function r6(t,e){const n=Xe();await uo(In(Je(n,"bookings"),t),{status:e,updatedAt:dn()})}async function s6(t){const e=Xe();await Rl(Je(e,"feedback"),{...t,createdAt:dn()})}async function i6(){const t=Xe(),e=Je(t,"feedback");return(await zs(jn(e,Fn("createdAt","desc")))).docs.map(r=>Zn(r.id,r.data()))}function o6(t,e){const n=Xe(),r=Je(n,"feedback"),i=jn(r,Fn("createdAt","desc"));return sa(i,a=>{t(a.docs.map(l=>Zn(l.id,l.data())))},a=>{e==null||e(a)})}async function a6(t,e){const n=Xe();await uo(In(Je(n,"feedback"),t),{adminResponse:e,updatedAt:dn()})}async function l6(){const t=Xe(),e=Je(t,"users");return(await zs(jn(e,Fn("email")))).docs.map(r=>Zn(r.id,r.data()))}async function rl(t){const e=Xe(),n=eV(t.email,t.uid);await ay(In(Je(e,"users"),n),{...t,updatedAt:dn(),createdAt:dn()},{merge:!0})}async function u6(t,e){const n=Xe();await uo(In(Je(n,"users"),t),{role:e,updatedAt:dn()})}async function c6(t){const e=Xe();if(!t.ownerId)throw new Error("Sign in required to submit seller tours.");await Rl(Je(e,"sellerSubmissions"),{...t,status:"pending",createdAt:dn()});try{await rl({name:t.contactName,email:t.contactEmail,role:"seller",uid:t.ownerId})}catch{}}async function d6(){const t=Xe(),e=Je(t,"sellerSubmissions");return(await zs(jn(e,Fn("createdAt","desc")))).docs.map(r=>Zn(r.id,r.data()))}function h6(t,e){const n=Xe(),r=Je(n,"sellerSubmissions"),i=jn(r,Fn("createdAt","desc"));return sa(i,a=>{t(a.docs.map(l=>Zn(l.id,l.data())))},a=>{e==null||e(a)})}async function f6(t){const e=Xe(),n=Je(e,"sellerSubmissions");return(await zs(jn(n,Al("contactEmail","==",t),Fn("createdAt","desc")))).docs.map(i=>Zn(i.id,i.data()))}async function p6(t){const e=Xe(),n=Je(e,"sellerSubmissions");return(await zs(jn(n,Al("ownerId","==",t),Fn("createdAt","desc")))).docs.map(i=>Zn(i.id,i.data()))}function m6(t,e,n){const r=Xe(),i=Je(r,"sellerSubmissions"),a=jn(i,Al("ownerId","==",t),Fn("createdAt","desc"));return sa(a,l=>{e(l.docs.map(d=>Zn(d.id,d.data())))},l=>{n==null||n(l)})}async function g6(t,e){const n=Xe();await uo(In(Je(n,"sellerSubmissions"),t),{status:e,updatedAt:dn()})}async function y6(){const t=Xe(),e=await M2(In(Je(t,"content"),"site"));return e.exists()?e.data():null}async function v6(t){const e=Xe();await ay(In(Je(e,"content"),"site"),{...t,updatedAt:dn()},{merge:!0})}const Wb=U.createContext(null);function nV({children:t}){const[e,n]=U.useState(null),[r,i]=U.useState(null),[a,l]=U.useState(!0);U.useEffect(()=>{if(!Nn||!yh){l(!1);return}let E=null;const x=kP(Nn,async A=>{if(n(A),E&&(E(),E=null),!A){i(null),l(!1);return}const j=In(yh,"users",A.uid);E=sa(j,async R=>{if(R.exists()){i({id:R.id,...R.data()});return}const K={name:A.displayName||"",email:A.email||"",role:"buyer"};await rl({...K,uid:A.uid}),i({id:A.uid,...K})}),l(!1)});return()=>{E&&E(),x()}},[]);const d=async(E,x)=>{if(!Nn)throw new Error("Authentication is not configured.");await KT(Nn,E,x)},f=async({name:E,email:x,password:A,role:j})=>{if(!Nn)throw new Error("Authentication is not configured.");const R=await wP(Nn,x,A);await TP(R.user,{displayName:E}),await rl({name:E,email:x,role:j,uid:R.user.uid})},p=async()=>{if(!Nn)throw new Error("Authentication is not configured.");await GT(Nn)},_=async E=>{if(!Nn||!Nn.currentUser)throw new Error("No authenticated user.");const x=Nn.currentUser.email||(r==null?void 0:r.email)||"";if(!x)throw new Error("Email address is required to update role.");await rl({email:x,role:E,uid:Nn.currentUser.uid})},v=U.useMemo(()=>({user:e,profile:r,loading:a,signIn:d,signUp:f,signOut:p,updateRole:_}),[e,r,a]);return T.jsx(Wb.Provider,{value:v,children:t})}function py(){const t=U.useContext(Wb);if(!t)throw new Error("useAuth must be used within AuthProvider.");return t}function V0(){const t=Yu(),{user:e,profile:n,signOut:r}=py();if(!tf)return null;if(!e)return T.jsx(Ur,{asChild:!0,variant:"outline",children:T.jsx(On,{to:"/auth",children:"Sign In"})});const i=async()=>{await r(),t("/")};return T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx("span",{className:"text-sm text-muted-foreground",children:(n==null?void 0:n.name)||e.email}),T.jsx(Ur,{variant:"outline",onClick:i,children:"Sign Out"})]})}function rV(){const[t,e]=U.useState(!1),[n,r]=U.useState(!1);U.useEffect(()=>{const a=()=>r(window.scrollY>12);return a(),window.addEventListener("scroll",a,{passive:!0}),()=>window.removeEventListener("scroll",a)},[]);const i=[{label:"Home",to:"/"},{label:"Tours",to:"/tours"},{label:"Explore",to:"/explore"},{label:"Join Tour",to:"/join-tour"},{label:"Blogs",to:"/blogs"},{label:"Feedback",to:"/feedback"},{label:"Dashboard",to:"/dashboard"},{label:"Submit Tour",to:"/create-tour"}];return T.jsx("header",{className:zr("sticky top-0 z-50 backdrop-blur transition-all",n?"bg-card/95 border-b border-border shadow-sm":"bg-card/60 border-b border-transparent"),children:T.jsxs("nav",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8",children:[T.jsxs("div",{className:zr("flex items-center justify-between transition-all",n?"h-14":"h-16"),children:[T.jsxs(On,{to:"/",className:"flex items-center space-x-2",children:[T.jsx("div",{className:"w-8 h-8 bg-primary rounded-full flex items-center justify-center",children:T.jsx("span",{className:"text-primary-foreground",children:"KR"})}),T.jsx("span",{className:"text-xl text-foreground",children:"Kyrgyz Riders"})]}),T.jsxs("div",{className:"hidden md:flex items-center space-x-8",children:[i.map(a=>T.jsx(rw,{to:a.to,className:({isActive:l})=>zr("nav-link text-sm",l&&"nav-link-active"),children:a.label},a.to)),T.jsx(Ur,{asChild:!0,className:"btn-micro bg-primary hover:bg-primary/90 text-primary-foreground",children:T.jsx(On,{to:"/custom-tour",children:"Plan Your Tour"})}),T.jsx(mw,{}),T.jsx(V0,{})]}),T.jsx("button",{onClick:()=>e(!t),className:"md:hidden p-3 text-muted-foreground hover:text-foreground","aria-label":t?"Close menu":"Open menu",children:t?T.jsx(iR,{className:"h-6 w-6"}):T.jsx(KA,{className:"h-6 w-6"})})]}),t&&T.jsx("div",{className:"md:hidden py-4 border-t border-border",children:T.jsxs("div",{className:"flex flex-col space-y-4",children:[i.map(a=>T.jsx(rw,{to:a.to,onClick:()=>e(!1),className:({isActive:l})=>zr("text-left px-4 py-3 min-h-[44px] rounded-md transition-opacity text-base",l?"text-foreground bg-accent":"text-muted-foreground hover:opacity-80 hover:bg-muted"),children:a.label},a.to)),T.jsx("div",{className:"px-4 pt-2",children:T.jsx(Ur,{asChild:!0,className:"w-full btn-micro bg-primary hover:bg-primary/90 text-primary-foreground",children:T.jsx(On,{to:"/custom-tour",onClick:()=>e(!1),children:"Plan Your Tour"})})}),T.jsx("div",{className:"px-4",children:T.jsx(mw,{})}),T.jsx("div",{className:"px-4",children:T.jsx(V0,{})})]})})]})})}function sV(){const{pathname:t}=Fs();return U.useEffect(()=>{const e=window.matchMedia("(prefers-reduced-motion: reduce)").matches;window.scrollTo({top:0,behavior:e?"auto":"smooth"})},[t]),null}function iV(t){if(typeof document>"u")return;let e=document.head||document.getElementsByTagName("head")[0],n=document.createElement("style");n.type="text/css",e.appendChild(n),n.styleSheet?n.styleSheet.cssText=t:n.appendChild(document.createTextNode(t))}const oV=t=>{switch(t){case"success":return uV;case"info":return dV;case"warning":return cV;case"error":return hV;default:return null}},aV=Array(12).fill(0),lV=({visible:t,className:e})=>se.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},se.createElement("div",{className:"sonner-spinner"},aV.map((n,r)=>se.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),uV=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),cV=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),dV=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),hV=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},se.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),fV=se.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},se.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),se.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),pV=()=>{const[t,e]=se.useState(document.hidden);return se.useEffect(()=>{const n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t};let Ym=1;class mV{constructor(){this.subscribe=e=>(this.subscribers.push(e),()=>{const n=this.subscribers.indexOf(e);this.subscribers.splice(n,1)}),this.publish=e=>{this.subscribers.forEach(n=>n(e))},this.addToast=e=>{this.publish(e),this.toasts=[...this.toasts,e]},this.create=e=>{var n;const{message:r,...i}=e,a=typeof(e==null?void 0:e.id)=="number"||((n=e.id)==null?void 0:n.length)>0?e.id:Ym++,l=this.toasts.find(f=>f.id===a),d=e.dismissible===void 0?!0:e.dismissible;return this.dismissedToasts.has(a)&&this.dismissedToasts.delete(a),l?this.toasts=this.toasts.map(f=>f.id===a?(this.publish({...f,...e,id:a,title:r}),{...f,...e,id:a,dismissible:d,title:r}):f):this.addToast({title:r,...i,dismissible:d,id:a}),a},this.dismiss=e=>(e?(this.dismissedToasts.add(e),requestAnimationFrame(()=>this.subscribers.forEach(n=>n({id:e,dismiss:!0})))):this.toasts.forEach(n=>{this.subscribers.forEach(r=>r({id:n.id,dismiss:!0}))}),e),this.message=(e,n)=>this.create({...n,message:e}),this.error=(e,n)=>this.create({...n,message:e,type:"error"}),this.success=(e,n)=>this.create({...n,type:"success",message:e}),this.info=(e,n)=>this.create({...n,type:"info",message:e}),this.warning=(e,n)=>this.create({...n,type:"warning",message:e}),this.loading=(e,n)=>this.create({...n,type:"loading",message:e}),this.promise=(e,n)=>{if(!n)return;let r;n.loading!==void 0&&(r=this.create({...n,promise:e,type:"loading",message:n.loading,description:typeof n.description!="function"?n.description:void 0}));const i=Promise.resolve(e instanceof Function?e():e);let a=r!==void 0,l;const d=i.then(async p=>{if(l=["resolve",p],se.isValidElement(p))a=!1,this.create({id:r,type:"default",message:p});else if(yV(p)&&!p.ok){a=!1;const v=typeof n.error=="function"?await n.error(`HTTP error! status: ${p.status}`):n.error,E=typeof n.description=="function"?await n.description(`HTTP error! status: ${p.status}`):n.description,A=typeof v=="object"&&!se.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:E,...A})}else if(p instanceof Error){a=!1;const v=typeof n.error=="function"?await n.error(p):n.error,E=typeof n.description=="function"?await n.description(p):n.description,A=typeof v=="object"&&!se.isValidElement(v)?v:{message:v};this.create({id:r,type:"error",description:E,...A})}else if(n.success!==void 0){a=!1;const v=typeof n.success=="function"?await n.success(p):n.success,E=typeof n.description=="function"?await n.description(p):n.description,A=typeof v=="object"&&!se.isValidElement(v)?v:{message:v};this.create({id:r,type:"success",description:E,...A})}}).catch(async p=>{if(l=["reject",p],n.error!==void 0){a=!1;const _=typeof n.error=="function"?await n.error(p):n.error,v=typeof n.description=="function"?await n.description(p):n.description,x=typeof _=="object"&&!se.isValidElement(_)?_:{message:_};this.create({id:r,type:"error",description:v,...x})}}).finally(()=>{a&&(this.dismiss(r),r=void 0),n.finally==null||n.finally.call(n)}),f=()=>new Promise((p,_)=>d.then(()=>l[0]==="reject"?_(l[1]):p(l[1])).catch(_));return typeof r!="string"&&typeof r!="number"?{unwrap:f}:Object.assign(r,{unwrap:f})},this.custom=(e,n)=>{const r=(n==null?void 0:n.id)||Ym++;return this.create({jsx:e(r),id:r,...n}),r},this.getActiveToasts=()=>this.toasts.filter(e=>!this.dismissedToasts.has(e.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}}const dr=new mV,gV=(t,e)=>{const n=(e==null?void 0:e.id)||Ym++;return dr.addToast({title:t,...e,id:n}),n},yV=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",vV=gV,_V=()=>dr.toasts,wV=()=>dr.getActiveToasts(),_6=Object.assign(vV,{success:dr.success,info:dr.info,warning:dr.warning,error:dr.error,custom:dr.custom,message:dr.message,promise:dr.promise,dismiss:dr.dismiss,loading:dr.loading},{getHistory:_V,getToasts:wV});iV("[data-sonner-toaster][dir=ltr],html[dir=ltr]{--toast-icon-margin-start:-3px;--toast-icon-margin-end:4px;--toast-svg-margin-start:-1px;--toast-svg-margin-end:0px;--toast-button-margin-start:auto;--toast-button-margin-end:0;--toast-close-button-start:0;--toast-close-button-end:unset;--toast-close-button-transform:translate(-35%, -35%)}[data-sonner-toaster][dir=rtl],html[dir=rtl]{--toast-icon-margin-start:4px;--toast-icon-margin-end:-3px;--toast-svg-margin-start:0px;--toast-svg-margin-end:-1px;--toast-button-margin-start:0;--toast-button-margin-end:auto;--toast-close-button-start:unset;--toast-close-button-end:0;--toast-close-button-transform:translate(35%, -35%)}[data-sonner-toaster]{position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1:hsl(0, 0%, 99%);--gray2:hsl(0, 0%, 97.3%);--gray3:hsl(0, 0%, 95.1%);--gray4:hsl(0, 0%, 93%);--gray5:hsl(0, 0%, 90.9%);--gray6:hsl(0, 0%, 88.7%);--gray7:hsl(0, 0%, 85.8%);--gray8:hsl(0, 0%, 78%);--gray9:hsl(0, 0%, 56.1%);--gray10:hsl(0, 0%, 52.3%);--gray11:hsl(0, 0%, 43.5%);--gray12:hsl(0, 0%, 9%);--border-radius:8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:0;z-index:999999999;transition:transform .4s ease}[data-sonner-toaster][data-lifted=true]{transform:translateY(-8px)}@media (hover:none) and (pointer:coarse){[data-sonner-toaster][data-lifted=true]{transform:none}}[data-sonner-toaster][data-x-position=right]{right:var(--offset-right)}[data-sonner-toaster][data-x-position=left]{left:var(--offset-left)}[data-sonner-toaster][data-x-position=center]{left:50%;transform:translateX(-50%)}[data-sonner-toaster][data-y-position=top]{top:var(--offset-top)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--offset-bottom)}[data-sonner-toast]{--y:translateY(100%);--lift-amount:calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:0;overflow-wrap:anywhere}[data-sonner-toast][data-styled=true]{padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px rgba(0,0,0,.1);width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}[data-sonner-toast]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-y-position=top]{top:0;--y:translateY(-100%);--lift:1;--lift-amount:calc(1 * var(--gap))}[data-sonner-toast][data-y-position=bottom]{bottom:0;--y:translateY(100%);--lift:-1;--lift-amount:calc(var(--lift) * var(--gap))}[data-sonner-toast][data-styled=true] [data-description]{font-weight:400;line-height:1.4;color:#3f3f3f}[data-rich-colors=true][data-sonner-toast][data-styled=true] [data-description]{color:inherit}[data-sonner-toaster][data-sonner-theme=dark] [data-description]{color:#e8e8e8}[data-sonner-toast][data-styled=true] [data-title]{font-weight:500;line-height:1.5;color:inherit}[data-sonner-toast][data-styled=true] [data-icon]{display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}[data-sonner-toast][data-promise=true] [data-icon]>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}[data-sonner-toast][data-styled=true] [data-icon]>*{flex-shrink:0}[data-sonner-toast][data-styled=true] [data-icon] svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}[data-sonner-toast][data-styled=true] [data-content]{display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;font-weight:500;cursor:pointer;outline:0;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}[data-sonner-toast][data-styled=true] [data-button]:focus-visible{box-shadow:0 0 0 2px rgba(0,0,0,.4)}[data-sonner-toast][data-styled=true] [data-button]:first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}[data-sonner-toast][data-styled=true] [data-cancel]{color:var(--normal-text);background:rgba(0,0,0,.08)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-styled=true] [data-cancel]{background:rgba(255,255,255,.3)}[data-sonner-toast][data-styled=true] [data-close-button]{position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);background:var(--normal-bg);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast][data-styled=true] [data-close-button]:focus-visible{box-shadow:0 4px 12px rgba(0,0,0,.1),0 0 0 2px rgba(0,0,0,.2)}[data-sonner-toast][data-styled=true] [data-disabled=true]{cursor:not-allowed}[data-sonner-toast][data-styled=true]:hover [data-close-button]:hover{background:var(--gray2);border-color:var(--gray5)}[data-sonner-toast][data-swiping=true]::before{content:'';position:absolute;left:-100%;right:-100%;height:100%;z-index:-1}[data-sonner-toast][data-y-position=top][data-swiping=true]::before{bottom:50%;transform:scaleY(3) translateY(50%)}[data-sonner-toast][data-y-position=bottom][data-swiping=true]::before{top:50%;transform:scaleY(3) translateY(-50%)}[data-sonner-toast][data-swiping=false][data-removed=true]::before{content:'';position:absolute;inset:0;transform:scaleY(2)}[data-sonner-toast][data-expanded=true]::after{content:'';position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}[data-sonner-toast][data-mounted=true]{--y:translateY(0);opacity:1}[data-sonner-toast][data-expanded=false][data-front=false]{--scale:var(--toasts-before) * 0.05 + 1;--y:translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}[data-sonner-toast]>*{transition:opacity .4s}[data-sonner-toast][data-x-position=right]{right:0}[data-sonner-toast][data-x-position=left]{left:0}[data-sonner-toast][data-expanded=false][data-front=false][data-styled=true]>*{opacity:0}[data-sonner-toast][data-visible=false]{opacity:0;pointer-events:none}[data-sonner-toast][data-mounted=true][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}[data-sonner-toast][data-removed=true][data-front=true][data-swipe-out=false]{--y:translateY(calc(var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=true]{--y:translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}[data-sonner-toast][data-removed=true][data-front=false][data-swipe-out=false][data-expanded=false]{--y:translateY(40%);opacity:0;transition:transform .5s,opacity .2s}[data-sonner-toast][data-removed=true][data-front=false]::before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y,0)) translateX(var(--swipe-amount-x,0));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{from{transform:var(--y) translateX(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translateX(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{from{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width:600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-sonner-theme=light]{--normal-bg:#fff;--normal-border:var(--gray4);--normal-text:var(--gray12);--success-bg:hsl(143, 85%, 96%);--success-border:hsl(145, 92%, 87%);--success-text:hsl(140, 100%, 27%);--info-bg:hsl(208, 100%, 97%);--info-border:hsl(221, 91%, 93%);--info-text:hsl(210, 92%, 45%);--warning-bg:hsl(49, 100%, 97%);--warning-border:hsl(49, 91%, 84%);--warning-text:hsl(31, 92%, 45%);--error-bg:hsl(359, 100%, 97%);--error-border:hsl(359, 100%, 94%);--error-text:hsl(360, 100%, 45%)}[data-sonner-toaster][data-sonner-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg:#000;--normal-border:hsl(0, 0%, 20%);--normal-text:var(--gray1)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg:#fff;--normal-border:var(--gray3);--normal-text:var(--gray12)}[data-sonner-toaster][data-sonner-theme=dark]{--normal-bg:#000;--normal-bg-hover:hsl(0, 0%, 12%);--normal-border:hsl(0, 0%, 20%);--normal-border-hover:hsl(0, 0%, 25%);--normal-text:var(--gray1);--success-bg:hsl(150, 100%, 6%);--success-border:hsl(147, 100%, 12%);--success-text:hsl(150, 86%, 65%);--info-bg:hsl(215, 100%, 6%);--info-border:hsl(223, 43%, 17%);--info-text:hsl(216, 87%, 65%);--warning-bg:hsl(64, 100%, 6%);--warning-border:hsl(60, 100%, 9%);--warning-text:hsl(46, 87%, 65%);--error-bg:hsl(358, 76%, 10%);--error-border:hsl(357, 89%, 16%);--error-text:hsl(358, 100%, 81%)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-sonner-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size:16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:first-child{animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}100%{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}100%{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}100%{opacity:.15}}@media (prefers-reduced-motion){.sonner-loading-bar,[data-sonner-toast],[data-sonner-toast]>*{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}");function Md(t){return t.label!==void 0}const EV=3,TV="24px",IV="16px",M0=4e3,bV=356,kV=14,SV=45,xV=200;function xs(...t){return t.filter(Boolean).join(" ")}function AV(t){const[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}const RV=t=>{var e,n,r,i,a,l,d,f,p;const{invert:_,toast:v,unstyled:E,interacting:x,setHeights:A,visibleToasts:j,heights:R,index:K,toasts:$,expanded:ee,removeToast:J,defaultRichColors:ce,closeButton:_e,style:L,cancelButtonStyle:b,actionButtonStyle:C,className:D="",descriptionClassName:V="",duration:P,position:S,gap:De,expandByDefault:Le,classNames:me,icons:Ne,closeButtonAriaLabel:Z="Close toast"}=t,[ve,pe]=se.useState(null),[F,Q]=se.useState(null),[le,Ee]=se.useState(!1),[Me,Ae]=se.useState(!1),[Oe,Ke]=se.useState(!1),[Ze,lt]=se.useState(!1),[Zt,hn]=se.useState(!1),[xr,Qn]=se.useState(0),[ps,qr]=se.useState(0),Yn=se.useRef(v.duration||P||M0),$s=se.useRef(null),sn=se.useRef(null),Ar=K===0,Jn=K+1<=j,O=v.type,H=v.dismissible!==!1,X=v.className||"",ge=v.descriptionClassName||"",oe=se.useMemo(()=>R.findIndex(ze=>ze.toastId===v.id)||0,[R,v.id]),re=se.useMemo(()=>{var ze;return(ze=v.closeButton)!=null?ze:_e},[v.closeButton,_e]),ye=se.useMemo(()=>v.duration||P||M0,[v.duration,P]),Ge=se.useRef(0),et=se.useRef(0),ft=se.useRef(0),bn=se.useRef(null),[Hr,Wr]=S.split("-"),ms=se.useMemo(()=>R.reduce((ze,Tt,It)=>It>=oe?ze:ze+Tt.height,0),[R,oe]),Kr=pV(),Bs=v.invert||_,Xn=O==="loading";et.current=se.useMemo(()=>oe*De+ms,[oe,ms]),se.useEffect(()=>{Yn.current=ye},[ye]),se.useEffect(()=>{Ee(!0)},[]),se.useEffect(()=>{const ze=sn.current;if(ze){const Tt=ze.getBoundingClientRect().height;return qr(Tt),A(It=>[{toastId:v.id,height:Tt,position:v.position},...It]),()=>A(It=>It.filter(Qt=>Qt.toastId!==v.id))}},[A,v.id]),se.useLayoutEffect(()=>{if(!le)return;const ze=sn.current,Tt=ze.style.height;ze.style.height="auto";const It=ze.getBoundingClientRect().height;ze.style.height=Tt,qr(It),A(Qt=>Qt.find(At=>At.toastId===v.id)?Qt.map(At=>At.toastId===v.id?{...At,height:It}:At):[{toastId:v.id,height:It,position:v.position},...Qt])},[le,v.title,v.description,A,v.id]);const Un=se.useCallback(()=>{Ae(!0),Qn(et.current),A(ze=>ze.filter(Tt=>Tt.toastId!==v.id)),setTimeout(()=>{J(v)},xV)},[v,J,A,et]);se.useEffect(()=>{if(v.promise&&O==="loading"||v.duration===1/0||v.type==="loading")return;let ze;return ee||x||Kr?(()=>{if(ft.current<Ge.current){const Qt=new Date().getTime()-Ge.current;Yn.current=Yn.current-Qt}ft.current=new Date().getTime()})():(()=>{Yn.current!==1/0&&(Ge.current=new Date().getTime(),ze=setTimeout(()=>{v.onAutoClose==null||v.onAutoClose.call(v,v),Un()},Yn.current))})(),()=>clearTimeout(ze)},[ee,x,v,O,Kr,Un]),se.useEffect(()=>{v.delete&&Un()},[Un,v.delete]);function yi(){var ze;if(Ne!=null&&Ne.loading){var Tt;return se.createElement("div",{className:xs(me==null?void 0:me.loader,v==null||(Tt=v.classNames)==null?void 0:Tt.loader,"sonner-loader"),"data-visible":O==="loading"},Ne.loading)}return se.createElement(lV,{className:xs(me==null?void 0:me.loader,v==null||(ze=v.classNames)==null?void 0:ze.loader),visible:O==="loading"})}const er=v.icon||(Ne==null?void 0:Ne[O])||oV(O);var gr,qs;return se.createElement("li",{tabIndex:0,ref:sn,className:xs(D,X,me==null?void 0:me.toast,v==null||(e=v.classNames)==null?void 0:e.toast,me==null?void 0:me.default,me==null?void 0:me[O],v==null||(n=v.classNames)==null?void 0:n[O]),"data-sonner-toast":"","data-rich-colors":(gr=v.richColors)!=null?gr:ce,"data-styled":!(v.jsx||v.unstyled||E),"data-mounted":le,"data-promise":!!v.promise,"data-swiped":Zt,"data-removed":Me,"data-visible":Jn,"data-y-position":Hr,"data-x-position":Wr,"data-index":K,"data-front":Ar,"data-swiping":Oe,"data-dismissible":H,"data-type":O,"data-invert":Bs,"data-swipe-out":Ze,"data-swipe-direction":F,"data-expanded":!!(ee||Le&&le),style:{"--index":K,"--toasts-before":K,"--z-index":$.length-K,"--offset":`${Me?xr:et.current}px`,"--initial-height":Le?"auto":`${ps}px`,...L,...v.style},onDragEnd:()=>{Ke(!1),pe(null),bn.current=null},onPointerDown:ze=>{Xn||!H||($s.current=new Date,Qn(et.current),ze.target.setPointerCapture(ze.pointerId),ze.target.tagName!=="BUTTON"&&(Ke(!0),bn.current={x:ze.clientX,y:ze.clientY}))},onPointerUp:()=>{var ze,Tt,It;if(Ze||!H)return;bn.current=null;const Qt=Number(((ze=sn.current)==null?void 0:ze.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),tr=Number(((Tt=sn.current)==null?void 0:Tt.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),At=new Date().getTime()-((It=$s.current)==null?void 0:It.getTime()),st=ve==="x"?Qt:tr,Gr=Math.abs(st)/At;if(Math.abs(st)>=SV||Gr>.11){Qn(et.current),v.onDismiss==null||v.onDismiss.call(v,v),Q(ve==="x"?Qt>0?"right":"left":tr>0?"down":"up"),Un(),lt(!0);return}else{var Rt,Yt;(Rt=sn.current)==null||Rt.style.setProperty("--swipe-amount-x","0px"),(Yt=sn.current)==null||Yt.style.setProperty("--swipe-amount-y","0px")}hn(!1),Ke(!1),pe(null)},onPointerMove:ze=>{var Tt,It,Qt;if(!bn.current||!H||((Tt=window.getSelection())==null?void 0:Tt.toString().length)>0)return;const At=ze.clientY-bn.current.y,st=ze.clientX-bn.current.x;var Gr;const Rt=(Gr=t.swipeDirections)!=null?Gr:AV(S);!ve&&(Math.abs(st)>1||Math.abs(At)>1)&&pe(Math.abs(st)>Math.abs(At)?"x":"y");let Yt={x:0,y:0};const gs=nr=>1/(1.5+Math.abs(nr)/20);if(ve==="y"){if(Rt.includes("top")||Rt.includes("bottom"))if(Rt.includes("top")&&At<0||Rt.includes("bottom")&&At>0)Yt.y=At;else{const nr=At*gs(At);Yt.y=Math.abs(nr)<Math.abs(At)?nr:At}}else if(ve==="x"&&(Rt.includes("left")||Rt.includes("right")))if(Rt.includes("left")&&st<0||Rt.includes("right")&&st>0)Yt.x=st;else{const nr=st*gs(st);Yt.x=Math.abs(nr)<Math.abs(st)?nr:st}(Math.abs(Yt.x)>0||Math.abs(Yt.y)>0)&&hn(!0),(It=sn.current)==null||It.style.setProperty("--swipe-amount-x",`${Yt.x}px`),(Qt=sn.current)==null||Qt.style.setProperty("--swipe-amount-y",`${Yt.y}px`)}},re&&!v.jsx&&O!=="loading"?se.createElement("button",{"aria-label":Z,"data-disabled":Xn,"data-close-button":!0,onClick:Xn||!H?()=>{}:()=>{Un(),v.onDismiss==null||v.onDismiss.call(v,v)},className:xs(me==null?void 0:me.closeButton,v==null||(r=v.classNames)==null?void 0:r.closeButton)},(qs=Ne==null?void 0:Ne.close)!=null?qs:fV):null,(O||v.icon||v.promise)&&v.icon!==null&&((Ne==null?void 0:Ne[O])!==null||v.icon)?se.createElement("div",{"data-icon":"",className:xs(me==null?void 0:me.icon,v==null||(i=v.classNames)==null?void 0:i.icon)},v.promise||v.type==="loading"&&!v.icon?v.icon||yi():null,v.type!=="loading"?er:null):null,se.createElement("div",{"data-content":"",className:xs(me==null?void 0:me.content,v==null||(a=v.classNames)==null?void 0:a.content)},se.createElement("div",{"data-title":"",className:xs(me==null?void 0:me.title,v==null||(l=v.classNames)==null?void 0:l.title)},v.jsx?v.jsx:typeof v.title=="function"?v.title():v.title),v.description?se.createElement("div",{"data-description":"",className:xs(V,ge,me==null?void 0:me.description,v==null||(d=v.classNames)==null?void 0:d.description)},typeof v.description=="function"?v.description():v.description):null),se.isValidElement(v.cancel)?v.cancel:v.cancel&&Md(v.cancel)?se.createElement("button",{"data-button":!0,"data-cancel":!0,style:v.cancelButtonStyle||b,onClick:ze=>{Md(v.cancel)&&H&&(v.cancel.onClick==null||v.cancel.onClick.call(v.cancel,ze),Un())},className:xs(me==null?void 0:me.cancelButton,v==null||(f=v.classNames)==null?void 0:f.cancelButton)},v.cancel.label):null,se.isValidElement(v.action)?v.action:v.action&&Md(v.action)?se.createElement("button",{"data-button":!0,"data-action":!0,style:v.actionButtonStyle||C,onClick:ze=>{Md(v.action)&&(v.action.onClick==null||v.action.onClick.call(v.action,ze),!ze.defaultPrevented&&Un())},className:xs(me==null?void 0:me.actionButton,v==null||(p=v.classNames)==null?void 0:p.actionButton)},v.action.label):null)};function j0(){if(typeof window>"u"||typeof document>"u")return"ltr";const t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function CV(t,e){const n={};return[t,e].forEach((r,i)=>{const a=i===1,l=a?"--mobile-offset":"--offset",d=a?IV:TV;function f(p){["top","right","bottom","left"].forEach(_=>{n[`${l}-${_}`]=typeof p=="number"?`${p}px`:p})}typeof r=="number"||typeof r=="string"?f(r):typeof r=="object"?["top","right","bottom","left"].forEach(p=>{r[p]===void 0?n[`${l}-${p}`]=d:n[`${l}-${p}`]=typeof r[p]=="number"?`${r[p]}px`:r[p]}):f(d)}),n}const PV=se.forwardRef(function(e,n){const{invert:r,position:i="bottom-right",hotkey:a=["altKey","KeyT"],expand:l,closeButton:d,className:f,offset:p,mobileOffset:_,theme:v="light",richColors:E,duration:x,style:A,visibleToasts:j=EV,toastOptions:R,dir:K=j0(),gap:$=kV,icons:ee,containerAriaLabel:J="Notifications"}=e,[ce,_e]=se.useState([]),L=se.useMemo(()=>Array.from(new Set([i].concat(ce.filter(F=>F.position).map(F=>F.position)))),[ce,i]),[b,C]=se.useState([]),[D,V]=se.useState(!1),[P,S]=se.useState(!1),[De,Le]=se.useState(v!=="system"?v:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),me=se.useRef(null),Ne=a.join("+").replace(/Key/g,"").replace(/Digit/g,""),Z=se.useRef(null),ve=se.useRef(!1),pe=se.useCallback(F=>{_e(Q=>{var le;return(le=Q.find(Ee=>Ee.id===F.id))!=null&&le.delete||dr.dismiss(F.id),Q.filter(({id:Ee})=>Ee!==F.id)})},[]);return se.useEffect(()=>dr.subscribe(F=>{if(F.dismiss){requestAnimationFrame(()=>{_e(Q=>Q.map(le=>le.id===F.id?{...le,delete:!0}:le))});return}setTimeout(()=>{Ix.flushSync(()=>{_e(Q=>{const le=Q.findIndex(Ee=>Ee.id===F.id);return le!==-1?[...Q.slice(0,le),{...Q[le],...F},...Q.slice(le+1)]:[F,...Q]})})})}),[ce]),se.useEffect(()=>{if(v!=="system"){Le(v);return}if(v==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Le("dark"):Le("light")),typeof window>"u")return;const F=window.matchMedia("(prefers-color-scheme: dark)");try{F.addEventListener("change",({matches:Q})=>{Le(Q?"dark":"light")})}catch{F.addListener(({matches:le})=>{try{Le(le?"dark":"light")}catch(Ee){console.error(Ee)}})}},[v]),se.useEffect(()=>{ce.length<=1&&V(!1)},[ce]),se.useEffect(()=>{const F=Q=>{var le;if(a.every(Ae=>Q[Ae]||Q.code===Ae)){var Me;V(!0),(Me=me.current)==null||Me.focus()}Q.code==="Escape"&&(document.activeElement===me.current||(le=me.current)!=null&&le.contains(document.activeElement))&&V(!1)};return document.addEventListener("keydown",F),()=>document.removeEventListener("keydown",F)},[a]),se.useEffect(()=>{if(me.current)return()=>{Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null,ve.current=!1)}},[me.current]),se.createElement("section",{ref:n,"aria-label":`${J} ${Ne}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},L.map((F,Q)=>{var le;const[Ee,Me]=F.split("-");return ce.length?se.createElement("ol",{key:F,dir:K==="auto"?j0():K,tabIndex:-1,ref:me,className:f,"data-sonner-toaster":!0,"data-sonner-theme":De,"data-y-position":Ee,"data-lifted":D&&ce.length>1&&!l,"data-x-position":Me,style:{"--front-toast-height":`${((le=b[0])==null?void 0:le.height)||0}px`,"--width":`${bV}px`,"--gap":`${$}px`,...A,...CV(p,_)},onBlur:Ae=>{ve.current&&!Ae.currentTarget.contains(Ae.relatedTarget)&&(ve.current=!1,Z.current&&(Z.current.focus({preventScroll:!0}),Z.current=null))},onFocus:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||ve.current||(ve.current=!0,Z.current=Ae.relatedTarget)},onMouseEnter:()=>V(!0),onMouseMove:()=>V(!0),onMouseLeave:()=>{P||V(!1)},onDragEnd:()=>V(!1),onPointerDown:Ae=>{Ae.target instanceof HTMLElement&&Ae.target.dataset.dismissible==="false"||S(!0)},onPointerUp:()=>S(!1)},ce.filter(Ae=>!Ae.position&&Q===0||Ae.position===F).map((Ae,Oe)=>{var Ke,Ze;return se.createElement(RV,{key:Ae.id,icons:ee,index:Oe,toast:Ae,defaultRichColors:E,duration:(Ke=R==null?void 0:R.duration)!=null?Ke:x,className:R==null?void 0:R.className,descriptionClassName:R==null?void 0:R.descriptionClassName,invert:r,visibleToasts:j,closeButton:(Ze=R==null?void 0:R.closeButton)!=null?Ze:d,interacting:P,position:F,style:R==null?void 0:R.style,unstyled:R==null?void 0:R.unstyled,classNames:R==null?void 0:R.classNames,cancelButtonStyle:R==null?void 0:R.cancelButtonStyle,actionButtonStyle:R==null?void 0:R.actionButtonStyle,closeButtonAriaLabel:R==null?void 0:R.closeButtonAriaLabel,removeToast:pe,toasts:ce.filter(lt=>lt.position==Ae.position),heights:b.filter(lt=>lt.position==Ae.position),setHeights:C,expandByDefault:l,gap:$,expanded:D,swipeDirections:e.swipeDirections})})):null}))});function NV(){const{mode:t}=cT();return T.jsx(PV,{theme:t,className:"toaster group",style:{"--normal-bg":"var(--popover)","--normal-text":"var(--popover-foreground)","--normal-border":"var(--border)"}})}function OV({children:t,className:e}){return T.jsx("div",{className:zr("page-transition",e),children:t})}function DV(){const{pathname:t}=Fs();return T.jsxs("div",{className:"min-h-screen flex flex-col bg-background text-foreground",children:[T.jsx(rV,{}),T.jsx(sV,{}),T.jsx("main",{className:"flex-1",children:T.jsx(OV,{children:T.jsx(th,{})},t)}),T.jsx(oR,{}),T.jsx(NV,{})]})}function te(t,e,n){function r(d,f){if(d._zod||Object.defineProperty(d,"_zod",{value:{def:f,constr:l,traits:new Set},enumerable:!1}),d._zod.traits.has(t))return;d._zod.traits.add(t),e(d,f);const p=l.prototype,_=Object.keys(p);for(let v=0;v<_.length;v++){const E=_[v];E in d||(d[E]=p[E].bind(d))}}const i=(n==null?void 0:n.Parent)??Object;class a extends i{}Object.defineProperty(a,"name",{value:t});function l(d){var f;const p=n!=null&&n.Parent?new a:this;r(p,d),(f=p._zod).deferred??(f.deferred=[]);for(const _ of p._zod.deferred)_();return p}return Object.defineProperty(l,"init",{value:r}),Object.defineProperty(l,Symbol.hasInstance,{value:d=>{var f,p;return n!=null&&n.Parent&&d instanceof n.Parent?!0:(p=(f=d==null?void 0:d._zod)==null?void 0:f.traits)==null?void 0:p.has(t)}}),Object.defineProperty(l,"name",{value:t}),l}class sl extends Error{constructor(){super("Encountered Promise during synchronous parse. Use .parseAsync() instead.")}}class Kb extends Error{constructor(e){super(`Encountered unidirectional transform during encode: ${e}`),this.name="ZodEncodeError"}}const Gb={};function Jo(t){return Gb}function Zb(t){const e=Object.values(t).filter(r=>typeof r=="number");return Object.entries(t).filter(([r,i])=>e.indexOf(+r)===-1).map(([r,i])=>i)}function Jm(t,e){return typeof e=="bigint"?e.toString():e}function my(t){return{get value(){{const e=t();return Object.defineProperty(this,"value",{value:e}),e}}}}function gy(t){return t==null}function yy(t){const e=t.startsWith("^")?1:0,n=t.endsWith("$")?t.length-1:t.length;return t.slice(e,n)}function LV(t,e){const n=(t.toString().split(".")[1]||"").length,r=e.toString();let i=(r.split(".")[1]||"").length;if(i===0&&/\d?e-\d?/.test(r)){const f=r.match(/\d?e-(\d?)/);f!=null&&f[1]&&(i=Number.parseInt(f[1]))}const a=n>i?n:i,l=Number.parseInt(t.toFixed(a).replace(".","")),d=Number.parseInt(e.toFixed(a).replace(".",""));return l%d/10**a}const F0=Symbol("evaluating");function vt(t,e,n){let r;Object.defineProperty(t,e,{get(){if(r!==F0)return r===void 0&&(r=F0,r=n()),r},set(i){Object.defineProperty(t,e,{value:i})},configurable:!0})}function ia(t,e,n){Object.defineProperty(t,e,{value:n,writable:!0,enumerable:!0,configurable:!0})}function oa(...t){const e={};for(const n of t){const r=Object.getOwnPropertyDescriptors(n);Object.assign(e,r)}return Object.defineProperties({},e)}function U0(t){return JSON.stringify(t)}function VV(t){return t.toLowerCase().trim().replace(/[^\w\s-]/g,"").replace(/[\s_-]+/g,"-").replace(/^-+|-+$/g,"")}const Qb="captureStackTrace"in Error?Error.captureStackTrace:(...t)=>{};function vh(t){return typeof t=="object"&&t!==null&&!Array.isArray(t)}const MV=my(()=>{var t;if(typeof navigator<"u"&&((t=navigator==null?void 0:navigator.userAgent)!=null&&t.includes("Cloudflare")))return!1;try{const e=Function;return new e(""),!0}catch{return!1}});function Zu(t){if(vh(t)===!1)return!1;const e=t.constructor;if(e===void 0||typeof e!="function")return!0;const n=e.prototype;return!(vh(n)===!1||Object.prototype.hasOwnProperty.call(n,"isPrototypeOf")===!1)}function Yb(t){return Zu(t)?{...t}:Array.isArray(t)?[...t]:t}const jV=new Set(["string","number","symbol"]);function yl(t){return t.replace(/[.*+?^${}()|[\]\\]/g,"\\$&")}function co(t,e,n){const r=new t._zod.constr(e??t._zod.def);return(!e||n!=null&&n.parent)&&(r._zod.parent=t),r}function Ve(t){const e=t;if(!e)return{};if(typeof e=="string")return{error:()=>e};if((e==null?void 0:e.message)!==void 0){if((e==null?void 0:e.error)!==void 0)throw new Error("Cannot specify both `message` and `error` params");e.error=e.message}return delete e.message,typeof e.error=="string"?{...e,error:()=>e.error}:e}function FV(t){return Object.keys(t).filter(e=>t[e]._zod.optin==="optional"&&t[e]._zod.optout==="optional")}const UV={safeint:[Number.MIN_SAFE_INTEGER,Number.MAX_SAFE_INTEGER],int32:[-2147483648,2147483647],uint32:[0,4294967295],float32:[-34028234663852886e22,34028234663852886e22],float64:[-Number.MAX_VALUE,Number.MAX_VALUE]};function zV(t,e){const n=t._zod.def,r=oa(t._zod.def,{get shape(){const i={};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&(i[a]=n.shape[a])}return ia(this,"shape",i),i},checks:[]});return co(t,r)}function $V(t,e){const n=t._zod.def,r=oa(t._zod.def,{get shape(){const i={...t._zod.def.shape};for(const a in e){if(!(a in n.shape))throw new Error(`Unrecognized key: "${a}"`);e[a]&&delete i[a]}return ia(this,"shape",i),i},checks:[]});return co(t,r)}function BV(t,e){if(!Zu(e))throw new Error("Invalid input to extend: expected a plain object");const n=t._zod.def.checks;if(n&&n.length>0)throw new Error("Object schemas containing refinements cannot be extended. Use `.safeExtend()` instead.");const i=oa(t._zod.def,{get shape(){const a={...t._zod.def.shape,...e};return ia(this,"shape",a),a},checks:[]});return co(t,i)}function qV(t,e){if(!Zu(e))throw new Error("Invalid input to safeExtend: expected a plain object");const n={...t._zod.def,get shape(){const r={...t._zod.def.shape,...e};return ia(this,"shape",r),r},checks:t._zod.def.checks};return co(t,n)}function HV(t,e){const n=oa(t._zod.def,{get shape(){const r={...t._zod.def.shape,...e._zod.def.shape};return ia(this,"shape",r),r},get catchall(){return e._zod.def.catchall},checks:[]});return co(t,n)}function WV(t,e,n){const r=oa(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(n)for(const l in n){if(!(l in i))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=t?new t({type:"optional",innerType:i[l]}):i[l])}else for(const l in i)a[l]=t?new t({type:"optional",innerType:i[l]}):i[l];return ia(this,"shape",a),a},checks:[]});return co(e,r)}function KV(t,e,n){const r=oa(e._zod.def,{get shape(){const i=e._zod.def.shape,a={...i};if(n)for(const l in n){if(!(l in a))throw new Error(`Unrecognized key: "${l}"`);n[l]&&(a[l]=new t({type:"nonoptional",innerType:i[l]}))}else for(const l in i)a[l]=new t({type:"nonoptional",innerType:i[l]});return ia(this,"shape",a),a},checks:[]});return co(e,r)}function Ja(t,e=0){var n;if(t.aborted===!0)return!0;for(let r=e;r<t.issues.length;r++)if(((n=t.issues[r])==null?void 0:n.continue)!==!0)return!0;return!1}function Jb(t,e){return e.map(n=>{var r;return(r=n).path??(r.path=[]),n.path.unshift(t),n})}function jd(t){return typeof t=="string"?t:t==null?void 0:t.message}function Xo(t,e,n){var i,a,l,d,f,p;const r={...t,path:t.path??[]};if(!t.message){const _=jd((l=(a=(i=t.inst)==null?void 0:i._zod.def)==null?void 0:a.error)==null?void 0:l.call(a,t))??jd((d=e==null?void 0:e.error)==null?void 0:d.call(e,t))??jd((f=n.customError)==null?void 0:f.call(n,t))??jd((p=n.localeError)==null?void 0:p.call(n,t))??"Invalid input";r.message=_}return delete r.inst,delete r.continue,e!=null&&e.reportInput||delete r.input,r}function vy(t){return Array.isArray(t)?"array":typeof t=="string"?"string":"unknown"}function Qu(...t){const[e,n,r]=t;return typeof e=="string"?{message:e,code:"custom",input:n,inst:r}:{...e}}const Xb=(t,e)=>{t.name="$ZodError",Object.defineProperty(t,"_zod",{value:t._zod,enumerable:!1}),Object.defineProperty(t,"issues",{value:e,enumerable:!1}),t.message=JSON.stringify(e,Jm,2),Object.defineProperty(t,"toString",{value:()=>t.message,enumerable:!1})},_y=te("$ZodError",Xb),nf=te("$ZodError",Xb,{Parent:Error});function GV(t,e=n=>n.message){const n={},r=[];for(const i of t.issues)i.path.length>0?(n[i.path[0]]=n[i.path[0]]||[],n[i.path[0]].push(e(i))):r.push(e(i));return{formErrors:r,fieldErrors:n}}function ZV(t,e=n=>n.message){const n={_errors:[]},r=i=>{for(const a of i.issues)if(a.code==="invalid_union"&&a.errors.length)a.errors.map(l=>r({issues:l}));else if(a.code==="invalid_key")r({issues:a.issues});else if(a.code==="invalid_element")r({issues:a.issues});else if(a.path.length===0)n._errors.push(e(a));else{let l=n,d=0;for(;d<a.path.length;){const f=a.path[d];d===a.path.length-1?(l[f]=l[f]||{_errors:[]},l[f]._errors.push(e(a))):l[f]=l[f]||{_errors:[]},l=l[f],d++}}};return r(t),n}const rf=t=>(e,n,r,i)=>{const a=r?Object.assign(r,{async:!1}):{async:!1},l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise)throw new sl;if(l.issues.length){const d=new((i==null?void 0:i.Err)??t)(l.issues.map(f=>Xo(f,a,Jo())));throw Qb(d,i==null?void 0:i.callee),d}return l.value},QV=rf(nf),sf=t=>async(e,n,r,i)=>{const a=r?Object.assign(r,{async:!0}):{async:!0};let l=e._zod.run({value:n,issues:[]},a);if(l instanceof Promise&&(l=await l),l.issues.length){const d=new((i==null?void 0:i.Err)??t)(l.issues.map(f=>Xo(f,a,Jo())));throw Qb(d,i==null?void 0:i.callee),d}return l.value},YV=sf(nf),of=t=>(e,n,r)=>{const i=r?{...r,async:!1}:{async:!1},a=e._zod.run({value:n,issues:[]},i);if(a instanceof Promise)throw new sl;return a.issues.length?{success:!1,error:new(t??_y)(a.issues.map(l=>Xo(l,i,Jo())))}:{success:!0,data:a.value}},JV=of(nf),af=t=>async(e,n,r)=>{const i=r?Object.assign(r,{async:!0}):{async:!0};let a=e._zod.run({value:n,issues:[]},i);return a instanceof Promise&&(a=await a),a.issues.length?{success:!1,error:new t(a.issues.map(l=>Xo(l,i,Jo())))}:{success:!0,data:a.value}},XV=af(nf),eM=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return rf(t)(e,n,i)},tM=t=>(e,n,r)=>rf(t)(e,n,r),nM=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return sf(t)(e,n,i)},rM=t=>async(e,n,r)=>sf(t)(e,n,r),sM=t=>(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return of(t)(e,n,i)},iM=t=>(e,n,r)=>of(t)(e,n,r),oM=t=>async(e,n,r)=>{const i=r?Object.assign(r,{direction:"backward"}):{direction:"backward"};return af(t)(e,n,i)},aM=t=>async(e,n,r)=>af(t)(e,n,r),lM=/^[cC][^\s-]{8,}$/,uM=/^[0-9a-z]+$/,cM=/^[0-9A-HJKMNP-TV-Za-hjkmnp-tv-z]{26}$/,dM=/^[0-9a-vA-V]{20}$/,hM=/^[A-Za-z0-9]{27}$/,fM=/^[a-zA-Z0-9_-]{21}$/,pM=/^P(?:(\d+W)|(?!.*W)(?=\d|T\d)(\d+Y)?(\d+M)?(\d+D)?(T(?=\d)(\d+H)?(\d+M)?(\d+([.,]\d+)?S)?)?)$/,mM=/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{4}-[0-9a-fA-F]{12})$/,z0=t=>t?new RegExp(`^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-${t}[0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12})$`):/^([0-9a-fA-F]{8}-[0-9a-fA-F]{4}-[1-8][0-9a-fA-F]{3}-[89abAB][0-9a-fA-F]{3}-[0-9a-fA-F]{12}|00000000-0000-0000-0000-000000000000|ffffffff-ffff-ffff-ffff-ffffffffffff)$/,gM=/^(?!\.)(?!.*\.\.)([A-Za-z0-9_'+\-\.]*)[A-Za-z0-9_+-]@([A-Za-z0-9][A-Za-z0-9\-]*\.)+[A-Za-z]{2,}$/,yM="^(\\p{Extended_Pictographic}|\\p{Emoji_Component})+$";function vM(){return new RegExp(yM,"u")}const _M=/^(?:(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(?:25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])$/,wM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,7}:|([0-9a-fA-F]{1,4}:){1,6}:[0-9a-fA-F]{1,4}|([0-9a-fA-F]{1,4}:){1,5}(:[0-9a-fA-F]{1,4}){1,2}|([0-9a-fA-F]{1,4}:){1,4}(:[0-9a-fA-F]{1,4}){1,3}|([0-9a-fA-F]{1,4}:){1,3}(:[0-9a-fA-F]{1,4}){1,4}|([0-9a-fA-F]{1,4}:){1,2}(:[0-9a-fA-F]{1,4}){1,5}|[0-9a-fA-F]{1,4}:((:[0-9a-fA-F]{1,4}){1,6})|:((:[0-9a-fA-F]{1,4}){1,7}|:))$/,EM=/^((25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\.){3}(25[0-5]|2[0-4][0-9]|1[0-9][0-9]|[1-9][0-9]|[0-9])\/([0-9]|[1-2][0-9]|3[0-2])$/,TM=/^(([0-9a-fA-F]{1,4}:){7}[0-9a-fA-F]{1,4}|::|([0-9a-fA-F]{1,4})?::([0-9a-fA-F]{1,4}:?){0,6})\/(12[0-8]|1[01][0-9]|[1-9]?[0-9])$/,IM=/^$|^(?:[0-9a-zA-Z+/]{4})*(?:(?:[0-9a-zA-Z+/]{2}==)|(?:[0-9a-zA-Z+/]{3}=))?$/,ek=/^[A-Za-z0-9_-]*$/,bM=/^\+(?:[0-9]){6,14}[0-9]$/,tk="(?:(?:\\d\\d[2468][048]|\\d\\d[13579][26]|\\d\\d0[48]|[02468][048]00|[13579][26]00)-02-29|\\d{4}-(?:(?:0[13578]|1[02])-(?:0[1-9]|[12]\\d|3[01])|(?:0[469]|11)-(?:0[1-9]|[12]\\d|30)|(?:02)-(?:0[1-9]|1\\d|2[0-8])))",kM=new RegExp(`^${tk}$`);function nk(t){const e="(?:[01]\\d|2[0-3]):[0-5]\\d";return typeof t.precision=="number"?t.precision===-1?`${e}`:t.precision===0?`${e}:[0-5]\\d`:`${e}:[0-5]\\d\\.\\d{${t.precision}}`:`${e}(?::[0-5]\\d(?:\\.\\d+)?)?`}function SM(t){return new RegExp(`^${nk(t)}$`)}function xM(t){const e=nk({precision:t.precision}),n=["Z"];t.local&&n.push(""),t.offset&&n.push("([+-](?:[01]\\d|2[0-3]):[0-5]\\d)");const r=`${e}(?:${n.join("|")})`;return new RegExp(`^${tk}T(?:${r})$`)}const AM=t=>{const e=t?`[\\s\\S]{${(t==null?void 0:t.minimum)??0},${(t==null?void 0:t.maximum)??""}}`:"[\\s\\S]*";return new RegExp(`^${e}$`)},RM=/^-?\d+$/,CM=/^-?\d+(?:\.\d+)?/,PM=/^[^A-Z]*$/,NM=/^[^a-z]*$/,mr=te("$ZodCheck",(t,e)=>{var n;t._zod??(t._zod={}),t._zod.def=e,(n=t._zod).onattach??(n.onattach=[])}),rk={number:"number",bigint:"bigint",object:"date"},sk=te("$ZodCheckLessThan",(t,e)=>{mr.init(t,e);const n=rk[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,a=(e.inclusive?i.maximum:i.exclusiveMaximum)??Number.POSITIVE_INFINITY;e.value<a&&(e.inclusive?i.maximum=e.value:i.exclusiveMaximum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value<=e.value:r.value<e.value)||r.issues.push({origin:n,code:"too_big",maximum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),ik=te("$ZodCheckGreaterThan",(t,e)=>{mr.init(t,e);const n=rk[typeof e.value];t._zod.onattach.push(r=>{const i=r._zod.bag,a=(e.inclusive?i.minimum:i.exclusiveMinimum)??Number.NEGATIVE_INFINITY;e.value>a&&(e.inclusive?i.minimum=e.value:i.exclusiveMinimum=e.value)}),t._zod.check=r=>{(e.inclusive?r.value>=e.value:r.value>e.value)||r.issues.push({origin:n,code:"too_small",minimum:e.value,input:r.value,inclusive:e.inclusive,inst:t,continue:!e.abort})}}),OM=te("$ZodCheckMultipleOf",(t,e)=>{mr.init(t,e),t._zod.onattach.push(n=>{var r;(r=n._zod.bag).multipleOf??(r.multipleOf=e.value)}),t._zod.check=n=>{if(typeof n.value!=typeof e.value)throw new Error("Cannot mix number and bigint in multiple_of check.");(typeof n.value=="bigint"?n.value%e.value===BigInt(0):LV(n.value,e.value)===0)||n.issues.push({origin:typeof n.value,code:"not_multiple_of",divisor:e.value,input:n.value,inst:t,continue:!e.abort})}}),DM=te("$ZodCheckNumberFormat",(t,e)=>{var l;mr.init(t,e),e.format=e.format||"float64";const n=(l=e.format)==null?void 0:l.includes("int"),r=n?"int":"number",[i,a]=UV[e.format];t._zod.onattach.push(d=>{const f=d._zod.bag;f.format=e.format,f.minimum=i,f.maximum=a,n&&(f.pattern=RM)}),t._zod.check=d=>{const f=d.value;if(n){if(!Number.isInteger(f)){d.issues.push({expected:r,format:e.format,code:"invalid_type",continue:!1,input:f,inst:t});return}if(!Number.isSafeInteger(f)){f>0?d.issues.push({input:f,code:"too_big",maximum:Number.MAX_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort}):d.issues.push({input:f,code:"too_small",minimum:Number.MIN_SAFE_INTEGER,note:"Integers must be within the safe integer range.",inst:t,origin:r,continue:!e.abort});return}}f<i&&d.issues.push({origin:"number",input:f,code:"too_small",minimum:i,inclusive:!0,inst:t,continue:!e.abort}),f>a&&d.issues.push({origin:"number",input:f,code:"too_big",maximum:a,inst:t})}}),LM=te("$ZodCheckMaxLength",(t,e)=>{var n;mr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!gy(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.maximum??Number.POSITIVE_INFINITY;e.maximum<i&&(r._zod.bag.maximum=e.maximum)}),t._zod.check=r=>{const i=r.value;if(i.length<=e.maximum)return;const l=vy(i);r.issues.push({origin:l,code:"too_big",maximum:e.maximum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),VM=te("$ZodCheckMinLength",(t,e)=>{var n;mr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!gy(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag.minimum??Number.NEGATIVE_INFINITY;e.minimum>i&&(r._zod.bag.minimum=e.minimum)}),t._zod.check=r=>{const i=r.value;if(i.length>=e.minimum)return;const l=vy(i);r.issues.push({origin:l,code:"too_small",minimum:e.minimum,inclusive:!0,input:i,inst:t,continue:!e.abort})}}),MM=te("$ZodCheckLengthEquals",(t,e)=>{var n;mr.init(t,e),(n=t._zod.def).when??(n.when=r=>{const i=r.value;return!gy(i)&&i.length!==void 0}),t._zod.onattach.push(r=>{const i=r._zod.bag;i.minimum=e.length,i.maximum=e.length,i.length=e.length}),t._zod.check=r=>{const i=r.value,a=i.length;if(a===e.length)return;const l=vy(i),d=a>e.length;r.issues.push({origin:l,...d?{code:"too_big",maximum:e.length}:{code:"too_small",minimum:e.length},inclusive:!0,exact:!0,input:r.value,inst:t,continue:!e.abort})}}),lf=te("$ZodCheckStringFormat",(t,e)=>{var n,r;mr.init(t,e),t._zod.onattach.push(i=>{const a=i._zod.bag;a.format=e.format,e.pattern&&(a.patterns??(a.patterns=new Set),a.patterns.add(e.pattern))}),e.pattern?(n=t._zod).check??(n.check=i=>{e.pattern.lastIndex=0,!e.pattern.test(i.value)&&i.issues.push({origin:"string",code:"invalid_format",format:e.format,input:i.value,...e.pattern?{pattern:e.pattern.toString()}:{},inst:t,continue:!e.abort})}):(r=t._zod).check??(r.check=()=>{})}),jM=te("$ZodCheckRegex",(t,e)=>{lf.init(t,e),t._zod.check=n=>{e.pattern.lastIndex=0,!e.pattern.test(n.value)&&n.issues.push({origin:"string",code:"invalid_format",format:"regex",input:n.value,pattern:e.pattern.toString(),inst:t,continue:!e.abort})}}),FM=te("$ZodCheckLowerCase",(t,e)=>{e.pattern??(e.pattern=PM),lf.init(t,e)}),UM=te("$ZodCheckUpperCase",(t,e)=>{e.pattern??(e.pattern=NM),lf.init(t,e)}),zM=te("$ZodCheckIncludes",(t,e)=>{mr.init(t,e);const n=yl(e.includes),r=new RegExp(typeof e.position=="number"?`^.{${e.position}}${n}`:n);e.pattern=r,t._zod.onattach.push(i=>{const a=i._zod.bag;a.patterns??(a.patterns=new Set),a.patterns.add(r)}),t._zod.check=i=>{i.value.includes(e.includes,e.position)||i.issues.push({origin:"string",code:"invalid_format",format:"includes",includes:e.includes,input:i.value,inst:t,continue:!e.abort})}}),$M=te("$ZodCheckStartsWith",(t,e)=>{mr.init(t,e);const n=new RegExp(`^${yl(e.prefix)}.*`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.startsWith(e.prefix)||r.issues.push({origin:"string",code:"invalid_format",format:"starts_with",prefix:e.prefix,input:r.value,inst:t,continue:!e.abort})}}),BM=te("$ZodCheckEndsWith",(t,e)=>{mr.init(t,e);const n=new RegExp(`.*${yl(e.suffix)}$`);e.pattern??(e.pattern=n),t._zod.onattach.push(r=>{const i=r._zod.bag;i.patterns??(i.patterns=new Set),i.patterns.add(n)}),t._zod.check=r=>{r.value.endsWith(e.suffix)||r.issues.push({origin:"string",code:"invalid_format",format:"ends_with",suffix:e.suffix,input:r.value,inst:t,continue:!e.abort})}}),qM=te("$ZodCheckOverwrite",(t,e)=>{mr.init(t,e),t._zod.check=n=>{n.value=e.tx(n.value)}});class HM{constructor(e=[]){this.content=[],this.indent=0,this&&(this.args=e)}indented(e){this.indent+=1,e(this),this.indent-=1}write(e){if(typeof e=="function"){e(this,{execution:"sync"}),e(this,{execution:"async"});return}const r=e.split(`
`).filter(l=>l),i=Math.min(...r.map(l=>l.length-l.trimStart().length)),a=r.map(l=>l.slice(i)).map(l=>" ".repeat(this.indent*2)+l);for(const l of a)this.content.push(l)}compile(){const e=Function,n=this==null?void 0:this.args,i=[...((this==null?void 0:this.content)??[""]).map(a=>`  ${a}`)];return new e(...n,i.join(`
`))}}const WM={major:4,minor:2,patch:1},zt=te("$ZodType",(t,e)=>{var i;var n;t??(t={}),t._zod.def=e,t._zod.bag=t._zod.bag||{},t._zod.version=WM;const r=[...t._zod.def.checks??[]];t._zod.traits.has("$ZodCheck")&&r.unshift(t);for(const a of r)for(const l of a._zod.onattach)l(t);if(r.length===0)(n=t._zod).deferred??(n.deferred=[]),(i=t._zod.deferred)==null||i.push(()=>{t._zod.run=t._zod.parse});else{const a=(d,f,p)=>{let _=Ja(d),v;for(const E of f){if(E._zod.def.when){if(!E._zod.def.when(d))continue}else if(_)continue;const x=d.issues.length,A=E._zod.check(d);if(A instanceof Promise&&(p==null?void 0:p.async)===!1)throw new sl;if(v||A instanceof Promise)v=(v??Promise.resolve()).then(async()=>{await A,d.issues.length!==x&&(_||(_=Ja(d,x)))});else{if(d.issues.length===x)continue;_||(_=Ja(d,x))}}return v?v.then(()=>d):d},l=(d,f,p)=>{if(Ja(d))return d.aborted=!0,d;const _=a(f,r,p);if(_ instanceof Promise){if(p.async===!1)throw new sl;return _.then(v=>t._zod.parse(v,p))}return t._zod.parse(_,p)};t._zod.run=(d,f)=>{if(f.skipChecks)return t._zod.parse(d,f);if(f.direction==="backward"){const _=t._zod.parse({value:d.value,issues:[]},{...f,skipChecks:!0});return _ instanceof Promise?_.then(v=>l(v,d,f)):l(_,d,f)}const p=t._zod.parse(d,f);if(p instanceof Promise){if(f.async===!1)throw new sl;return p.then(_=>a(_,r,f))}return a(p,r,f)}}t["~standard"]={validate:a=>{var l;try{const d=JV(t,a);return d.success?{value:d.data}:{issues:(l=d.error)==null?void 0:l.issues}}catch{return XV(t,a).then(f=>{var p;return f.success?{value:f.data}:{issues:(p=f.error)==null?void 0:p.issues}})}},vendor:"zod",version:1}}),wy=te("$ZodString",(t,e)=>{var n;zt.init(t,e),t._zod.pattern=[...((n=t==null?void 0:t._zod.bag)==null?void 0:n.patterns)??[]].pop()??AM(t._zod.bag),t._zod.parse=(r,i)=>{if(e.coerce)try{r.value=String(r.value)}catch{}return typeof r.value=="string"||r.issues.push({expected:"string",code:"invalid_type",input:r.value,inst:t}),r}}),xt=te("$ZodStringFormat",(t,e)=>{lf.init(t,e),wy.init(t,e)}),KM=te("$ZodGUID",(t,e)=>{e.pattern??(e.pattern=mM),xt.init(t,e)}),GM=te("$ZodUUID",(t,e)=>{if(e.version){const r={v1:1,v2:2,v3:3,v4:4,v5:5,v6:6,v7:7,v8:8}[e.version];if(r===void 0)throw new Error(`Invalid UUID version: "${e.version}"`);e.pattern??(e.pattern=z0(r))}else e.pattern??(e.pattern=z0());xt.init(t,e)}),ZM=te("$ZodEmail",(t,e)=>{e.pattern??(e.pattern=gM),xt.init(t,e)}),QM=te("$ZodURL",(t,e)=>{xt.init(t,e),t._zod.check=n=>{try{const r=n.value.trim(),i=new URL(r);e.hostname&&(e.hostname.lastIndex=0,e.hostname.test(i.hostname)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid hostname",pattern:e.hostname.source,input:n.value,inst:t,continue:!e.abort})),e.protocol&&(e.protocol.lastIndex=0,e.protocol.test(i.protocol.endsWith(":")?i.protocol.slice(0,-1):i.protocol)||n.issues.push({code:"invalid_format",format:"url",note:"Invalid protocol",pattern:e.protocol.source,input:n.value,inst:t,continue:!e.abort})),e.normalize?n.value=i.href:n.value=r;return}catch{n.issues.push({code:"invalid_format",format:"url",input:n.value,inst:t,continue:!e.abort})}}}),YM=te("$ZodEmoji",(t,e)=>{e.pattern??(e.pattern=vM()),xt.init(t,e)}),JM=te("$ZodNanoID",(t,e)=>{e.pattern??(e.pattern=fM),xt.init(t,e)}),XM=te("$ZodCUID",(t,e)=>{e.pattern??(e.pattern=lM),xt.init(t,e)}),e4=te("$ZodCUID2",(t,e)=>{e.pattern??(e.pattern=uM),xt.init(t,e)}),t4=te("$ZodULID",(t,e)=>{e.pattern??(e.pattern=cM),xt.init(t,e)}),n4=te("$ZodXID",(t,e)=>{e.pattern??(e.pattern=dM),xt.init(t,e)}),r4=te("$ZodKSUID",(t,e)=>{e.pattern??(e.pattern=hM),xt.init(t,e)}),s4=te("$ZodISODateTime",(t,e)=>{e.pattern??(e.pattern=xM(e)),xt.init(t,e)}),i4=te("$ZodISODate",(t,e)=>{e.pattern??(e.pattern=kM),xt.init(t,e)}),o4=te("$ZodISOTime",(t,e)=>{e.pattern??(e.pattern=SM(e)),xt.init(t,e)}),a4=te("$ZodISODuration",(t,e)=>{e.pattern??(e.pattern=pM),xt.init(t,e)}),l4=te("$ZodIPv4",(t,e)=>{e.pattern??(e.pattern=_M),xt.init(t,e),t._zod.bag.format="ipv4"}),u4=te("$ZodIPv6",(t,e)=>{e.pattern??(e.pattern=wM),xt.init(t,e),t._zod.bag.format="ipv6",t._zod.check=n=>{try{new URL(`http://[${n.value}]`)}catch{n.issues.push({code:"invalid_format",format:"ipv6",input:n.value,inst:t,continue:!e.abort})}}}),c4=te("$ZodCIDRv4",(t,e)=>{e.pattern??(e.pattern=EM),xt.init(t,e)}),d4=te("$ZodCIDRv6",(t,e)=>{e.pattern??(e.pattern=TM),xt.init(t,e),t._zod.check=n=>{const r=n.value.split("/");try{if(r.length!==2)throw new Error;const[i,a]=r;if(!a)throw new Error;const l=Number(a);if(`${l}`!==a)throw new Error;if(l<0||l>128)throw new Error;new URL(`http://[${i}]`)}catch{n.issues.push({code:"invalid_format",format:"cidrv6",input:n.value,inst:t,continue:!e.abort})}}});function ok(t){if(t==="")return!0;if(t.length%4!==0)return!1;try{return atob(t),!0}catch{return!1}}const h4=te("$ZodBase64",(t,e)=>{e.pattern??(e.pattern=IM),xt.init(t,e),t._zod.bag.contentEncoding="base64",t._zod.check=n=>{ok(n.value)||n.issues.push({code:"invalid_format",format:"base64",input:n.value,inst:t,continue:!e.abort})}});function f4(t){if(!ek.test(t))return!1;const e=t.replace(/[-_]/g,r=>r==="-"?"+":"/"),n=e.padEnd(Math.ceil(e.length/4)*4,"=");return ok(n)}const p4=te("$ZodBase64URL",(t,e)=>{e.pattern??(e.pattern=ek),xt.init(t,e),t._zod.bag.contentEncoding="base64url",t._zod.check=n=>{f4(n.value)||n.issues.push({code:"invalid_format",format:"base64url",input:n.value,inst:t,continue:!e.abort})}}),m4=te("$ZodE164",(t,e)=>{e.pattern??(e.pattern=bM),xt.init(t,e)});function g4(t,e=null){try{const n=t.split(".");if(n.length!==3)return!1;const[r]=n;if(!r)return!1;const i=JSON.parse(atob(r));return!("typ"in i&&(i==null?void 0:i.typ)!=="JWT"||!i.alg||e&&(!("alg"in i)||i.alg!==e))}catch{return!1}}const y4=te("$ZodJWT",(t,e)=>{xt.init(t,e),t._zod.check=n=>{g4(n.value,e.alg)||n.issues.push({code:"invalid_format",format:"jwt",input:n.value,inst:t,continue:!e.abort})}}),ak=te("$ZodNumber",(t,e)=>{zt.init(t,e),t._zod.pattern=t._zod.bag.pattern??CM,t._zod.parse=(n,r)=>{if(e.coerce)try{n.value=Number(n.value)}catch{}const i=n.value;if(typeof i=="number"&&!Number.isNaN(i)&&Number.isFinite(i))return n;const a=typeof i=="number"?Number.isNaN(i)?"NaN":Number.isFinite(i)?void 0:"Infinity":void 0;return n.issues.push({expected:"number",code:"invalid_type",input:i,inst:t,...a?{received:a}:{}}),n}}),v4=te("$ZodNumberFormat",(t,e)=>{DM.init(t,e),ak.init(t,e)}),_4=te("$ZodUnknown",(t,e)=>{zt.init(t,e),t._zod.parse=n=>n}),w4=te("$ZodNever",(t,e)=>{zt.init(t,e),t._zod.parse=(n,r)=>(n.issues.push({expected:"never",code:"invalid_type",input:n.value,inst:t}),n)});function $0(t,e,n){t.issues.length&&e.issues.push(...Jb(n,t.issues)),e.value[n]=t.value}const E4=te("$ZodArray",(t,e)=>{zt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value;if(!Array.isArray(i))return n.issues.push({expected:"array",code:"invalid_type",input:i,inst:t}),n;n.value=Array(i.length);const a=[];for(let l=0;l<i.length;l++){const d=i[l],f=e.element._zod.run({value:d,issues:[]},r);f instanceof Promise?a.push(f.then(p=>$0(p,n,l))):$0(f,n,l)}return a.length?Promise.all(a).then(()=>n):n}});function _h(t,e,n,r){t.issues.length&&e.issues.push(...Jb(n,t.issues)),t.value===void 0?n in r&&(e.value[n]=void 0):e.value[n]=t.value}function lk(t){var r,i,a,l;const e=Object.keys(t.shape);for(const d of e)if(!((l=(a=(i=(r=t.shape)==null?void 0:r[d])==null?void 0:i._zod)==null?void 0:a.traits)!=null&&l.has("$ZodType")))throw new Error(`Invalid element at key "${d}": expected a Zod schema`);const n=FV(t.shape);return{...t,keys:e,keySet:new Set(e),numKeys:e.length,optionalKeys:new Set(n)}}function uk(t,e,n,r,i,a){const l=[],d=i.keySet,f=i.catchall._zod,p=f.def.type;for(const _ in e){if(d.has(_))continue;if(p==="never"){l.push(_);continue}const v=f.run({value:e[_],issues:[]},r);v instanceof Promise?t.push(v.then(E=>_h(E,n,_,e))):_h(v,n,_,e)}return l.length&&n.issues.push({code:"unrecognized_keys",keys:l,input:e,inst:a}),t.length?Promise.all(t).then(()=>n):n}const T4=te("$ZodObject",(t,e)=>{zt.init(t,e);const n=Object.getOwnPropertyDescriptor(e,"shape");if(!(n!=null&&n.get)){const d=e.shape;Object.defineProperty(e,"shape",{get:()=>{const f={...d};return Object.defineProperty(e,"shape",{value:f}),f}})}const r=my(()=>lk(e));vt(t._zod,"propValues",()=>{const d=e.shape,f={};for(const p in d){const _=d[p]._zod;if(_.values){f[p]??(f[p]=new Set);for(const v of _.values)f[p].add(v)}}return f});const i=vh,a=e.catchall;let l;t._zod.parse=(d,f)=>{l??(l=r.value);const p=d.value;if(!i(p))return d.issues.push({expected:"object",code:"invalid_type",input:p,inst:t}),d;d.value={};const _=[],v=l.shape;for(const E of l.keys){const A=v[E]._zod.run({value:p[E],issues:[]},f);A instanceof Promise?_.push(A.then(j=>_h(j,d,E,p))):_h(A,d,E,p)}return a?uk(_,p,d,f,r.value,t):_.length?Promise.all(_).then(()=>d):d}}),I4=te("$ZodObjectJIT",(t,e)=>{T4.init(t,e);const n=t._zod.parse,r=my(()=>lk(e)),i=E=>{const x=new HM(["shape","payload","ctx"]),A=r.value,j=ee=>{const J=U0(ee);return`shape[${J}]._zod.run({ value: input[${J}], issues: [] }, ctx)`};x.write("const input = payload.value;");const R=Object.create(null);let K=0;for(const ee of A.keys)R[ee]=`key_${K++}`;x.write("const newResult = {};");for(const ee of A.keys){const J=R[ee],ce=U0(ee);x.write(`const ${J} = ${j(ee)};`),x.write(`
        if (${J}.issues.length) {
          payload.issues = payload.issues.concat(${J}.issues.map(iss => ({
            ...iss,
            path: iss.path ? [${ce}, ...iss.path] : [${ce}]
          })));
        }
        
        
        if (${J}.value === undefined) {
          if (${ce} in input) {
            newResult[${ce}] = undefined;
          }
        } else {
          newResult[${ce}] = ${J}.value;
        }
        
      `)}x.write("payload.value = newResult;"),x.write("return payload;");const $=x.compile();return(ee,J)=>$(E,ee,J)};let a;const l=vh,d=!Gb.jitless,p=d&&MV.value,_=e.catchall;let v;t._zod.parse=(E,x)=>{v??(v=r.value);const A=E.value;return l(A)?d&&p&&(x==null?void 0:x.async)===!1&&x.jitless!==!0?(a||(a=i(e.shape)),E=a(E,x),_?uk([],A,E,x,v,t):E):n(E,x):(E.issues.push({expected:"object",code:"invalid_type",input:A,inst:t}),E)}});function B0(t,e,n,r){for(const a of t)if(a.issues.length===0)return e.value=a.value,e;const i=t.filter(a=>!Ja(a));return i.length===1?(e.value=i[0].value,i[0]):(e.issues.push({code:"invalid_union",input:e.value,inst:n,errors:t.map(a=>a.issues.map(l=>Xo(l,r,Jo())))}),e)}const b4=te("$ZodUnion",(t,e)=>{zt.init(t,e),vt(t._zod,"optin",()=>e.options.some(i=>i._zod.optin==="optional")?"optional":void 0),vt(t._zod,"optout",()=>e.options.some(i=>i._zod.optout==="optional")?"optional":void 0),vt(t._zod,"values",()=>{if(e.options.every(i=>i._zod.values))return new Set(e.options.flatMap(i=>Array.from(i._zod.values)))}),vt(t._zod,"pattern",()=>{if(e.options.every(i=>i._zod.pattern)){const i=e.options.map(a=>a._zod.pattern);return new RegExp(`^(${i.map(a=>yy(a.source)).join("|")})$`)}});const n=e.options.length===1,r=e.options[0]._zod.run;t._zod.parse=(i,a)=>{if(n)return r(i,a);let l=!1;const d=[];for(const f of e.options){const p=f._zod.run({value:i.value,issues:[]},a);if(p instanceof Promise)d.push(p),l=!0;else{if(p.issues.length===0)return p;d.push(p)}}return l?Promise.all(d).then(f=>B0(f,i,t,a)):B0(d,i,t,a)}}),k4=te("$ZodIntersection",(t,e)=>{zt.init(t,e),t._zod.parse=(n,r)=>{const i=n.value,a=e.left._zod.run({value:i,issues:[]},r),l=e.right._zod.run({value:i,issues:[]},r);return a instanceof Promise||l instanceof Promise?Promise.all([a,l]).then(([f,p])=>q0(n,f,p)):q0(n,a,l)}});function Xm(t,e){if(t===e)return{valid:!0,data:t};if(t instanceof Date&&e instanceof Date&&+t==+e)return{valid:!0,data:t};if(Zu(t)&&Zu(e)){const n=Object.keys(e),r=Object.keys(t).filter(a=>n.indexOf(a)!==-1),i={...t,...e};for(const a of r){const l=Xm(t[a],e[a]);if(!l.valid)return{valid:!1,mergeErrorPath:[a,...l.mergeErrorPath]};i[a]=l.data}return{valid:!0,data:i}}if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return{valid:!1,mergeErrorPath:[]};const n=[];for(let r=0;r<t.length;r++){const i=t[r],a=e[r],l=Xm(i,a);if(!l.valid)return{valid:!1,mergeErrorPath:[r,...l.mergeErrorPath]};n.push(l.data)}return{valid:!0,data:n}}return{valid:!1,mergeErrorPath:[]}}function q0(t,e,n){if(e.issues.length&&t.issues.push(...e.issues),n.issues.length&&t.issues.push(...n.issues),Ja(t))return t;const r=Xm(e.value,n.value);if(!r.valid)throw new Error(`Unmergable intersection. Error path: ${JSON.stringify(r.mergeErrorPath)}`);return t.value=r.data,t}const S4=te("$ZodEnum",(t,e)=>{zt.init(t,e);const n=Zb(e.entries),r=new Set(n);t._zod.values=r,t._zod.pattern=new RegExp(`^(${n.filter(i=>jV.has(typeof i)).map(i=>typeof i=="string"?yl(i):i.toString()).join("|")})$`),t._zod.parse=(i,a)=>{const l=i.value;return r.has(l)||i.issues.push({code:"invalid_value",values:n,input:l,inst:t}),i}}),x4=te("$ZodLiteral",(t,e)=>{if(zt.init(t,e),e.values.length===0)throw new Error("Cannot create literal schema with no valid values");const n=new Set(e.values);t._zod.values=n,t._zod.pattern=new RegExp(`^(${e.values.map(r=>typeof r=="string"?yl(r):r?yl(r.toString()):String(r)).join("|")})$`),t._zod.parse=(r,i)=>{const a=r.value;return n.has(a)||r.issues.push({code:"invalid_value",values:e.values,input:a,inst:t}),r}}),A4=te("$ZodTransform",(t,e)=>{zt.init(t,e),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Kb(t.constructor.name);const i=e.transform(n.value,n);if(r.async)return(i instanceof Promise?i:Promise.resolve(i)).then(l=>(n.value=l,n));if(i instanceof Promise)throw new sl;return n.value=i,n}});function H0(t,e){return t.issues.length&&e===void 0?{issues:[],value:void 0}:t}const R4=te("$ZodOptional",(t,e)=>{zt.init(t,e),t._zod.optin="optional",t._zod.optout="optional",vt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,void 0]):void 0),vt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${yy(n.source)})?$`):void 0}),t._zod.parse=(n,r)=>{if(e.innerType._zod.optin==="optional"){const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>H0(a,n.value)):H0(i,n.value)}return n.value===void 0?n:e.innerType._zod.run(n,r)}}),C4=te("$ZodNullable",(t,e)=>{zt.init(t,e),vt(t._zod,"optin",()=>e.innerType._zod.optin),vt(t._zod,"optout",()=>e.innerType._zod.optout),vt(t._zod,"pattern",()=>{const n=e.innerType._zod.pattern;return n?new RegExp(`^(${yy(n.source)}|null)$`):void 0}),vt(t._zod,"values",()=>e.innerType._zod.values?new Set([...e.innerType._zod.values,null]):void 0),t._zod.parse=(n,r)=>n.value===null?n:e.innerType._zod.run(n,r)}),P4=te("$ZodDefault",(t,e)=>{zt.init(t,e),t._zod.optin="optional",vt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);if(n.value===void 0)return n.value=e.defaultValue,n;const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>W0(a,e)):W0(i,e)}});function W0(t,e){return t.value===void 0&&(t.value=e.defaultValue),t}const N4=te("$ZodPrefault",(t,e)=>{zt.init(t,e),t._zod.optin="optional",vt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>(r.direction==="backward"||n.value===void 0&&(n.value=e.defaultValue),e.innerType._zod.run(n,r))}),O4=te("$ZodNonOptional",(t,e)=>{zt.init(t,e),vt(t._zod,"values",()=>{const n=e.innerType._zod.values;return n?new Set([...n].filter(r=>r!==void 0)):void 0}),t._zod.parse=(n,r)=>{const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>K0(a,t)):K0(i,t)}});function K0(t,e){return!t.issues.length&&t.value===void 0&&t.issues.push({code:"invalid_type",expected:"nonoptional",input:t.value,inst:e}),t}const D4=te("$ZodCatch",(t,e)=>{zt.init(t,e),vt(t._zod,"optin",()=>e.innerType._zod.optin),vt(t._zod,"optout",()=>e.innerType._zod.optout),vt(t._zod,"values",()=>e.innerType._zod.values),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(a=>(n.value=a.value,a.issues.length&&(n.value=e.catchValue({...n,error:{issues:a.issues.map(l=>Xo(l,r,Jo()))},input:n.value}),n.issues=[]),n)):(n.value=i.value,i.issues.length&&(n.value=e.catchValue({...n,error:{issues:i.issues.map(a=>Xo(a,r,Jo()))},input:n.value}),n.issues=[]),n)}}),L4=te("$ZodPipe",(t,e)=>{zt.init(t,e),vt(t._zod,"values",()=>e.in._zod.values),vt(t._zod,"optin",()=>e.in._zod.optin),vt(t._zod,"optout",()=>e.out._zod.optout),vt(t._zod,"propValues",()=>e.in._zod.propValues),t._zod.parse=(n,r)=>{if(r.direction==="backward"){const a=e.out._zod.run(n,r);return a instanceof Promise?a.then(l=>Fd(l,e.in,r)):Fd(a,e.in,r)}const i=e.in._zod.run(n,r);return i instanceof Promise?i.then(a=>Fd(a,e.out,r)):Fd(i,e.out,r)}});function Fd(t,e,n){return t.issues.length?(t.aborted=!0,t):e._zod.run({value:t.value,issues:t.issues},n)}const V4=te("$ZodReadonly",(t,e)=>{zt.init(t,e),vt(t._zod,"propValues",()=>e.innerType._zod.propValues),vt(t._zod,"values",()=>e.innerType._zod.values),vt(t._zod,"optin",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optin}),vt(t._zod,"optout",()=>{var n,r;return(r=(n=e.innerType)==null?void 0:n._zod)==null?void 0:r.optout}),t._zod.parse=(n,r)=>{if(r.direction==="backward")return e.innerType._zod.run(n,r);const i=e.innerType._zod.run(n,r);return i instanceof Promise?i.then(G0):G0(i)}});function G0(t){return t.value=Object.freeze(t.value),t}const M4=te("$ZodCustom",(t,e)=>{mr.init(t,e),zt.init(t,e),t._zod.parse=(n,r)=>n,t._zod.check=n=>{const r=n.value,i=e.fn(r);if(i instanceof Promise)return i.then(a=>Z0(a,n,r,t));Z0(i,n,r,t)}});function Z0(t,e,n,r){if(!t){const i={code:"custom",input:n,inst:r,path:[...r._zod.def.path??[]],continue:!r._zod.def.abort};r._zod.def.params&&(i.params=r._zod.def.params),e.issues.push(Qu(i))}}var Q0;class j4{constructor(){this._map=new WeakMap,this._idmap=new Map}add(e,...n){const r=n[0];if(this._map.set(e,r),r&&typeof r=="object"&&"id"in r){if(this._idmap.has(r.id))throw new Error(`ID ${r.id} already exists in the registry`);this._idmap.set(r.id,e)}return this}clear(){return this._map=new WeakMap,this._idmap=new Map,this}remove(e){const n=this._map.get(e);return n&&typeof n=="object"&&"id"in n&&this._idmap.delete(n.id),this._map.delete(e),this}get(e){const n=e._zod.parent;if(n){const r={...this.get(n)??{}};delete r.id;const i={...r,...this._map.get(e)};return Object.keys(i).length?i:void 0}return this._map.get(e)}has(e){return this._map.has(e)}}function F4(){return new j4}(Q0=globalThis).__zod_globalRegistry??(Q0.__zod_globalRegistry=F4());const Su=globalThis.__zod_globalRegistry;function U4(t,e){return new t({type:"string",...Ve(e)})}function z4(t,e){return new t({type:"string",format:"email",check:"string_format",abort:!1,...Ve(e)})}function Y0(t,e){return new t({type:"string",format:"guid",check:"string_format",abort:!1,...Ve(e)})}function $4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,...Ve(e)})}function B4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v4",...Ve(e)})}function q4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v6",...Ve(e)})}function H4(t,e){return new t({type:"string",format:"uuid",check:"string_format",abort:!1,version:"v7",...Ve(e)})}function W4(t,e){return new t({type:"string",format:"url",check:"string_format",abort:!1,...Ve(e)})}function K4(t,e){return new t({type:"string",format:"emoji",check:"string_format",abort:!1,...Ve(e)})}function G4(t,e){return new t({type:"string",format:"nanoid",check:"string_format",abort:!1,...Ve(e)})}function Z4(t,e){return new t({type:"string",format:"cuid",check:"string_format",abort:!1,...Ve(e)})}function Q4(t,e){return new t({type:"string",format:"cuid2",check:"string_format",abort:!1,...Ve(e)})}function Y4(t,e){return new t({type:"string",format:"ulid",check:"string_format",abort:!1,...Ve(e)})}function J4(t,e){return new t({type:"string",format:"xid",check:"string_format",abort:!1,...Ve(e)})}function X4(t,e){return new t({type:"string",format:"ksuid",check:"string_format",abort:!1,...Ve(e)})}function ej(t,e){return new t({type:"string",format:"ipv4",check:"string_format",abort:!1,...Ve(e)})}function tj(t,e){return new t({type:"string",format:"ipv6",check:"string_format",abort:!1,...Ve(e)})}function nj(t,e){return new t({type:"string",format:"cidrv4",check:"string_format",abort:!1,...Ve(e)})}function rj(t,e){return new t({type:"string",format:"cidrv6",check:"string_format",abort:!1,...Ve(e)})}function sj(t,e){return new t({type:"string",format:"base64",check:"string_format",abort:!1,...Ve(e)})}function ij(t,e){return new t({type:"string",format:"base64url",check:"string_format",abort:!1,...Ve(e)})}function oj(t,e){return new t({type:"string",format:"e164",check:"string_format",abort:!1,...Ve(e)})}function aj(t,e){return new t({type:"string",format:"jwt",check:"string_format",abort:!1,...Ve(e)})}function lj(t,e){return new t({type:"string",format:"datetime",check:"string_format",offset:!1,local:!1,precision:null,...Ve(e)})}function uj(t,e){return new t({type:"string",format:"date",check:"string_format",...Ve(e)})}function cj(t,e){return new t({type:"string",format:"time",check:"string_format",precision:null,...Ve(e)})}function dj(t,e){return new t({type:"string",format:"duration",check:"string_format",...Ve(e)})}function hj(t,e){return new t({type:"number",checks:[],...Ve(e)})}function fj(t,e){return new t({type:"number",coerce:!0,checks:[],...Ve(e)})}function pj(t,e){return new t({type:"number",check:"number_format",abort:!1,format:"safeint",...Ve(e)})}function mj(t){return new t({type:"unknown"})}function gj(t,e){return new t({type:"never",...Ve(e)})}function J0(t,e){return new sk({check:"less_than",...Ve(e),value:t,inclusive:!1})}function sm(t,e){return new sk({check:"less_than",...Ve(e),value:t,inclusive:!0})}function X0(t,e){return new ik({check:"greater_than",...Ve(e),value:t,inclusive:!1})}function im(t,e){return new ik({check:"greater_than",...Ve(e),value:t,inclusive:!0})}function eE(t,e){return new OM({check:"multiple_of",...Ve(e),value:t})}function ck(t,e){return new LM({check:"max_length",...Ve(e),maximum:t})}function wh(t,e){return new VM({check:"min_length",...Ve(e),minimum:t})}function dk(t,e){return new MM({check:"length_equals",...Ve(e),length:t})}function yj(t,e){return new jM({check:"string_format",format:"regex",...Ve(e),pattern:t})}function vj(t){return new FM({check:"string_format",format:"lowercase",...Ve(t)})}function _j(t){return new UM({check:"string_format",format:"uppercase",...Ve(t)})}function wj(t,e){return new zM({check:"string_format",format:"includes",...Ve(e),includes:t})}function Ej(t,e){return new $M({check:"string_format",format:"starts_with",...Ve(e),prefix:t})}function Tj(t,e){return new BM({check:"string_format",format:"ends_with",...Ve(e),suffix:t})}function Cl(t){return new qM({check:"overwrite",tx:t})}function Ij(t){return Cl(e=>e.normalize(t))}function bj(){return Cl(t=>t.trim())}function kj(){return Cl(t=>t.toLowerCase())}function Sj(){return Cl(t=>t.toUpperCase())}function xj(){return Cl(t=>VV(t))}function Aj(t,e,n){return new t({type:"array",element:e,...Ve(n)})}function Rj(t,e,n){return new t({type:"custom",check:"custom",fn:e,...Ve(n)})}function Cj(t){const e=Pj(n=>(n.addIssue=r=>{if(typeof r=="string")n.issues.push(Qu(r,n.value,e._zod.def));else{const i=r;i.fatal&&(i.continue=!1),i.code??(i.code="custom"),i.input??(i.input=n.value),i.inst??(i.inst=e),i.continue??(i.continue=!e._zod.def.abort),n.issues.push(Qu(i))}},t(n.value,n)));return e}function Pj(t,e){const n=new mr({check:"custom",...Ve(e)});return n._zod.check=t,n}function hk(t){let e=(t==null?void 0:t.target)??"draft-2020-12";return e==="draft-4"&&(e="draft-04"),e==="draft-7"&&(e="draft-07"),{processors:t.processors??{},metadataRegistry:(t==null?void 0:t.metadata)??Su,target:e,unrepresentable:(t==null?void 0:t.unrepresentable)??"throw",override:(t==null?void 0:t.override)??(()=>{}),io:(t==null?void 0:t.io)??"output",counter:0,seen:new Map,cycles:(t==null?void 0:t.cycles)??"ref",reused:(t==null?void 0:t.reused)??"inline",external:(t==null?void 0:t.external)??void 0}}function Tn(t,e,n={path:[],schemaPath:[]}){var _,v;var r;const i=t._zod.def,a=e.seen.get(t);if(a)return a.count++,n.schemaPath.includes(t)&&(a.cycle=n.path),a.schema;const l={schema:{},count:1,cycle:void 0,path:n.path};e.seen.set(t,l);const d=(v=(_=t._zod).toJSONSchema)==null?void 0:v.call(_);if(d)l.schema=d;else{const E={...n,schemaPath:[...n.schemaPath,t],path:n.path},x=t._zod.parent;if(x)l.ref=x,Tn(x,e,E),e.seen.get(x).isParent=!0;else if(t._zod.processJSONSchema)t._zod.processJSONSchema(e,l.schema,E);else{const A=l.schema,j=e.processors[i.type];if(!j)throw new Error(`[toJSONSchema]: Non-representable type encountered: ${i.type}`);j(t,e,A,E)}}const f=e.metadataRegistry.get(t);return f&&Object.assign(l.schema,f),e.io==="input"&&Wn(t)&&(delete l.schema.examples,delete l.schema.default),e.io==="input"&&l.schema._prefault&&((r=l.schema).default??(r.default=l.schema._prefault)),delete l.schema._prefault,e.seen.get(t).schema}function fk(t,e){var a,l,d;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=f=>{var x;const p=t.target==="draft-2020-12"?"$defs":"definitions";if(t.external){const A=(x=t.external.registry.get(f[0]))==null?void 0:x.id,j=t.external.uri??(K=>K);if(A)return{ref:j(A)};const R=f[1].defId??f[1].schema.id??`schema${t.counter++}`;return f[1].defId=R,{defId:R,ref:`${j("__shared")}#/${p}/${R}`}}if(f[1]===n)return{ref:"#"};const v=`#/${p}/`,E=f[1].schema.id??`__schema${t.counter++}`;return{defId:E,ref:v+E}},i=f=>{if(f[1].schema.$ref)return;const p=f[1],{ref:_,defId:v}=r(f);p.def={...p.schema},v&&(p.defId=v);const E=p.schema;for(const x in E)delete E[x];E.$ref=_};if(t.cycles==="throw")for(const f of t.seen.entries()){const p=f[1];if(p.cycle)throw new Error(`Cycle detected: #/${(a=p.cycle)==null?void 0:a.join("/")}/<root>

Set the \`cycles\` parameter to \`"ref"\` to resolve cyclical schemas with defs.`)}for(const f of t.seen.entries()){const p=f[1];if(e===f[0]){i(f);continue}if(t.external){const v=(l=t.external.registry.get(f[0]))==null?void 0:l.id;if(e!==f[0]&&v){i(f);continue}}if((d=t.metadataRegistry.get(f[0]))==null?void 0:d.id){i(f);continue}if(p.cycle){i(f);continue}if(p.count>1&&t.reused==="ref"){i(f);continue}}}function pk(t,e){var l,d,f;const n=t.seen.get(e);if(!n)throw new Error("Unprocessed schema. This is a bug in Zod.");const r=p=>{const _=t.seen.get(p),v=_.def??_.schema,E={...v};if(_.ref===null)return;const x=_.ref;if(_.ref=null,x){r(x);const A=t.seen.get(x).schema;A.$ref&&(t.target==="draft-07"||t.target==="draft-04"||t.target==="openapi-3.0")?(v.allOf=v.allOf??[],v.allOf.push(A)):(Object.assign(v,A),Object.assign(v,E))}_.isParent||t.override({zodSchema:p,jsonSchema:v,path:_.path??[]})};for(const p of[...t.seen.entries()].reverse())r(p[0]);const i={};if(t.target==="draft-2020-12"?i.$schema="https://json-schema.org/draft/2020-12/schema":t.target==="draft-07"?i.$schema="http://json-schema.org/draft-07/schema#":t.target==="draft-04"?i.$schema="http://json-schema.org/draft-04/schema#":t.target,(l=t.external)!=null&&l.uri){const p=(d=t.external.registry.get(e))==null?void 0:d.id;if(!p)throw new Error("Schema is missing an `id` property");i.$id=t.external.uri(p)}Object.assign(i,n.def??n.schema);const a=((f=t.external)==null?void 0:f.defs)??{};for(const p of t.seen.entries()){const _=p[1];_.def&&_.defId&&(a[_.defId]=_.def)}t.external||Object.keys(a).length>0&&(t.target==="draft-2020-12"?i.$defs=a:i.definitions=a);try{const p=JSON.parse(JSON.stringify(i));return Object.defineProperty(p,"~standard",{value:{...e["~standard"],jsonSchema:{input:Eh(e,"input"),output:Eh(e,"output")}},enumerable:!1,writable:!1}),p}catch{throw new Error("Error converting schema to JSON.")}}function Wn(t,e){const n=e??{seen:new Set};if(n.seen.has(t))return!1;n.seen.add(t);const r=t._zod.def;if(r.type==="transform")return!0;if(r.type==="array")return Wn(r.element,n);if(r.type==="set")return Wn(r.valueType,n);if(r.type==="lazy")return Wn(r.getter(),n);if(r.type==="promise"||r.type==="optional"||r.type==="nonoptional"||r.type==="nullable"||r.type==="readonly"||r.type==="default"||r.type==="prefault")return Wn(r.innerType,n);if(r.type==="intersection")return Wn(r.left,n)||Wn(r.right,n);if(r.type==="record"||r.type==="map")return Wn(r.keyType,n)||Wn(r.valueType,n);if(r.type==="pipe")return Wn(r.in,n)||Wn(r.out,n);if(r.type==="object"){for(const i in r.shape)if(Wn(r.shape[i],n))return!0;return!1}if(r.type==="union"){for(const i of r.options)if(Wn(i,n))return!0;return!1}if(r.type==="tuple"){for(const i of r.items)if(Wn(i,n))return!0;return!!(r.rest&&Wn(r.rest,n))}return!1}const Nj=(t,e={})=>n=>{const r=hk({...n,processors:e});return Tn(t,r),fk(r,t),pk(r,t)},Eh=(t,e)=>n=>{const{libraryOptions:r,target:i}=n??{},a=hk({...r??{},target:i,io:e,processors:{}});return Tn(t,a),fk(a,t),pk(a,t)},Oj={guid:"uuid",url:"uri",datetime:"date-time",json_string:"json-string",regex:""},Dj=(t,e,n,r)=>{const i=n;i.type="string";const{minimum:a,maximum:l,format:d,patterns:f,contentEncoding:p}=t._zod.bag;if(typeof a=="number"&&(i.minLength=a),typeof l=="number"&&(i.maxLength=l),d&&(i.format=Oj[d]??d,i.format===""&&delete i.format),p&&(i.contentEncoding=p),f&&f.size>0){const _=[...f];_.length===1?i.pattern=_[0].source:_.length>1&&(i.allOf=[..._.map(v=>({...e.target==="draft-07"||e.target==="draft-04"||e.target==="openapi-3.0"?{type:"string"}:{},pattern:v.source}))])}},Lj=(t,e,n,r)=>{const i=n,{minimum:a,maximum:l,format:d,multipleOf:f,exclusiveMaximum:p,exclusiveMinimum:_}=t._zod.bag;typeof d=="string"&&d.includes("int")?i.type="integer":i.type="number",typeof _=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.minimum=_,i.exclusiveMinimum=!0):i.exclusiveMinimum=_),typeof a=="number"&&(i.minimum=a,typeof _=="number"&&e.target!=="draft-04"&&(_>=a?delete i.minimum:delete i.exclusiveMinimum)),typeof p=="number"&&(e.target==="draft-04"||e.target==="openapi-3.0"?(i.maximum=p,i.exclusiveMaximum=!0):i.exclusiveMaximum=p),typeof l=="number"&&(i.maximum=l,typeof p=="number"&&e.target!=="draft-04"&&(p<=l?delete i.maximum:delete i.exclusiveMaximum)),typeof f=="number"&&(i.multipleOf=f)},Vj=(t,e,n,r)=>{n.not={}},Mj=(t,e,n,r)=>{},jj=(t,e,n,r)=>{const i=t._zod.def,a=Zb(i.entries);a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),n.enum=a},Fj=(t,e,n,r)=>{const i=t._zod.def,a=[];for(const l of i.values)if(l===void 0){if(e.unrepresentable==="throw")throw new Error("Literal `undefined` cannot be represented in JSON Schema")}else if(typeof l=="bigint"){if(e.unrepresentable==="throw")throw new Error("BigInt literals cannot be represented in JSON Schema");a.push(Number(l))}else a.push(l);if(a.length!==0)if(a.length===1){const l=a[0];n.type=l===null?"null":typeof l,e.target==="draft-04"||e.target==="openapi-3.0"?n.enum=[l]:n.const=l}else a.every(l=>typeof l=="number")&&(n.type="number"),a.every(l=>typeof l=="string")&&(n.type="string"),a.every(l=>typeof l=="boolean")&&(n.type="boolean"),a.every(l=>l===null)&&(n.type="null"),n.enum=a},Uj=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Custom types cannot be represented in JSON Schema")},zj=(t,e,n,r)=>{if(e.unrepresentable==="throw")throw new Error("Transforms cannot be represented in JSON Schema")},$j=(t,e,n,r)=>{const i=n,a=t._zod.def,{minimum:l,maximum:d}=t._zod.bag;typeof l=="number"&&(i.minItems=l),typeof d=="number"&&(i.maxItems=d),i.type="array",i.items=Tn(a.element,e,{...r,path:[...r.path,"items"]})},Bj=(t,e,n,r)=>{var p;const i=n,a=t._zod.def;i.type="object",i.properties={};const l=a.shape;for(const _ in l)i.properties[_]=Tn(l[_],e,{...r,path:[...r.path,"properties",_]});const d=new Set(Object.keys(l)),f=new Set([...d].filter(_=>{const v=a.shape[_]._zod;return e.io==="input"?v.optin===void 0:v.optout===void 0}));f.size>0&&(i.required=Array.from(f)),((p=a.catchall)==null?void 0:p._zod.def.type)==="never"?i.additionalProperties=!1:a.catchall?a.catchall&&(i.additionalProperties=Tn(a.catchall,e,{...r,path:[...r.path,"additionalProperties"]})):e.io==="output"&&(i.additionalProperties=!1)},qj=(t,e,n,r)=>{const i=t._zod.def,a=i.inclusive===!1,l=i.options.map((d,f)=>Tn(d,e,{...r,path:[...r.path,a?"oneOf":"anyOf",f]}));a?n.oneOf=l:n.anyOf=l},Hj=(t,e,n,r)=>{const i=t._zod.def,a=Tn(i.left,e,{...r,path:[...r.path,"allOf",0]}),l=Tn(i.right,e,{...r,path:[...r.path,"allOf",1]}),d=p=>"allOf"in p&&Object.keys(p).length===1,f=[...d(a)?a.allOf:[a],...d(l)?l.allOf:[l]];n.allOf=f},Wj=(t,e,n,r)=>{const i=t._zod.def,a=Tn(i.innerType,e,r),l=e.seen.get(t);e.target==="openapi-3.0"?(l.ref=i.innerType,n.nullable=!0):n.anyOf=[a,{type:"null"}]},Kj=(t,e,n,r)=>{const i=t._zod.def;Tn(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType},Gj=(t,e,n,r)=>{const i=t._zod.def;Tn(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType,n.default=JSON.parse(JSON.stringify(i.defaultValue))},Zj=(t,e,n,r)=>{const i=t._zod.def;Tn(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType,e.io==="input"&&(n._prefault=JSON.parse(JSON.stringify(i.defaultValue)))},Qj=(t,e,n,r)=>{const i=t._zod.def;Tn(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType;let l;try{l=i.catchValue(void 0)}catch{throw new Error("Dynamic catch values are not supported in JSON Schema")}n.default=l},Yj=(t,e,n,r)=>{const i=t._zod.def,a=e.io==="input"?i.in._zod.def.type==="transform"?i.out:i.in:i.out;Tn(a,e,r);const l=e.seen.get(t);l.ref=a},Jj=(t,e,n,r)=>{const i=t._zod.def;Tn(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType,n.readOnly=!0},Xj=(t,e,n,r)=>{const i=t._zod.def;Tn(i.innerType,e,r);const a=e.seen.get(t);a.ref=i.innerType},eF=te("ZodISODateTime",(t,e)=>{s4.init(t,e),Dt.init(t,e)});function tF(t){return lj(eF,t)}const nF=te("ZodISODate",(t,e)=>{i4.init(t,e),Dt.init(t,e)});function rF(t){return uj(nF,t)}const sF=te("ZodISOTime",(t,e)=>{o4.init(t,e),Dt.init(t,e)});function iF(t){return cj(sF,t)}const oF=te("ZodISODuration",(t,e)=>{a4.init(t,e),Dt.init(t,e)});function aF(t){return dj(oF,t)}const lF=(t,e)=>{_y.init(t,e),t.name="ZodError",Object.defineProperties(t,{format:{value:n=>ZV(t,n)},flatten:{value:n=>GV(t,n)},addIssue:{value:n=>{t.issues.push(n),t.message=JSON.stringify(t.issues,Jm,2)}},addIssues:{value:n=>{t.issues.push(...n),t.message=JSON.stringify(t.issues,Jm,2)}},isEmpty:{get(){return t.issues.length===0}}})},Br=te("ZodError",lF,{Parent:Error}),uF=rf(Br),cF=sf(Br),dF=of(Br),hF=af(Br),fF=eM(Br),pF=tM(Br),mF=nM(Br),gF=rM(Br),yF=sM(Br),vF=iM(Br),_F=oM(Br),wF=aM(Br),Gt=te("ZodType",(t,e)=>(zt.init(t,e),Object.assign(t["~standard"],{jsonSchema:{input:Eh(t,"input"),output:Eh(t,"output")}}),t.toJSONSchema=Nj(t,{}),t.def=e,t.type=e.type,Object.defineProperty(t,"_def",{value:e}),t.check=(...n)=>t.clone(oa(e,{checks:[...e.checks??[],...n.map(r=>typeof r=="function"?{_zod:{check:r,def:{check:"custom"},onattach:[]}}:r)]})),t.clone=(n,r)=>co(t,n,r),t.brand=()=>t,t.register=((n,r)=>(n.add(t,r),t)),t.parse=(n,r)=>uF(t,n,r,{callee:t.parse}),t.safeParse=(n,r)=>dF(t,n,r),t.parseAsync=async(n,r)=>cF(t,n,r,{callee:t.parseAsync}),t.safeParseAsync=async(n,r)=>hF(t,n,r),t.spa=t.safeParseAsync,t.encode=(n,r)=>fF(t,n,r),t.decode=(n,r)=>pF(t,n,r),t.encodeAsync=async(n,r)=>mF(t,n,r),t.decodeAsync=async(n,r)=>gF(t,n,r),t.safeEncode=(n,r)=>yF(t,n,r),t.safeDecode=(n,r)=>vF(t,n,r),t.safeEncodeAsync=async(n,r)=>_F(t,n,r),t.safeDecodeAsync=async(n,r)=>wF(t,n,r),t.refine=(n,r)=>t.check(hU(n,r)),t.superRefine=n=>t.check(fU(n)),t.overwrite=n=>t.check(Cl(n)),t.optional=()=>sE(t),t.nullable=()=>iE(t),t.nullish=()=>sE(iE(t)),t.nonoptional=n=>iU(t,n),t.array=()=>eg(t),t.or=n=>KF([t,n]),t.and=n=>ZF(t,n),t.transform=n=>oE(t,XF(n)),t.default=n=>nU(t,n),t.prefault=n=>sU(t,n),t.catch=n=>aU(t,n),t.pipe=n=>oE(t,n),t.readonly=()=>cU(t),t.describe=n=>{const r=t.clone();return Su.add(r,{description:n}),r},Object.defineProperty(t,"description",{get(){var n;return(n=Su.get(t))==null?void 0:n.description},configurable:!0}),t.meta=(...n)=>{if(n.length===0)return Su.get(t);const r=t.clone();return Su.add(r,n[0]),r},t.isOptional=()=>t.safeParse(void 0).success,t.isNullable=()=>t.safeParse(null).success,t)),mk=te("_ZodString",(t,e)=>{wy.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(r,i,a)=>Dj(t,r,i);const n=t._zod.bag;t.format=n.format??null,t.minLength=n.minimum??null,t.maxLength=n.maximum??null,t.regex=(...r)=>t.check(yj(...r)),t.includes=(...r)=>t.check(wj(...r)),t.startsWith=(...r)=>t.check(Ej(...r)),t.endsWith=(...r)=>t.check(Tj(...r)),t.min=(...r)=>t.check(wh(...r)),t.max=(...r)=>t.check(ck(...r)),t.length=(...r)=>t.check(dk(...r)),t.nonempty=(...r)=>t.check(wh(1,...r)),t.lowercase=r=>t.check(vj(r)),t.uppercase=r=>t.check(_j(r)),t.trim=()=>t.check(bj()),t.normalize=(...r)=>t.check(Ij(...r)),t.toLowerCase=()=>t.check(kj()),t.toUpperCase=()=>t.check(Sj()),t.slugify=()=>t.check(xj())}),EF=te("ZodString",(t,e)=>{wy.init(t,e),mk.init(t,e),t.email=n=>t.check(z4(TF,n)),t.url=n=>t.check(W4(IF,n)),t.jwt=n=>t.check(aj(jF,n)),t.emoji=n=>t.check(K4(bF,n)),t.guid=n=>t.check(Y0(tE,n)),t.uuid=n=>t.check($4(Ud,n)),t.uuidv4=n=>t.check(B4(Ud,n)),t.uuidv6=n=>t.check(q4(Ud,n)),t.uuidv7=n=>t.check(H4(Ud,n)),t.nanoid=n=>t.check(G4(kF,n)),t.guid=n=>t.check(Y0(tE,n)),t.cuid=n=>t.check(Z4(SF,n)),t.cuid2=n=>t.check(Q4(xF,n)),t.ulid=n=>t.check(Y4(AF,n)),t.base64=n=>t.check(sj(LF,n)),t.base64url=n=>t.check(ij(VF,n)),t.xid=n=>t.check(J4(RF,n)),t.ksuid=n=>t.check(X4(CF,n)),t.ipv4=n=>t.check(ej(PF,n)),t.ipv6=n=>t.check(tj(NF,n)),t.cidrv4=n=>t.check(nj(OF,n)),t.cidrv6=n=>t.check(rj(DF,n)),t.e164=n=>t.check(oj(MF,n)),t.datetime=n=>t.check(tF(n)),t.date=n=>t.check(rF(n)),t.time=n=>t.check(iF(n)),t.duration=n=>t.check(aF(n))});function br(t){return U4(EF,t)}const Dt=te("ZodStringFormat",(t,e)=>{xt.init(t,e),mk.init(t,e)}),TF=te("ZodEmail",(t,e)=>{ZM.init(t,e),Dt.init(t,e)}),tE=te("ZodGUID",(t,e)=>{KM.init(t,e),Dt.init(t,e)}),Ud=te("ZodUUID",(t,e)=>{GM.init(t,e),Dt.init(t,e)}),IF=te("ZodURL",(t,e)=>{QM.init(t,e),Dt.init(t,e)}),bF=te("ZodEmoji",(t,e)=>{YM.init(t,e),Dt.init(t,e)}),kF=te("ZodNanoID",(t,e)=>{JM.init(t,e),Dt.init(t,e)}),SF=te("ZodCUID",(t,e)=>{XM.init(t,e),Dt.init(t,e)}),xF=te("ZodCUID2",(t,e)=>{e4.init(t,e),Dt.init(t,e)}),AF=te("ZodULID",(t,e)=>{t4.init(t,e),Dt.init(t,e)}),RF=te("ZodXID",(t,e)=>{n4.init(t,e),Dt.init(t,e)}),CF=te("ZodKSUID",(t,e)=>{r4.init(t,e),Dt.init(t,e)}),PF=te("ZodIPv4",(t,e)=>{l4.init(t,e),Dt.init(t,e)}),NF=te("ZodIPv6",(t,e)=>{u4.init(t,e),Dt.init(t,e)}),OF=te("ZodCIDRv4",(t,e)=>{c4.init(t,e),Dt.init(t,e)}),DF=te("ZodCIDRv6",(t,e)=>{d4.init(t,e),Dt.init(t,e)}),LF=te("ZodBase64",(t,e)=>{h4.init(t,e),Dt.init(t,e)}),VF=te("ZodBase64URL",(t,e)=>{p4.init(t,e),Dt.init(t,e)}),MF=te("ZodE164",(t,e)=>{m4.init(t,e),Dt.init(t,e)}),jF=te("ZodJWT",(t,e)=>{y4.init(t,e),Dt.init(t,e)}),Ey=te("ZodNumber",(t,e)=>{ak.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(r,i,a)=>Lj(t,r,i),t.gt=(r,i)=>t.check(X0(r,i)),t.gte=(r,i)=>t.check(im(r,i)),t.min=(r,i)=>t.check(im(r,i)),t.lt=(r,i)=>t.check(J0(r,i)),t.lte=(r,i)=>t.check(sm(r,i)),t.max=(r,i)=>t.check(sm(r,i)),t.int=r=>t.check(nE(r)),t.safe=r=>t.check(nE(r)),t.positive=r=>t.check(X0(0,r)),t.nonnegative=r=>t.check(im(0,r)),t.negative=r=>t.check(J0(0,r)),t.nonpositive=r=>t.check(sm(0,r)),t.multipleOf=(r,i)=>t.check(eE(r,i)),t.step=(r,i)=>t.check(eE(r,i)),t.finite=()=>t;const n=t._zod.bag;t.minValue=Math.max(n.minimum??Number.NEGATIVE_INFINITY,n.exclusiveMinimum??Number.NEGATIVE_INFINITY)??null,t.maxValue=Math.min(n.maximum??Number.POSITIVE_INFINITY,n.exclusiveMaximum??Number.POSITIVE_INFINITY)??null,t.isInt=(n.format??"").includes("int")||Number.isSafeInteger(n.multipleOf??.5),t.isFinite=!0,t.format=n.format??null});function w6(t){return hj(Ey,t)}const FF=te("ZodNumberFormat",(t,e)=>{v4.init(t,e),Ey.init(t,e)});function nE(t){return pj(FF,t)}const UF=te("ZodUnknown",(t,e)=>{_4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Mj()});function rE(){return mj(UF)}const zF=te("ZodNever",(t,e)=>{w4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Vj(t,n,r)});function $F(t){return gj(zF,t)}const BF=te("ZodArray",(t,e)=>{E4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>$j(t,n,r,i),t.element=e.element,t.min=(n,r)=>t.check(wh(n,r)),t.nonempty=n=>t.check(wh(1,n)),t.max=(n,r)=>t.check(ck(n,r)),t.length=(n,r)=>t.check(dk(n,r)),t.unwrap=()=>t.element});function eg(t,e){return Aj(BF,t,e)}const qF=te("ZodObject",(t,e)=>{I4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Bj(t,n,r,i),vt(t,"shape",()=>e.shape),t.keyof=()=>QF(Object.keys(t._zod.def.shape)),t.catchall=n=>t.clone({...t._zod.def,catchall:n}),t.passthrough=()=>t.clone({...t._zod.def,catchall:rE()}),t.loose=()=>t.clone({...t._zod.def,catchall:rE()}),t.strict=()=>t.clone({...t._zod.def,catchall:$F()}),t.strip=()=>t.clone({...t._zod.def,catchall:void 0}),t.extend=n=>BV(t,n),t.safeExtend=n=>qV(t,n),t.merge=n=>HV(t,n),t.pick=n=>zV(t,n),t.omit=n=>$V(t,n),t.partial=(...n)=>WV(gk,t,n[0]),t.required=(...n)=>KV(yk,t,n[0])});function HF(t,e){const n={type:"object",shape:t??{},...Ve(e)};return new qF(n)}const WF=te("ZodUnion",(t,e)=>{b4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>qj(t,n,r,i),t.options=e.options});function KF(t,e){return new WF({type:"union",options:t,...Ve(e)})}const GF=te("ZodIntersection",(t,e)=>{k4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Hj(t,n,r,i)});function ZF(t,e){return new GF({type:"intersection",left:t,right:e})}const tg=te("ZodEnum",(t,e)=>{S4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(r,i,a)=>jj(t,r,i),t.enum=e.entries,t.options=Object.values(e.entries);const n=new Set(Object.keys(e.entries));t.extract=(r,i)=>{const a={};for(const l of r)if(n.has(l))a[l]=e.entries[l];else throw new Error(`Key ${l} not found in enum`);return new tg({...e,checks:[],...Ve(i),entries:a})},t.exclude=(r,i)=>{const a={...e.entries};for(const l of r)if(n.has(l))delete a[l];else throw new Error(`Key ${l} not found in enum`);return new tg({...e,checks:[],...Ve(i),entries:a})}});function QF(t,e){const n=Array.isArray(t)?Object.fromEntries(t.map(r=>[r,r])):t;return new tg({type:"enum",entries:n,...Ve(e)})}const YF=te("ZodLiteral",(t,e)=>{x4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Fj(t,n,r),t.values=new Set(e.values),Object.defineProperty(t,"value",{get(){if(e.values.length>1)throw new Error("This schema contains multiple valid literal values. Use `.values` instead.");return e.values[0]}})});function E6(t,e){return new YF({type:"literal",values:Array.isArray(t)?t:[t],...Ve(e)})}const JF=te("ZodTransform",(t,e)=>{A4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>zj(t,n),t._zod.parse=(n,r)=>{if(r.direction==="backward")throw new Kb(t.constructor.name);n.addIssue=a=>{if(typeof a=="string")n.issues.push(Qu(a,n.value,e));else{const l=a;l.fatal&&(l.continue=!1),l.code??(l.code="custom"),l.input??(l.input=n.value),l.inst??(l.inst=t),n.issues.push(Qu(l))}};const i=e.transform(n.value,n);return i instanceof Promise?i.then(a=>(n.value=a,n)):(n.value=i,n)}});function XF(t){return new JF({type:"transform",transform:t})}const gk=te("ZodOptional",(t,e)=>{R4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Xj(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function sE(t){return new gk({type:"optional",innerType:t})}const eU=te("ZodNullable",(t,e)=>{C4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Wj(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function iE(t){return new eU({type:"nullable",innerType:t})}const tU=te("ZodDefault",(t,e)=>{P4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Gj(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeDefault=t.unwrap});function nU(t,e){return new tU({type:"default",innerType:t,get defaultValue(){return typeof e=="function"?e():Yb(e)}})}const rU=te("ZodPrefault",(t,e)=>{N4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Zj(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function sU(t,e){return new rU({type:"prefault",innerType:t,get defaultValue(){return typeof e=="function"?e():Yb(e)}})}const yk=te("ZodNonOptional",(t,e)=>{O4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Kj(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function iU(t,e){return new yk({type:"nonoptional",innerType:t,...Ve(e)})}const oU=te("ZodCatch",(t,e)=>{D4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Qj(t,n,r,i),t.unwrap=()=>t._zod.def.innerType,t.removeCatch=t.unwrap});function aU(t,e){return new oU({type:"catch",innerType:t,catchValue:typeof e=="function"?e:()=>e})}const lU=te("ZodPipe",(t,e)=>{L4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Yj(t,n,r,i),t.in=e.in,t.out=e.out});function oE(t,e){return new lU({type:"pipe",in:t,out:e})}const uU=te("ZodReadonly",(t,e)=>{V4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Jj(t,n,r,i),t.unwrap=()=>t._zod.def.innerType});function cU(t){return new uU({type:"readonly",innerType:t})}const dU=te("ZodCustom",(t,e)=>{M4.init(t,e),Gt.init(t,e),t._zod.processJSONSchema=(n,r,i)=>Uj(t,n)});function hU(t,e={}){return Rj(dU,t,e)}function fU(t){return Cj(t)}function pU(t){return fj(Ey,t)}var dc=t=>t.type==="checkbox",Fo=t=>t instanceof Date,Gn=t=>t==null;const vk=t=>typeof t=="object";var Ut=t=>!Gn(t)&&!Array.isArray(t)&&vk(t)&&!Fo(t),mU=t=>Ut(t)&&t.target?dc(t.target)?t.target.checked:t.target.value:t,gU=t=>t.substring(0,t.search(/\.\d+(\.|$)/))||t,yU=(t,e)=>t.has(gU(e)),vU=t=>{const e=t.constructor&&t.constructor.prototype;return Ut(e)&&e.hasOwnProperty("isPrototypeOf")},Ty=typeof window<"u"&&typeof window.HTMLElement<"u"&&typeof document<"u";function Pn(t){let e;const n=Array.isArray(t),r=typeof FileList<"u"?t instanceof FileList:!1;if(t instanceof Date)e=new Date(t);else if(t instanceof Set)e=new Set(t);else if(!(Ty&&(t instanceof Blob||r))&&(n||Ut(t)))if(e=n?[]:{},!n&&!vU(t))e=t;else for(const i in t)t.hasOwnProperty(i)&&(e[i]=Pn(t[i]));else return t;return e}var uf=t=>Array.isArray(t)?t.filter(Boolean):[],Wt=t=>t===void 0,xe=(t,e,n)=>{if(!e||!Ut(t))return n;const r=uf(e.split(/[,[\].]+?/)).reduce((i,a)=>Gn(i)?i:i[a],t);return Wt(r)||r===t?Wt(t[e])?n:t[e]:r},As=t=>typeof t=="boolean",Iy=t=>/^\w*$/.test(t),_k=t=>uf(t.replace(/["|']|\]/g,"").split(/\.|\[/)),ht=(t,e,n)=>{let r=-1;const i=Iy(e)?[e]:_k(e),a=i.length,l=a-1;for(;++r<a;){const d=i[r];let f=n;if(r!==l){const p=t[d];f=Ut(p)||Array.isArray(p)?p:isNaN(+i[r+1])?{}:[]}if(d==="__proto__"||d==="constructor"||d==="prototype")return;t[d]=f,t=t[d]}};const aE={BLUR:"blur",FOCUS_OUT:"focusout"},ls={onBlur:"onBlur",onChange:"onChange",onSubmit:"onSubmit",onTouched:"onTouched",all:"all"},ii={max:"max",min:"min",maxLength:"maxLength",minLength:"minLength",pattern:"pattern",required:"required",validate:"validate"};se.createContext(null);var _U=(t,e,n,r=!0)=>{const i={defaultValues:e._defaultValues};for(const a in t)Object.defineProperty(i,a,{get:()=>{const l=a;return e._proxyFormState[l]!==ls.all&&(e._proxyFormState[l]=!r||ls.all),t[l]}});return i},Ps=t=>typeof t=="string",wU=(t,e,n,r,i)=>Ps(t)?(r&&e.watch.add(t),xe(n,t,i)):Array.isArray(t)?t.map(a=>(r&&e.watch.add(a),xe(n,a))):(r&&(e.watchAll=!0),n),by=(t,e,n,r,i)=>e?{...n[t],types:{...n[t]&&n[t].types?n[t].types:{},[r]:i||!0}}:{},Ou=t=>Array.isArray(t)?t:[t],lE=()=>{let t=[];return{get observers(){return t},next:i=>{for(const a of t)a.next&&a.next(i)},subscribe:i=>(t.push(i),{unsubscribe:()=>{t=t.filter(a=>a!==i)}}),unsubscribe:()=>{t=[]}}},ng=t=>Gn(t)||!vk(t);function Gi(t,e){if(ng(t)||ng(e))return t===e;if(Fo(t)&&Fo(e))return t.getTime()===e.getTime();const n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(const i of n){const a=t[i];if(!r.includes(i))return!1;if(i!=="ref"){const l=e[i];if(Fo(a)&&Fo(l)||Ut(a)&&Ut(l)||Array.isArray(a)&&Array.isArray(l)?!Gi(a,l):a!==l)return!1}}return!0}var Kn=t=>Ut(t)&&!Object.keys(t).length,ky=t=>t.type==="file",us=t=>typeof t=="function",Th=t=>{if(!Ty)return!1;const e=t?t.ownerDocument:0;return t instanceof(e&&e.defaultView?e.defaultView.HTMLElement:HTMLElement)},wk=t=>t.type==="select-multiple",Sy=t=>t.type==="radio",EU=t=>Sy(t)||dc(t),om=t=>Th(t)&&t.isConnected;function TU(t,e){const n=e.slice(0,-1).length;let r=0;for(;r<n;)t=Wt(t)?r++:t[e[r++]];return t}function IU(t){for(const e in t)if(t.hasOwnProperty(e)&&!Wt(t[e]))return!1;return!0}function nn(t,e){const n=Array.isArray(e)?e:Iy(e)?[e]:_k(e),r=n.length===1?t:TU(t,n),i=n.length-1,a=n[i];return r&&delete r[a],i!==0&&(Ut(r)&&Kn(r)||Array.isArray(r)&&IU(r))&&nn(t,n.slice(0,-1)),t}var Ek=t=>{for(const e in t)if(us(t[e]))return!0;return!1};function Ih(t,e={}){const n=Array.isArray(t);if(Ut(t)||n)for(const r in t)Array.isArray(t[r])||Ut(t[r])&&!Ek(t[r])?(e[r]=Array.isArray(t[r])?[]:{},Ih(t[r],e[r])):Gn(t[r])||(e[r]=!0);return e}function Tk(t,e,n){const r=Array.isArray(t);if(Ut(t)||r)for(const i in t)Array.isArray(t[i])||Ut(t[i])&&!Ek(t[i])?Wt(e)||ng(n[i])?n[i]=Array.isArray(t[i])?Ih(t[i],[]):{...Ih(t[i])}:Tk(t[i],Gn(e)?{}:e[i],n[i]):n[i]=!Gi(t[i],e[i]);return n}var gu=(t,e)=>Tk(t,e,Ih(e));const uE={value:!1,isValid:!1},cE={value:!0,isValid:!0};var Ik=t=>{if(Array.isArray(t)){if(t.length>1){const e=t.filter(n=>n&&n.checked&&!n.disabled).map(n=>n.value);return{value:e,isValid:!!e.length}}return t[0].checked&&!t[0].disabled?t[0].attributes&&!Wt(t[0].attributes.value)?Wt(t[0].value)||t[0].value===""?cE:{value:t[0].value,isValid:!0}:cE:uE}return uE},bk=(t,{valueAsNumber:e,valueAsDate:n,setValueAs:r})=>Wt(t)?t:e?t===""?NaN:t&&+t:n&&Ps(t)?new Date(t):r?r(t):t;const dE={isValid:!1,value:null};var kk=t=>Array.isArray(t)?t.reduce((e,n)=>n&&n.checked&&!n.disabled?{isValid:!0,value:n.value}:e,dE):dE;function hE(t){const e=t.ref;return ky(e)?e.files:Sy(e)?kk(t.refs).value:wk(e)?[...e.selectedOptions].map(({value:n})=>n):dc(e)?Ik(t.refs).value:bk(Wt(e.value)?t.ref.value:e.value,t)}var bU=(t,e,n,r)=>{const i={};for(const a of t){const l=xe(e,a);l&&ht(i,a,l._f)}return{criteriaMode:n,names:[...t],fields:i,shouldUseNativeValidation:r}},bh=t=>t instanceof RegExp,yu=t=>Wt(t)?t:bh(t)?t.source:Ut(t)?bh(t.value)?t.value.source:t.value:t,fE=t=>({isOnSubmit:!t||t===ls.onSubmit,isOnBlur:t===ls.onBlur,isOnChange:t===ls.onChange,isOnAll:t===ls.all,isOnTouch:t===ls.onTouched});const pE="AsyncFunction";var kU=t=>!!t&&!!t.validate&&!!(us(t.validate)&&t.validate.constructor.name===pE||Ut(t.validate)&&Object.values(t.validate).find(e=>e.constructor.name===pE)),SU=t=>t.mount&&(t.required||t.min||t.max||t.maxLength||t.minLength||t.pattern||t.validate),mE=(t,e,n)=>!n&&(e.watchAll||e.watch.has(t)||[...e.watch].some(r=>t.startsWith(r)&&/^\.\w+/.test(t.slice(r.length))));const Du=(t,e,n,r)=>{for(const i of n||Object.keys(t)){const a=xe(t,i);if(a){const{_f:l,...d}=a;if(l){if(l.refs&&l.refs[0]&&e(l.refs[0],i)&&!r)return!0;if(l.ref&&e(l.ref,l.name)&&!r)return!0;if(Du(d,e))break}else if(Ut(d)&&Du(d,e))break}}};function gE(t,e,n){const r=xe(t,n);if(r||Iy(n))return{error:r,name:n};const i=n.split(".");for(;i.length;){const a=i.join("."),l=xe(e,a),d=xe(t,a);if(l&&!Array.isArray(l)&&n!==a)return{name:n};if(d&&d.type)return{name:a,error:d};i.pop()}return{name:n}}var xU=(t,e,n,r)=>{n(t);const{name:i,...a}=t;return Kn(a)||Object.keys(a).length>=Object.keys(e).length||Object.keys(a).find(l=>e[l]===(!r||ls.all))},AU=(t,e,n)=>!t||!e||t===e||Ou(t).some(r=>r&&(n?r===e:r.startsWith(e)||e.startsWith(r))),RU=(t,e,n,r,i)=>i.isOnAll?!1:!n&&i.isOnTouch?!(e||t):(n?r.isOnBlur:i.isOnBlur)?!t:(n?r.isOnChange:i.isOnChange)?t:!0,CU=(t,e)=>!uf(xe(t,e)).length&&nn(t,e),PU=(t,e,n)=>{const r=Ou(xe(t,n));return ht(r,"root",e[n]),ht(t,n,r),t},Jd=t=>Ps(t);function yE(t,e,n="validate"){if(Jd(t)||Array.isArray(t)&&t.every(Jd)||As(t)&&!t)return{type:n,message:Jd(t)?t:"",ref:e}}var qa=t=>Ut(t)&&!bh(t)?t:{value:t,message:""},vE=async(t,e,n,r,i,a)=>{const{ref:l,refs:d,required:f,maxLength:p,minLength:_,min:v,max:E,pattern:x,validate:A,name:j,valueAsNumber:R,mount:K}=t._f,$=xe(n,j);if(!K||e.has(j))return{};const ee=d?d[0]:l,J=P=>{i&&ee.reportValidity&&(ee.setCustomValidity(As(P)?"":P||""),ee.reportValidity())},ce={},_e=Sy(l),L=dc(l),b=_e||L,C=(R||ky(l))&&Wt(l.value)&&Wt($)||Th(l)&&l.value===""||$===""||Array.isArray($)&&!$.length,D=by.bind(null,j,r,ce),V=(P,S,De,Le=ii.maxLength,me=ii.minLength)=>{const Ne=P?S:De;ce[j]={type:P?Le:me,message:Ne,ref:l,...D(P?Le:me,Ne)}};if(a?!Array.isArray($)||!$.length:f&&(!b&&(C||Gn($))||As($)&&!$||L&&!Ik(d).isValid||_e&&!kk(d).isValid)){const{value:P,message:S}=Jd(f)?{value:!!f,message:f}:qa(f);if(P&&(ce[j]={type:ii.required,message:S,ref:ee,...D(ii.required,S)},!r))return J(S),ce}if(!C&&(!Gn(v)||!Gn(E))){let P,S;const De=qa(E),Le=qa(v);if(!Gn($)&&!isNaN($)){const me=l.valueAsNumber||$&&+$;Gn(De.value)||(P=me>De.value),Gn(Le.value)||(S=me<Le.value)}else{const me=l.valueAsDate||new Date($),Ne=pe=>new Date(new Date().toDateString()+" "+pe),Z=l.type=="time",ve=l.type=="week";Ps(De.value)&&$&&(P=Z?Ne($)>Ne(De.value):ve?$>De.value:me>new Date(De.value)),Ps(Le.value)&&$&&(S=Z?Ne($)<Ne(Le.value):ve?$<Le.value:me<new Date(Le.value))}if((P||S)&&(V(!!P,De.message,Le.message,ii.max,ii.min),!r))return J(ce[j].message),ce}if((p||_)&&!C&&(Ps($)||a&&Array.isArray($))){const P=qa(p),S=qa(_),De=!Gn(P.value)&&$.length>+P.value,Le=!Gn(S.value)&&$.length<+S.value;if((De||Le)&&(V(De,P.message,S.message),!r))return J(ce[j].message),ce}if(x&&!C&&Ps($)){const{value:P,message:S}=qa(x);if(bh(P)&&!$.match(P)&&(ce[j]={type:ii.pattern,message:S,ref:l,...D(ii.pattern,S)},!r))return J(S),ce}if(A){if(us(A)){const P=await A($,n),S=yE(P,ee);if(S&&(ce[j]={...S,...D(ii.validate,S.message)},!r))return J(S.message),ce}else if(Ut(A)){let P={};for(const S in A){if(!Kn(P)&&!r)break;const De=yE(await A[S]($,n),ee,S);De&&(P={...De,...D(S,De.message)},J(De.message),r&&(ce[j]=P))}if(!Kn(P)&&(ce[j]={ref:ee,...P},!r))return ce}}return J(!0),ce};const NU={mode:ls.onSubmit,reValidateMode:ls.onChange,shouldFocusError:!0};function OU(t={}){let e={...NU,...t},n={submitCount:0,isDirty:!1,isLoading:us(e.defaultValues),isValidating:!1,isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,touchedFields:{},dirtyFields:{},validatingFields:{},errors:e.errors||{},disabled:e.disabled||!1};const r={};let i=Ut(e.defaultValues)||Ut(e.values)?Pn(e.values||e.defaultValues)||{}:{},a=e.shouldUnregister?{}:Pn(i),l={action:!1,mount:!1,watch:!1},d={mount:new Set,disabled:new Set,unMount:new Set,array:new Set,watch:new Set},f,p=0;const _={isDirty:!1,dirtyFields:!1,validatingFields:!1,touchedFields:!1,isValidating:!1,isValid:!1,errors:!1};let v={..._};const E={array:lE(),state:lE()},x=fE(e.mode),A=fE(e.reValidateMode),j=e.criteriaMode===ls.all,R=O=>H=>{clearTimeout(p),p=setTimeout(O,H)},K=async O=>{if(!e.disabled&&(_.isValid||v.isValid||O)){const H=e.resolver?Kn((await C()).errors):await V(r,!0);H!==n.isValid&&E.state.next({isValid:H})}},$=(O,H)=>{!e.disabled&&(_.isValidating||_.validatingFields||v.isValidating||v.validatingFields)&&((O||Array.from(d.mount)).forEach(X=>{X&&(H?ht(n.validatingFields,X,H):nn(n.validatingFields,X))}),E.state.next({validatingFields:n.validatingFields,isValidating:!Kn(n.validatingFields)}))},ee=(O,H=[],X,ge,oe=!0,re=!0)=>{if(ge&&X&&!e.disabled){if(l.action=!0,re&&Array.isArray(xe(r,O))){const ye=X(xe(r,O),ge.argA,ge.argB);oe&&ht(r,O,ye)}if(re&&Array.isArray(xe(n.errors,O))){const ye=X(xe(n.errors,O),ge.argA,ge.argB);oe&&ht(n.errors,O,ye),CU(n.errors,O)}if((_.touchedFields||v.touchedFields)&&re&&Array.isArray(xe(n.touchedFields,O))){const ye=X(xe(n.touchedFields,O),ge.argA,ge.argB);oe&&ht(n.touchedFields,O,ye)}(_.dirtyFields||v.dirtyFields)&&(n.dirtyFields=gu(i,a)),E.state.next({name:O,isDirty:S(O,H),dirtyFields:n.dirtyFields,errors:n.errors,isValid:n.isValid})}else ht(a,O,H)},J=(O,H)=>{ht(n.errors,O,H),E.state.next({errors:n.errors})},ce=O=>{n.errors=O,E.state.next({errors:n.errors,isValid:!1})},_e=(O,H,X,ge)=>{const oe=xe(r,O);if(oe){const re=xe(a,O,Wt(X)?xe(i,O):X);Wt(re)||ge&&ge.defaultChecked||H?ht(a,O,H?re:hE(oe._f)):me(O,re),l.mount&&K()}},L=(O,H,X,ge,oe)=>{let re=!1,ye=!1;const Ge={name:O};if(!e.disabled){if(!X||ge){(_.isDirty||v.isDirty)&&(ye=n.isDirty,n.isDirty=Ge.isDirty=S(),re=ye!==Ge.isDirty);const et=Gi(xe(i,O),H);ye=!!xe(n.dirtyFields,O),et?nn(n.dirtyFields,O):ht(n.dirtyFields,O,!0),Ge.dirtyFields=n.dirtyFields,re=re||(_.dirtyFields||v.dirtyFields)&&ye!==!et}if(X){const et=xe(n.touchedFields,O);et||(ht(n.touchedFields,O,X),Ge.touchedFields=n.touchedFields,re=re||(_.touchedFields||v.touchedFields)&&et!==X)}re&&oe&&E.state.next(Ge)}return re?Ge:{}},b=(O,H,X,ge)=>{const oe=xe(n.errors,O),re=(_.isValid||v.isValid)&&As(H)&&n.isValid!==H;if(e.delayError&&X?(f=R(()=>J(O,X)),f(e.delayError)):(clearTimeout(p),f=null,X?ht(n.errors,O,X):nn(n.errors,O)),(X?!Gi(oe,X):oe)||!Kn(ge)||re){const ye={...ge,...re&&As(H)?{isValid:H}:{},errors:n.errors,name:O};n={...n,...ye},E.state.next(ye)}},C=async O=>{$(O,!0);const H=await e.resolver(a,e.context,bU(O||d.mount,r,e.criteriaMode,e.shouldUseNativeValidation));return $(O),H},D=async O=>{const{errors:H}=await C(O);if(O)for(const X of O){const ge=xe(H,X);ge?ht(n.errors,X,ge):nn(n.errors,X)}else n.errors=H;return H},V=async(O,H,X={valid:!0})=>{for(const ge in O){const oe=O[ge];if(oe){const{_f:re,...ye}=oe;if(re){const Ge=d.array.has(re.name),et=oe._f&&kU(oe._f);et&&_.validatingFields&&$([ge],!0);const ft=await vE(oe,d.disabled,a,j,e.shouldUseNativeValidation&&!H,Ge);if(et&&_.validatingFields&&$([ge]),ft[re.name]&&(X.valid=!1,H))break;!H&&(xe(ft,re.name)?Ge?PU(n.errors,ft,re.name):ht(n.errors,re.name,ft[re.name]):nn(n.errors,re.name))}!Kn(ye)&&await V(ye,H,X)}}return X.valid},P=()=>{for(const O of d.unMount){const H=xe(r,O);H&&(H._f.refs?H._f.refs.every(X=>!om(X)):!om(H._f.ref))&&Ze(O)}d.unMount=new Set},S=(O,H)=>!e.disabled&&(O&&H&&ht(a,O,H),!Gi(Q(),i)),De=(O,H,X)=>wU(O,d,{...l.mount?a:Wt(H)?i:Ps(O)?{[O]:H}:H},X,H),Le=O=>uf(xe(l.mount?a:i,O,e.shouldUnregister?xe(i,O,[]):[])),me=(O,H,X={})=>{const ge=xe(r,O);let oe=H;if(ge){const re=ge._f;re&&(!re.disabled&&ht(a,O,bk(H,re)),oe=Th(re.ref)&&Gn(H)?"":H,wk(re.ref)?[...re.ref.options].forEach(ye=>ye.selected=oe.includes(ye.value)):re.refs?dc(re.ref)?re.refs.length>1?re.refs.forEach(ye=>(!ye.defaultChecked||!ye.disabled)&&(ye.checked=Array.isArray(oe)?!!oe.find(Ge=>Ge===ye.value):oe===ye.value)):re.refs[0]&&(re.refs[0].checked=!!oe):re.refs.forEach(ye=>ye.checked=ye.value===oe):ky(re.ref)?re.ref.value="":(re.ref.value=oe,re.ref.type||E.state.next({name:O,values:Pn(a)})))}(X.shouldDirty||X.shouldTouch)&&L(O,oe,X.shouldTouch,X.shouldDirty,!0),X.shouldValidate&&F(O)},Ne=(O,H,X)=>{for(const ge in H){const oe=H[ge],re=`${O}.${ge}`,ye=xe(r,re);(d.array.has(O)||Ut(oe)||ye&&!ye._f)&&!Fo(oe)?Ne(re,oe,X):me(re,oe,X)}},Z=(O,H,X={})=>{const ge=xe(r,O),oe=d.array.has(O),re=Pn(H);ht(a,O,re),oe?(E.array.next({name:O,values:Pn(a)}),(_.isDirty||_.dirtyFields||v.isDirty||v.dirtyFields)&&X.shouldDirty&&E.state.next({name:O,dirtyFields:gu(i,a),isDirty:S(O,re)})):ge&&!ge._f&&!Gn(re)?Ne(O,re,X):me(O,re,X),mE(O,d)&&E.state.next({...n}),E.state.next({name:l.mount?O:void 0,values:Pn(a)})},ve=async O=>{l.mount=!0;const H=O.target;let X=H.name,ge=!0;const oe=xe(r,X),re=ye=>{ge=Number.isNaN(ye)||Fo(ye)&&isNaN(ye.getTime())||Gi(ye,xe(a,X,ye))};if(oe){let ye,Ge;const et=H.type?hE(oe._f):mU(O),ft=O.type===aE.BLUR||O.type===aE.FOCUS_OUT,bn=!SU(oe._f)&&!e.resolver&&!xe(n.errors,X)&&!oe._f.deps||RU(ft,xe(n.touchedFields,X),n.isSubmitted,A,x),Hr=mE(X,d,ft);ht(a,X,et),ft?(oe._f.onBlur&&oe._f.onBlur(O),f&&f(0)):oe._f.onChange&&oe._f.onChange(O);const Wr=L(X,et,ft),ms=!Kn(Wr)||Hr;if(!ft&&E.state.next({name:X,type:O.type,values:Pn(a)}),bn)return(_.isValid||v.isValid)&&(e.mode==="onBlur"?ft&&K():ft||K()),ms&&E.state.next({name:X,...Hr?{}:Wr});if(!ft&&Hr&&E.state.next({...n}),e.resolver){const{errors:Kr}=await C([X]);if(re(et),ge){const Bs=gE(n.errors,r,X),Xn=gE(Kr,r,Bs.name||X);ye=Xn.error,X=Xn.name,Ge=Kn(Kr)}}else $([X],!0),ye=(await vE(oe,d.disabled,a,j,e.shouldUseNativeValidation))[X],$([X]),re(et),ge&&(ye?Ge=!1:(_.isValid||v.isValid)&&(Ge=await V(r,!0)));ge&&(oe._f.deps&&F(oe._f.deps),b(X,Ge,ye,Wr))}},pe=(O,H)=>{if(xe(n.errors,H)&&O.focus)return O.focus(),1},F=async(O,H={})=>{let X,ge;const oe=Ou(O);if(e.resolver){const re=await D(Wt(O)?O:oe);X=Kn(re),ge=O?!oe.some(ye=>xe(re,ye)):X}else O?(ge=(await Promise.all(oe.map(async re=>{const ye=xe(r,re);return await V(ye&&ye._f?{[re]:ye}:ye)}))).every(Boolean),!(!ge&&!n.isValid)&&K()):ge=X=await V(r);return E.state.next({...!Ps(O)||(_.isValid||v.isValid)&&X!==n.isValid?{}:{name:O},...e.resolver||!O?{isValid:X}:{},errors:n.errors}),H.shouldFocus&&!ge&&Du(r,pe,O?oe:d.mount),ge},Q=O=>{const H={...l.mount?a:i};return Wt(O)?H:Ps(O)?xe(H,O):O.map(X=>xe(H,X))},le=(O,H)=>({invalid:!!xe((H||n).errors,O),isDirty:!!xe((H||n).dirtyFields,O),error:xe((H||n).errors,O),isValidating:!!xe(n.validatingFields,O),isTouched:!!xe((H||n).touchedFields,O)}),Ee=O=>{O&&Ou(O).forEach(H=>nn(n.errors,H)),E.state.next({errors:O?n.errors:{}})},Me=(O,H,X)=>{const ge=(xe(r,O,{_f:{}})._f||{}).ref,oe=xe(n.errors,O)||{},{ref:re,message:ye,type:Ge,...et}=oe;ht(n.errors,O,{...et,...H,ref:ge}),E.state.next({name:O,errors:n.errors,isValid:!1}),X&&X.shouldFocus&&ge&&ge.focus&&ge.focus()},Ae=(O,H)=>us(O)?E.state.subscribe({next:X=>O(De(void 0,H),X)}):De(O,H,!0),Oe=O=>E.state.subscribe({next:H=>{AU(O.name,H.name,O.exact)&&xU(H,O.formState||_,sn,O.reRenderRoot)&&O.callback({values:{...a},...n,...H})}}).unsubscribe,Ke=O=>(l.mount=!0,v={...v,...O.formState},Oe({...O,formState:v})),Ze=(O,H={})=>{for(const X of O?Ou(O):d.mount)d.mount.delete(X),d.array.delete(X),H.keepValue||(nn(r,X),nn(a,X)),!H.keepError&&nn(n.errors,X),!H.keepDirty&&nn(n.dirtyFields,X),!H.keepTouched&&nn(n.touchedFields,X),!H.keepIsValidating&&nn(n.validatingFields,X),!e.shouldUnregister&&!H.keepDefaultValue&&nn(i,X);E.state.next({values:Pn(a)}),E.state.next({...n,...H.keepDirty?{isDirty:S()}:{}}),!H.keepIsValid&&K()},lt=({disabled:O,name:H})=>{(As(O)&&l.mount||O||d.disabled.has(H))&&(O?d.disabled.add(H):d.disabled.delete(H))},Zt=(O,H={})=>{let X=xe(r,O);const ge=As(H.disabled)||As(e.disabled);return ht(r,O,{...X||{},_f:{...X&&X._f?X._f:{ref:{name:O}},name:O,mount:!0,...H}}),d.mount.add(O),X?lt({disabled:As(H.disabled)?H.disabled:e.disabled,name:O}):_e(O,!0,H.value),{...ge?{disabled:H.disabled||e.disabled}:{},...e.progressive?{required:!!H.required,min:yu(H.min),max:yu(H.max),minLength:yu(H.minLength),maxLength:yu(H.maxLength),pattern:yu(H.pattern)}:{},name:O,onChange:ve,onBlur:ve,ref:oe=>{if(oe){Zt(O,H),X=xe(r,O);const re=Wt(oe.value)&&oe.querySelectorAll&&oe.querySelectorAll("input,select,textarea")[0]||oe,ye=EU(re),Ge=X._f.refs||[];if(ye?Ge.find(et=>et===re):re===X._f.ref)return;ht(r,O,{_f:{...X._f,...ye?{refs:[...Ge.filter(om),re,...Array.isArray(xe(i,O))?[{}]:[]],ref:{type:re.type,name:O}}:{ref:re}}}),_e(O,!1,void 0,re)}else X=xe(r,O,{}),X._f&&(X._f.mount=!1),(e.shouldUnregister||H.shouldUnregister)&&!(yU(d.array,O)&&l.action)&&d.unMount.add(O)}}},hn=()=>e.shouldFocusError&&Du(r,pe,d.mount),xr=O=>{As(O)&&(E.state.next({disabled:O}),Du(r,(H,X)=>{const ge=xe(r,X);ge&&(H.disabled=ge._f.disabled||O,Array.isArray(ge._f.refs)&&ge._f.refs.forEach(oe=>{oe.disabled=ge._f.disabled||O}))},0,!1))},Qn=(O,H)=>async X=>{let ge;X&&(X.preventDefault&&X.preventDefault(),X.persist&&X.persist());let oe=Pn(a);if(E.state.next({isSubmitting:!0}),e.resolver){const{errors:re,values:ye}=await C();n.errors=re,oe=ye}else await V(r);if(d.disabled.size)for(const re of d.disabled)ht(oe,re,void 0);if(nn(n.errors,"root"),Kn(n.errors)){E.state.next({errors:{}});try{await O(oe,X)}catch(re){ge=re}}else H&&await H({...n.errors},X),hn(),setTimeout(hn);if(E.state.next({isSubmitted:!0,isSubmitting:!1,isSubmitSuccessful:Kn(n.errors)&&!ge,submitCount:n.submitCount+1,errors:n.errors}),ge)throw ge},ps=(O,H={})=>{xe(r,O)&&(Wt(H.defaultValue)?Z(O,Pn(xe(i,O))):(Z(O,H.defaultValue),ht(i,O,Pn(H.defaultValue))),H.keepTouched||nn(n.touchedFields,O),H.keepDirty||(nn(n.dirtyFields,O),n.isDirty=H.defaultValue?S(O,Pn(xe(i,O))):S()),H.keepError||(nn(n.errors,O),_.isValid&&K()),E.state.next({...n}))},qr=(O,H={})=>{const X=O?Pn(O):i,ge=Pn(X),oe=Kn(O),re=oe?i:ge;if(H.keepDefaultValues||(i=X),!H.keepValues){if(H.keepDirtyValues){const ye=new Set([...d.mount,...Object.keys(gu(i,a))]);for(const Ge of Array.from(ye))xe(n.dirtyFields,Ge)?ht(re,Ge,xe(a,Ge)):Z(Ge,xe(re,Ge))}else{if(Ty&&Wt(O))for(const ye of d.mount){const Ge=xe(r,ye);if(Ge&&Ge._f){const et=Array.isArray(Ge._f.refs)?Ge._f.refs[0]:Ge._f.ref;if(Th(et)){const ft=et.closest("form");if(ft){ft.reset();break}}}}for(const ye of d.mount)Z(ye,xe(re,ye))}a=Pn(re),E.array.next({values:{...re}}),E.state.next({values:{...re}})}d={mount:H.keepDirtyValues?d.mount:new Set,unMount:new Set,array:new Set,disabled:new Set,watch:new Set,watchAll:!1,focus:""},l.mount=!_.isValid||!!H.keepIsValid||!!H.keepDirtyValues,l.watch=!!e.shouldUnregister,E.state.next({submitCount:H.keepSubmitCount?n.submitCount:0,isDirty:oe?!1:H.keepDirty?n.isDirty:!!(H.keepDefaultValues&&!Gi(O,i)),isSubmitted:H.keepIsSubmitted?n.isSubmitted:!1,dirtyFields:oe?{}:H.keepDirtyValues?H.keepDefaultValues&&a?gu(i,a):n.dirtyFields:H.keepDefaultValues&&O?gu(i,O):H.keepDirty?n.dirtyFields:{},touchedFields:H.keepTouched?n.touchedFields:{},errors:H.keepErrors?n.errors:{},isSubmitSuccessful:H.keepIsSubmitSuccessful?n.isSubmitSuccessful:!1,isSubmitting:!1})},Yn=(O,H)=>qr(us(O)?O(a):O,H),$s=(O,H={})=>{const X=xe(r,O),ge=X&&X._f;if(ge){const oe=ge.refs?ge.refs[0]:ge.ref;oe.focus&&(oe.focus(),H.shouldSelect&&us(oe.select)&&oe.select())}},sn=O=>{n={...n,...O}},Jn={control:{register:Zt,unregister:Ze,getFieldState:le,handleSubmit:Qn,setError:Me,_subscribe:Oe,_runSchema:C,_getWatch:De,_getDirty:S,_setValid:K,_setFieldArray:ee,_setDisabledField:lt,_setErrors:ce,_getFieldArray:Le,_reset:qr,_resetDefaultValues:()=>us(e.defaultValues)&&e.defaultValues().then(O=>{Yn(O,e.resetOptions),E.state.next({isLoading:!1})}),_removeUnmounted:P,_disableForm:xr,_subjects:E,_proxyFormState:_,get _fields(){return r},get _formValues(){return a},get _state(){return l},set _state(O){l=O},get _defaultValues(){return i},get _names(){return d},set _names(O){d=O},get _formState(){return n},get _options(){return e},set _options(O){e={...e,...O}}},subscribe:Ke,trigger:F,register:Zt,handleSubmit:Qn,watch:Ae,setValue:Z,getValues:Q,reset:Yn,resetField:ps,clearErrors:Ee,unregister:Ze,setError:Me,setFocus:$s,getFieldState:le};return{...Jn,formControl:Jn}}function DU(t={}){const e=se.useRef(void 0),n=se.useRef(void 0),[r,i]=se.useState({isDirty:!1,isValidating:!1,isLoading:us(t.defaultValues),isSubmitted:!1,isSubmitting:!1,isSubmitSuccessful:!1,isValid:!1,submitCount:0,dirtyFields:{},touchedFields:{},validatingFields:{},errors:t.errors||{},disabled:t.disabled||!1,defaultValues:us(t.defaultValues)?void 0:t.defaultValues});e.current||(e.current={...t.formControl?t.formControl:OU(t),formState:r},t.formControl&&t.defaultValues&&!us(t.defaultValues)&&t.formControl.reset(t.defaultValues,t.resetOptions));const a=e.current.control;return a._options=t,se.useLayoutEffect(()=>a._subscribe({formState:a._proxyFormState,callback:()=>i({...a._formState}),reRenderRoot:!0}),[a]),se.useEffect(()=>a._disableForm(t.disabled),[a,t.disabled]),se.useEffect(()=>{if(a._proxyFormState.isDirty){const l=a._getDirty();l!==r.isDirty&&a._subjects.state.next({isDirty:l})}},[a,r.isDirty]),se.useEffect(()=>{t.values&&!Gi(t.values,n.current)?(a._reset(t.values,a._options.resetOptions),n.current=t.values,i(l=>({...l}))):a._resetDefaultValues()},[t.values,a]),se.useEffect(()=>{t.errors&&!Kn(t.errors)&&a._setErrors(t.errors)},[t.errors,a]),se.useEffect(()=>{a._state.mount||(a._setValid(),a._state.mount=!0),a._state.watch&&(a._state.watch=!1,a._subjects.state.next({...a._formState})),a._removeUnmounted()}),se.useEffect(()=>{t.shouldUnregister&&a._subjects.state.next({values:a._getWatch()})},[t.shouldUnregister,a]),e.current.formState=_U(r,a),e.current}const _E=(t,e,n)=>{if(t&&"reportValidity"in t){const r=xe(n,e);t.setCustomValidity(r&&r.message||""),t.reportValidity()}},rg=(t,e)=>{for(const n in e.fields){const r=e.fields[n];r&&r.ref&&"reportValidity"in r.ref?_E(r.ref,n,t):r&&r.refs&&r.refs.forEach(i=>_E(i,n,t))}},wE=(t,e)=>{e.shouldUseNativeValidation&&rg(t,e);const n={};for(const r in t){const i=xe(e.fields,r),a=Object.assign(t[r]||{},{ref:i&&i.ref});if(LU(e.names||Object.keys(t),r)){const l=Object.assign({},xe(n,r));ht(l,"root",a),ht(n,r,l)}else ht(n,r,a)}return n},LU=(t,e)=>{const n=EE(e);return t.some(r=>EE(r).match(`^${n}\\.\\d+`))};function EE(t){return t.replace(/\]|\[/g,"")}function TE(t,e){try{var n=t()}catch(r){return e(r)}return n&&n.then?n.then(void 0,e):n}function VU(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,l=r.path.join(".");if(!n[l])if("unionErrors"in r){var d=r.unionErrors[0].errors[0];n[l]={message:d.message,type:d.code}}else n[l]={message:a,type:i};if("unionErrors"in r&&r.unionErrors.forEach(function(_){return _.errors.forEach(function(v){return t.push(v)})}),e){var f=n[l].types,p=f&&f[r.code];n[l]=by(l,e,n,i,p?[].concat(p,r.message):r.message)}t.shift()}return n}function MU(t,e){for(var n={};t.length;){var r=t[0],i=r.code,a=r.message,l=r.path.join(".");if(!n[l])if(r.code==="invalid_union"&&r.errors.length>0){var d=r.errors[0][0];n[l]={message:d.message,type:d.code}}else n[l]={message:a,type:i};if(r.code==="invalid_union"&&r.errors.forEach(function(_){return _.forEach(function(v){return t.push(v)})}),e){var f=n[l].types,p=f&&f[r.code];n[l]=by(l,e,n,i,p?[].concat(p,r.message):r.message)}t.shift()}return n}function jU(t,e,n){if(n===void 0&&(n={}),(function(r){return"_def"in r&&typeof r._def=="object"&&"typeName"in r._def})(t))return function(r,i,a){try{return Promise.resolve(TE(function(){return Promise.resolve(t[n.mode==="sync"?"parse":"parseAsync"](r,e)).then(function(l){return a.shouldUseNativeValidation&&rg({},a),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if((function(d){return Array.isArray(d==null?void 0:d.issues)})(l))return{values:{},errors:wE(VU(l.errors,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};if((function(r){return"_zod"in r&&typeof r._zod=="object"})(t))return function(r,i,a){try{return Promise.resolve(TE(function(){return Promise.resolve((n.mode==="sync"?QV:YV)(t,r,e)).then(function(l){return a.shouldUseNativeValidation&&rg({},a),{errors:{},values:n.raw?Object.assign({},r):l}})},function(l){if((function(d){return d instanceof _y})(l))return{values:{},errors:wE(MU(l.issues,!a.shouldUseNativeValidation&&a.criteriaMode==="all"),a)};throw l}))}catch(l){return Promise.reject(l)}};throw new Error("Invalid input: not a Zod schema")}function Lo({className:t,type:e,...n}){return T.jsx("input",{type:e,"data-slot":"input",className:zr("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border px-3 py-1 text-base bg-input-background transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",t),...n})}var FU=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],ho=FU.reduce((t,e)=>{const n=U.forwardRef((r,i)=>{const{asChild:a,...l}=r,d=a?Mu:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),T.jsx(d,{...l,ref:i})});return n.displayName=`Primitive.${e}`,{...t,[e]:n}},{}),UU="Label",Sk=U.forwardRef((t,e)=>T.jsx(ho.label,{...t,ref:e,onMouseDown:n=>{var i;n.target.closest("button, input, select, textarea")||((i=t.onMouseDown)==null||i.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Sk.displayName=UU;var zU=Sk;function Cn({className:t,...e}){return T.jsx(zU,{"data-slot":"label",className:zr("flex items-center gap-2 text-sm leading-none font-medium select-none group-data-[disabled=true]:pointer-events-none group-data-[disabled=true]:opacity-50 peer-disabled:cursor-not-allowed peer-disabled:opacity-50",t),...e})}function $U({className:t,...e}){return T.jsx("textarea",{"data-slot":"textarea",className:zr("resize-none border-input placeholder:text-muted-foreground focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 flex field-sizing-content min-h-16 w-full rounded-md border bg-input-background px-3 py-2 text-base transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),...e})}function ds(t,e,{checkForDefaultPrevented:n=!0}={}){return function(i){if(t==null||t(i),n===!1||!i.defaultPrevented)return e==null?void 0:e(i)}}function hc(t,e=[]){let n=[];function r(a,l){const d=U.createContext(l),f=n.length;n=[...n,l];const p=v=>{var K;const{scope:E,children:x,...A}=v,j=((K=E==null?void 0:E[t])==null?void 0:K[f])||d,R=U.useMemo(()=>A,Object.values(A));return T.jsx(j.Provider,{value:R,children:x})};p.displayName=a+"Provider";function _(v,E){var j;const x=((j=E==null?void 0:E[t])==null?void 0:j[f])||d,A=U.useContext(x);if(A)return A;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[p,_]}const i=()=>{const a=n.map(l=>U.createContext(l));return function(d){const f=(d==null?void 0:d[t])||a;return U.useMemo(()=>({[`__scope${t}`]:{...d,[t]:f}}),[d,f])}};return i.scopeName=t,[r,BU(i,...e)]}function BU(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(i=>({useScope:i(),scopeName:i.scopeName}));return function(a){const l=r.reduce((d,{useScope:f,scopeName:p})=>{const v=f(a)[`__scope${p}`];return{...d,...v}},{});return U.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return n.scopeName=e.scopeName,n}function qU(t){const e=t+"CollectionProvider",[n,r]=hc(e),[i,a]=n(e,{collectionRef:{current:null},itemMap:new Map}),l=x=>{const{scope:A,children:j}=x,R=se.useRef(null),K=se.useRef(new Map).current;return T.jsx(i,{scope:A,itemMap:K,collectionRef:R,children:j})};l.displayName=e;const d=t+"CollectionSlot",f=se.forwardRef((x,A)=>{const{scope:j,children:R}=x,K=a(d,j),$=Bo(A,K.collectionRef);return T.jsx(Mu,{ref:$,children:R})});f.displayName=d;const p=t+"CollectionItemSlot",_="data-radix-collection-item",v=se.forwardRef((x,A)=>{const{scope:j,children:R,...K}=x,$=se.useRef(null),ee=Bo(A,$),J=a(p,j);return se.useEffect(()=>(J.itemMap.set($,{ref:$,...K}),()=>void J.itemMap.delete($))),T.jsx(Mu,{[_]:"",ref:ee,children:R})});v.displayName=p;function E(x){const A=a(t+"CollectionConsumer",x);return se.useCallback(()=>{const R=A.collectionRef.current;if(!R)return[];const K=Array.from(R.querySelectorAll(`[${_}]`));return Array.from(A.itemMap.values()).sort((J,ce)=>K.indexOf(J.ref.current)-K.indexOf(ce.ref.current))},[A.collectionRef,A.itemMap])}return[{Provider:l,Slot:f,ItemSlot:v},E,r]}var kh=globalThis!=null&&globalThis.document?U.useLayoutEffect:()=>{},HU=VE.useId||(()=>{}),WU=0;function KU(t){const[e,n]=U.useState(HU());return kh(()=>{n(r=>r??String(WU++))},[t]),t||(e?`radix-${e}`:"")}function xy(t){const e=U.useRef(t);return U.useEffect(()=>{e.current=t}),U.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function Ay({prop:t,defaultProp:e,onChange:n=()=>{}}){const[r,i]=GU({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:r,d=xy(n),f=U.useCallback(p=>{if(a){const v=typeof p=="function"?p(t):p;v!==t&&d(v)}else i(p)},[a,t,i,d]);return[l,f]}function GU({defaultProp:t,onChange:e}){const n=U.useState(t),[r]=n,i=U.useRef(r),a=xy(e);return U.useEffect(()=>{i.current!==r&&(a(r),i.current=r)},[r,i,a]),n}var ZU=U.createContext(void 0);function xk(t){const e=U.useContext(ZU);return t||e||"ltr"}var am="rovingFocusGroup.onEntryFocus",QU={bubbles:!1,cancelable:!0},cf="RovingFocusGroup",[sg,Ak,YU]=qU(cf),[JU,Rk]=hc(cf,[YU]),[XU,ez]=JU(cf),Ck=U.forwardRef((t,e)=>T.jsx(sg.Provider,{scope:t.__scopeRovingFocusGroup,children:T.jsx(sg.Slot,{scope:t.__scopeRovingFocusGroup,children:T.jsx(tz,{...t,ref:e})})}));Ck.displayName=cf;var tz=U.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:i=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:d,onCurrentTabStopIdChange:f,onEntryFocus:p,preventScrollOnEntryFocus:_=!1,...v}=t,E=U.useRef(null),x=Bo(e,E),A=xk(a),[j=null,R]=Ay({prop:l,defaultProp:d,onChange:f}),[K,$]=U.useState(!1),ee=xy(p),J=Ak(n),ce=U.useRef(!1),[_e,L]=U.useState(0);return U.useEffect(()=>{const b=E.current;if(b)return b.addEventListener(am,ee),()=>b.removeEventListener(am,ee)},[ee]),T.jsx(XU,{scope:n,orientation:r,dir:A,loop:i,currentTabStopId:j,onItemFocus:U.useCallback(b=>R(b),[R]),onItemShiftTab:U.useCallback(()=>$(!0),[]),onFocusableItemAdd:U.useCallback(()=>L(b=>b+1),[]),onFocusableItemRemove:U.useCallback(()=>L(b=>b-1),[]),children:T.jsx(ho.div,{tabIndex:K||_e===0?-1:0,"data-orientation":r,...v,ref:x,style:{outline:"none",...t.style},onMouseDown:ds(t.onMouseDown,()=>{ce.current=!0}),onFocus:ds(t.onFocus,b=>{const C=!ce.current;if(b.target===b.currentTarget&&C&&!K){const D=new CustomEvent(am,QU);if(b.currentTarget.dispatchEvent(D),!D.defaultPrevented){const V=J().filter(me=>me.focusable),P=V.find(me=>me.active),S=V.find(me=>me.id===j),Le=[P,S,...V].filter(Boolean).map(me=>me.ref.current);Ok(Le,_)}}ce.current=!1}),onBlur:ds(t.onBlur,()=>$(!1))})})}),Pk="RovingFocusGroupItem",Nk=U.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:i=!1,tabStopId:a,...l}=t,d=KU(),f=a||d,p=ez(Pk,n),_=p.currentTabStopId===f,v=Ak(n),{onFocusableItemAdd:E,onFocusableItemRemove:x}=p;return U.useEffect(()=>{if(r)return E(),()=>x()},[r,E,x]),T.jsx(sg.ItemSlot,{scope:n,id:f,focusable:r,active:i,children:T.jsx(ho.span,{tabIndex:_?0:-1,"data-orientation":p.orientation,...l,ref:e,onMouseDown:ds(t.onMouseDown,A=>{r?p.onItemFocus(f):A.preventDefault()}),onFocus:ds(t.onFocus,()=>p.onItemFocus(f)),onKeyDown:ds(t.onKeyDown,A=>{if(A.key==="Tab"&&A.shiftKey){p.onItemShiftTab();return}if(A.target!==A.currentTarget)return;const j=sz(A,p.orientation,p.dir);if(j!==void 0){if(A.metaKey||A.ctrlKey||A.altKey||A.shiftKey)return;A.preventDefault();let K=v().filter($=>$.focusable).map($=>$.ref.current);if(j==="last")K.reverse();else if(j==="prev"||j==="next"){j==="prev"&&K.reverse();const $=K.indexOf(A.currentTarget);K=p.loop?iz(K,$+1):K.slice($+1)}setTimeout(()=>Ok(K))}})})})});Nk.displayName=Pk;var nz={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function rz(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function sz(t,e,n){const r=rz(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return nz[r]}function Ok(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function iz(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var oz=Ck,az=Nk;function Dk(t){const[e,n]=U.useState(void 0);return kh(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(i=>{if(!Array.isArray(i)||!i.length)return;const a=i[0];let l,d;if("borderBoxSize"in a){const f=a.borderBoxSize,p=Array.isArray(f)?f[0]:f;l=p.inlineSize,d=p.blockSize}else l=t.offsetWidth,d=t.offsetHeight;n({width:l,height:d})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}function Lk(t){const e=U.useRef({value:t,previous:t});return U.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}function lz(t,e){return U.useReducer((n,r)=>e[n][r]??n,t)}var Ry=t=>{const{present:e,children:n}=t,r=uz(e),i=typeof n=="function"?n({present:r.isPresent}):U.Children.only(n),a=Bo(r.ref,cz(i));return typeof n=="function"||r.isPresent?U.cloneElement(i,{ref:a}):null};Ry.displayName="Presence";function uz(t){const[e,n]=U.useState(),r=U.useRef({}),i=U.useRef(t),a=U.useRef("none"),l=t?"mounted":"unmounted",[d,f]=lz(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return U.useEffect(()=>{const p=zd(r.current);a.current=d==="mounted"?p:"none"},[d]),kh(()=>{const p=r.current,_=i.current;if(_!==t){const E=a.current,x=zd(p);t?f("MOUNT"):x==="none"||(p==null?void 0:p.display)==="none"?f("UNMOUNT"):f(_&&E!==x?"ANIMATION_OUT":"UNMOUNT"),i.current=t}},[t,f]),kh(()=>{if(e){let p;const _=e.ownerDocument.defaultView??window,v=x=>{const j=zd(r.current).includes(x.animationName);if(x.target===e&&j&&(f("ANIMATION_END"),!i.current)){const R=e.style.animationFillMode;e.style.animationFillMode="forwards",p=_.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=R)})}},E=x=>{x.target===e&&(a.current=zd(r.current))};return e.addEventListener("animationstart",E),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{_.clearTimeout(p),e.removeEventListener("animationstart",E),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(d),ref:U.useCallback(p=>{p&&(r.current=getComputedStyle(p)),n(p)},[])}}function zd(t){return(t==null?void 0:t.animationName)||"none"}function cz(t){var r,i;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(i=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:i.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var Cy="Radio",[dz,Vk]=hc(Cy),[hz,fz]=dz(Cy),Mk=U.forwardRef((t,e)=>{const{__scopeRadio:n,name:r,checked:i=!1,required:a,disabled:l,value:d="on",onCheck:f,form:p,..._}=t,[v,E]=U.useState(null),x=Bo(e,R=>E(R)),A=U.useRef(!1),j=v?p||!!v.closest("form"):!0;return T.jsxs(hz,{scope:n,checked:i,disabled:l,children:[T.jsx(ho.button,{type:"button",role:"radio","aria-checked":i,"data-state":Uk(i),"data-disabled":l?"":void 0,disabled:l,value:d,..._,ref:x,onClick:ds(t.onClick,R=>{i||f==null||f(),j&&(A.current=R.isPropagationStopped(),A.current||R.stopPropagation())})}),j&&T.jsx(pz,{control:v,bubbles:!A.current,name:r,value:d,checked:i,required:a,disabled:l,form:p,style:{transform:"translateX(-100%)"}})]})});Mk.displayName=Cy;var jk="RadioIndicator",Fk=U.forwardRef((t,e)=>{const{__scopeRadio:n,forceMount:r,...i}=t,a=fz(jk,n);return T.jsx(Ry,{present:r||a.checked,children:T.jsx(ho.span,{"data-state":Uk(a.checked),"data-disabled":a.disabled?"":void 0,...i,ref:e})})});Fk.displayName=jk;var pz=t=>{const{control:e,checked:n,bubbles:r=!0,...i}=t,a=U.useRef(null),l=Lk(n),d=Dk(e);return U.useEffect(()=>{const f=a.current,p=window.HTMLInputElement.prototype,v=Object.getOwnPropertyDescriptor(p,"checked").set;if(l!==n&&v){const E=new Event("click",{bubbles:r});v.call(f,n),f.dispatchEvent(E)}},[l,n,r]),T.jsx("input",{type:"radio","aria-hidden":!0,defaultChecked:n,...i,tabIndex:-1,ref:a,style:{...t.style,...d,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function Uk(t){return t?"checked":"unchecked"}var mz=["ArrowUp","ArrowDown","ArrowLeft","ArrowRight"],Py="RadioGroup",[gz]=hc(Py,[Rk,Vk]),zk=Rk(),$k=Vk(),[yz,vz]=gz(Py),Bk=U.forwardRef((t,e)=>{const{__scopeRadioGroup:n,name:r,defaultValue:i,value:a,required:l=!1,disabled:d=!1,orientation:f,dir:p,loop:_=!0,onValueChange:v,...E}=t,x=zk(n),A=xk(p),[j,R]=Ay({prop:a,defaultProp:i,onChange:v});return T.jsx(yz,{scope:n,name:r,required:l,disabled:d,value:j,onValueChange:R,children:T.jsx(oz,{asChild:!0,...x,orientation:f,dir:A,loop:_,children:T.jsx(ho.div,{role:"radiogroup","aria-required":l,"aria-orientation":f,"data-disabled":d?"":void 0,dir:A,...E,ref:e})})})});Bk.displayName=Py;var qk="RadioGroupItem",Hk=U.forwardRef((t,e)=>{const{__scopeRadioGroup:n,disabled:r,...i}=t,a=vz(qk,n),l=a.disabled||r,d=zk(n),f=$k(n),p=U.useRef(null),_=Bo(e,p),v=a.value===i.value,E=U.useRef(!1);return U.useEffect(()=>{const x=j=>{mz.includes(j.key)&&(E.current=!0)},A=()=>E.current=!1;return document.addEventListener("keydown",x),document.addEventListener("keyup",A),()=>{document.removeEventListener("keydown",x),document.removeEventListener("keyup",A)}},[]),T.jsx(az,{asChild:!0,...d,focusable:!l,active:v,children:T.jsx(Mk,{disabled:l,required:a.required,checked:v,...f,...i,name:a.name,ref:_,onCheck:()=>a.onValueChange(i.value),onKeyDown:ds(x=>{x.key==="Enter"&&x.preventDefault()}),onFocus:ds(i.onFocus,()=>{var x;E.current&&((x=p.current)==null||x.click())})})})});Hk.displayName=qk;var _z="RadioGroupIndicator",Wk=U.forwardRef((t,e)=>{const{__scopeRadioGroup:n,...r}=t,i=$k(n);return T.jsx(Fk,{...i,...r,ref:e})});Wk.displayName=_z;var wz=Bk,Ez=Hk,Tz=Wk;function IE({className:t,...e}){return T.jsx(wz,{"data-slot":"radio-group",className:zr("grid gap-3",t),...e})}function Ha({className:t,...e}){return T.jsx(Ez,{"data-slot":"radio-group-item",className:zr("border-input text-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive dark:bg-input/30 aspect-square size-4 shrink-0 rounded-full border shadow-xs transition-[color,box-shadow] outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:T.jsx(Tz,{"data-slot":"radio-group-indicator",className:"relative flex items-center justify-center",children:T.jsx(jA,{className:"fill-primary absolute top-1/2 left-1/2 size-2 -translate-x-1/2 -translate-y-1/2"})})})}var Ny="Checkbox",[Iz]=hc(Ny),[bz,kz]=Iz(Ny),Kk=U.forwardRef((t,e)=>{const{__scopeCheckbox:n,name:r,checked:i,defaultChecked:a,required:l,disabled:d,value:f="on",onCheckedChange:p,form:_,...v}=t,[E,x]=U.useState(null),A=Bo(e,J=>x(J)),j=U.useRef(!1),R=E?_||!!E.closest("form"):!0,[K=!1,$]=Ay({prop:i,defaultProp:a,onChange:p}),ee=U.useRef(K);return U.useEffect(()=>{const J=E==null?void 0:E.form;if(J){const ce=()=>$(ee.current);return J.addEventListener("reset",ce),()=>J.removeEventListener("reset",ce)}},[E,$]),T.jsxs(bz,{scope:n,state:K,disabled:d,children:[T.jsx(ho.button,{type:"button",role:"checkbox","aria-checked":to(K)?"mixed":K,"aria-required":l,"data-state":Qk(K),"data-disabled":d?"":void 0,disabled:d,value:f,...v,ref:A,onKeyDown:ds(t.onKeyDown,J=>{J.key==="Enter"&&J.preventDefault()}),onClick:ds(t.onClick,J=>{$(ce=>to(ce)?!0:!ce),R&&(j.current=J.isPropagationStopped(),j.current||J.stopPropagation())})}),R&&T.jsx(Sz,{control:E,bubbles:!j.current,name:r,value:f,checked:K,required:l,disabled:d,form:_,style:{transform:"translateX(-100%)"},defaultChecked:to(a)?!1:a})]})});Kk.displayName=Ny;var Gk="CheckboxIndicator",Zk=U.forwardRef((t,e)=>{const{__scopeCheckbox:n,forceMount:r,...i}=t,a=kz(Gk,n);return T.jsx(Ry,{present:r||to(a.state)||a.state===!0,children:T.jsx(ho.span,{"data-state":Qk(a.state),"data-disabled":a.disabled?"":void 0,...i,ref:e,style:{pointerEvents:"none",...t.style}})})});Zk.displayName=Gk;var Sz=t=>{const{control:e,checked:n,bubbles:r=!0,defaultChecked:i,...a}=t,l=U.useRef(null),d=Lk(n),f=Dk(e);U.useEffect(()=>{const _=l.current,v=window.HTMLInputElement.prototype,x=Object.getOwnPropertyDescriptor(v,"checked").set;if(d!==n&&x){const A=new Event("click",{bubbles:r});_.indeterminate=to(n),x.call(_,to(n)?!1:n),_.dispatchEvent(A)}},[d,n,r]);const p=U.useRef(to(n)?!1:n);return T.jsx("input",{type:"checkbox","aria-hidden":!0,defaultChecked:i??p.current,...a,tabIndex:-1,ref:l,style:{...t.style,...f,position:"absolute",pointerEvents:"none",opacity:0,margin:0}})};function to(t){return t==="indeterminate"}function Qk(t){return to(t)?"indeterminate":t?"checked":"unchecked"}var xz=Kk,Az=Zk;function bE({className:t,...e}){return T.jsx(xz,{"data-slot":"checkbox",className:zr("peer border bg-input-background dark:bg-input/30 data-[state=checked]:bg-primary data-[state=checked]:text-primary-foreground dark:data-[state=checked]:bg-primary data-[state=checked]:border-primary focus-visible:border-ring focus-visible:ring-ring/50 aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive size-4 shrink-0 rounded-[4px] border shadow-xs transition-shadow outline-none focus-visible:ring-[3px] disabled:cursor-not-allowed disabled:opacity-50",t),...e,children:T.jsx(Az,{"data-slot":"checkbox-indicator",className:"flex items-center justify-center text-current transition-none",children:T.jsx(Ka,{className:"size-3.5"})})})}var lm,kE;function Rz(){if(kE)return lm;kE=1;var t=typeof Element<"u",e=typeof Map=="function",n=typeof Set=="function",r=typeof ArrayBuffer=="function"&&!!ArrayBuffer.isView;function i(a,l){if(a===l)return!0;if(a&&l&&typeof a=="object"&&typeof l=="object"){if(a.constructor!==l.constructor)return!1;var d,f,p;if(Array.isArray(a)){if(d=a.length,d!=l.length)return!1;for(f=d;f--!==0;)if(!i(a[f],l[f]))return!1;return!0}var _;if(e&&a instanceof Map&&l instanceof Map){if(a.size!==l.size)return!1;for(_=a.entries();!(f=_.next()).done;)if(!l.has(f.value[0]))return!1;for(_=a.entries();!(f=_.next()).done;)if(!i(f.value[1],l.get(f.value[0])))return!1;return!0}if(n&&a instanceof Set&&l instanceof Set){if(a.size!==l.size)return!1;for(_=a.entries();!(f=_.next()).done;)if(!l.has(f.value[0]))return!1;return!0}if(r&&ArrayBuffer.isView(a)&&ArrayBuffer.isView(l)){if(d=a.length,d!=l.length)return!1;for(f=d;f--!==0;)if(a[f]!==l[f])return!1;return!0}if(a.constructor===RegExp)return a.source===l.source&&a.flags===l.flags;if(a.valueOf!==Object.prototype.valueOf&&typeof a.valueOf=="function"&&typeof l.valueOf=="function")return a.valueOf()===l.valueOf();if(a.toString!==Object.prototype.toString&&typeof a.toString=="function"&&typeof l.toString=="function")return a.toString()===l.toString();if(p=Object.keys(a),d=p.length,d!==Object.keys(l).length)return!1;for(f=d;f--!==0;)if(!Object.prototype.hasOwnProperty.call(l,p[f]))return!1;if(t&&a instanceof Element)return!1;for(f=d;f--!==0;)if(!((p[f]==="_owner"||p[f]==="__v"||p[f]==="__o")&&a.$$typeof)&&!i(a[p[f]],l[p[f]]))return!1;return!0}return a!==a&&l!==l}return lm=function(l,d){try{return i(l,d)}catch(f){if((f.message||"").match(/stack|recursion/i))return console.warn("react-fast-compare cannot handle circular refs"),!1;throw f}},lm}var Cz=Rz();const Pz=vl(Cz);var um,SE;function Nz(){if(SE)return um;SE=1;var t=function(e,n,r,i,a,l,d,f){if(!e){var p;if(n===void 0)p=new Error("Minified exception occurred; use the non-minified dev environment for the full error message and additional helpful warnings.");else{var _=[r,i,a,l,d,f],v=0;p=new Error(n.replace(/%s/g,function(){return _[v++]})),p.name="Invariant Violation"}throw p.framesToPop=1,p}};return um=t,um}var Oz=Nz();const xE=vl(Oz);var cm,AE;function Dz(){return AE||(AE=1,cm=function(e,n,r,i){var a=r?r.call(i,e,n):void 0;if(a!==void 0)return!!a;if(e===n)return!0;if(typeof e!="object"||!e||typeof n!="object"||!n)return!1;var l=Object.keys(e),d=Object.keys(n);if(l.length!==d.length)return!1;for(var f=Object.prototype.hasOwnProperty.bind(n),p=0;p<l.length;p++){var _=l[p];if(!f(_))return!1;var v=e[_],E=n[_];if(a=r?r.call(i,v,E,_):void 0,a===!1||a===void 0&&v!==E)return!1}return!0}),cm}var Lz=Dz();const Vz=vl(Lz);var Yk=(t=>(t.BASE="base",t.BODY="body",t.HEAD="head",t.HTML="html",t.LINK="link",t.META="meta",t.NOSCRIPT="noscript",t.SCRIPT="script",t.STYLE="style",t.TITLE="title",t.FRAGMENT="Symbol(react.fragment)",t))(Yk||{}),dm={link:{rel:["amphtml","canonical","alternate"]},script:{type:["application/ld+json"]},meta:{charset:"",name:["generator","robots","description"],property:["og:type","og:title","og:url","og:image","og:image:alt","og:description","twitter:url","twitter:title","twitter:description","twitter:image","twitter:image:alt","twitter:card","twitter:site"]}},RE=Object.values(Yk),Oy={accesskey:"accessKey",charset:"charSet",class:"className",contenteditable:"contentEditable",contextmenu:"contextMenu","http-equiv":"httpEquiv",itemprop:"itemProp",tabindex:"tabIndex"},Mz=Object.entries(Oy).reduce((t,[e,n])=>(t[n]=e,t),{}),cs="data-rh",il={DEFAULT_TITLE:"defaultTitle",DEFER:"defer",ENCODE_SPECIAL_CHARACTERS:"encodeSpecialCharacters",ON_CHANGE_CLIENT_STATE:"onChangeClientState",TITLE_TEMPLATE:"titleTemplate",PRIORITIZE_SEO_TAGS:"prioritizeSeoTags"},ol=(t,e)=>{for(let n=t.length-1;n>=0;n-=1){const r=t[n];if(Object.prototype.hasOwnProperty.call(r,e))return r[e]}return null},jz=t=>{let e=ol(t,"title");const n=ol(t,il.TITLE_TEMPLATE);if(Array.isArray(e)&&(e=e.join("")),n&&e)return n.replace(/%s/g,()=>e);const r=ol(t,il.DEFAULT_TITLE);return e||r||void 0},Fz=t=>ol(t,il.ON_CHANGE_CLIENT_STATE)||(()=>{}),hm=(t,e)=>e.filter(n=>typeof n[t]<"u").map(n=>n[t]).reduce((n,r)=>({...n,...r}),{}),Uz=(t,e)=>e.filter(n=>typeof n.base<"u").map(n=>n.base).reverse().reduce((n,r)=>{if(!n.length){const i=Object.keys(r);for(let a=0;a<i.length;a+=1){const d=i[a].toLowerCase();if(t.indexOf(d)!==-1&&r[d])return n.concat(r)}}return n},[]),zz=t=>console&&typeof console.warn=="function"&&console.warn(t),vu=(t,e,n)=>{const r={};return n.filter(i=>Array.isArray(i[t])?!0:(typeof i[t]<"u"&&zz(`Helmet: ${t} should be of type "Array". Instead found type "${typeof i[t]}"`),!1)).map(i=>i[t]).reverse().reduce((i,a)=>{const l={};a.filter(f=>{let p;const _=Object.keys(f);for(let E=0;E<_.length;E+=1){const x=_[E],A=x.toLowerCase();e.indexOf(A)!==-1&&!(p==="rel"&&f[p].toLowerCase()==="canonical")&&!(A==="rel"&&f[A].toLowerCase()==="stylesheet")&&(p=A),e.indexOf(x)!==-1&&(x==="innerHTML"||x==="cssText"||x==="itemprop")&&(p=x)}if(!p||!f[p])return!1;const v=f[p].toLowerCase();return r[p]||(r[p]={}),l[p]||(l[p]={}),r[p][v]?!1:(l[p][v]=!0,!0)}).reverse().forEach(f=>i.push(f));const d=Object.keys(l);for(let f=0;f<d.length;f+=1){const p=d[f],_={...r[p],...l[p]};r[p]=_}return i},[]).reverse()},$z=(t,e)=>{if(Array.isArray(t)&&t.length){for(let n=0;n<t.length;n+=1)if(t[n][e])return!0}return!1},Bz=t=>({baseTag:Uz(["href"],t),bodyAttributes:hm("bodyAttributes",t),defer:ol(t,il.DEFER),encode:ol(t,il.ENCODE_SPECIAL_CHARACTERS),htmlAttributes:hm("htmlAttributes",t),linkTags:vu("link",["rel","href"],t),metaTags:vu("meta",["name","charset","http-equiv","property","itemprop"],t),noscriptTags:vu("noscript",["innerHTML"],t),onChangeClientState:Fz(t),scriptTags:vu("script",["src","innerHTML"],t),styleTags:vu("style",["cssText"],t),title:jz(t),titleAttributes:hm("titleAttributes",t),prioritizeSeoTags:$z(t,il.PRIORITIZE_SEO_TAGS)}),Jk=t=>Array.isArray(t)?t.join(""):t,qz=(t,e)=>{const n=Object.keys(t);for(let r=0;r<n.length;r+=1)if(e[n[r]]&&e[n[r]].includes(t[n[r]]))return!0;return!1},fm=(t,e)=>Array.isArray(t)?t.reduce((n,r)=>(qz(r,e)?n.priority.push(r):n.default.push(r),n),{priority:[],default:[]}):{default:t,priority:[]},CE=(t,e)=>({...t,[e]:void 0}),Hz=["noscript","script","style"],ig=(t,e=!0)=>e===!1?String(t):String(t).replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;").replace(/"/g,"&quot;").replace(/'/g,"&#x27;"),Xk=t=>Object.keys(t).reduce((e,n)=>{const r=typeof t[n]<"u"?`${n}="${t[n]}"`:`${n}`;return e?`${e} ${r}`:r},""),Wz=(t,e,n,r)=>{const i=Xk(n),a=Jk(e);return i?`<${t} ${cs}="true" ${i}>${ig(a,r)}</${t}>`:`<${t} ${cs}="true">${ig(a,r)}</${t}>`},Kz=(t,e,n=!0)=>e.reduce((r,i)=>{const a=i,l=Object.keys(a).filter(p=>!(p==="innerHTML"||p==="cssText")).reduce((p,_)=>{const v=typeof a[_]>"u"?_:`${_}="${ig(a[_],n)}"`;return p?`${p} ${v}`:v},""),d=a.innerHTML||a.cssText||"",f=Hz.indexOf(t)===-1;return`${r}<${t} ${cs}="true" ${l}${f?"/>":`>${d}</${t}>`}`},""),eS=(t,e={})=>Object.keys(t).reduce((n,r)=>{const i=Oy[r];return n[i||r]=t[r],n},e),Gz=(t,e,n)=>{const r={key:e,[cs]:!0},i=eS(n,r);return[se.createElement("title",i,e)]},Xd=(t,e)=>e.map((n,r)=>{const i={key:r,[cs]:!0};return Object.keys(n).forEach(a=>{const d=Oy[a]||a;if(d==="innerHTML"||d==="cssText"){const f=n.innerHTML||n.cssText;i.dangerouslySetInnerHTML={__html:f}}else i[d]=n[a]}),se.createElement(t,i)}),Fr=(t,e,n=!0)=>{switch(t){case"title":return{toComponent:()=>Gz(t,e.title,e.titleAttributes),toString:()=>Wz(t,e.title,e.titleAttributes,n)};case"bodyAttributes":case"htmlAttributes":return{toComponent:()=>eS(e),toString:()=>Xk(e)};default:return{toComponent:()=>Xd(t,e),toString:()=>Kz(t,e,n)}}},Zz=({metaTags:t,linkTags:e,scriptTags:n,encode:r})=>{const i=fm(t,dm.meta),a=fm(e,dm.link),l=fm(n,dm.script);return{priorityMethods:{toComponent:()=>[...Xd("meta",i.priority),...Xd("link",a.priority),...Xd("script",l.priority)],toString:()=>`${Fr("meta",i.priority,r)} ${Fr("link",a.priority,r)} ${Fr("script",l.priority,r)}`},metaTags:i.default,linkTags:a.default,scriptTags:l.default}},Qz=t=>{const{baseTag:e,bodyAttributes:n,encode:r=!0,htmlAttributes:i,noscriptTags:a,styleTags:l,title:d="",titleAttributes:f,prioritizeSeoTags:p}=t;let{linkTags:_,metaTags:v,scriptTags:E}=t,x={toComponent:()=>{},toString:()=>""};return p&&({priorityMethods:x,linkTags:_,metaTags:v,scriptTags:E}=Zz(t)),{priority:x,base:Fr("base",e,r),bodyAttributes:Fr("bodyAttributes",n,r),htmlAttributes:Fr("htmlAttributes",i,r),link:Fr("link",_,r),meta:Fr("meta",v,r),noscript:Fr("noscript",a,r),script:Fr("script",E,r),style:Fr("style",l,r),title:Fr("title",{title:d,titleAttributes:f},r)}},og=Qz,$d=[],tS=!!(typeof window<"u"&&window.document&&window.document.createElement),ag=class{constructor(t,e){ri(this,"instances",[]);ri(this,"canUseDOM",tS);ri(this,"context");ri(this,"value",{setHelmet:t=>{this.context.helmet=t},helmetInstances:{get:()=>this.canUseDOM?$d:this.instances,add:t=>{(this.canUseDOM?$d:this.instances).push(t)},remove:t=>{const e=(this.canUseDOM?$d:this.instances).indexOf(t);(this.canUseDOM?$d:this.instances).splice(e,1)}}});this.context=t,this.canUseDOM=e||!1,e||(t.helmet=og({baseTag:[],bodyAttributes:{},htmlAttributes:{},linkTags:[],metaTags:[],noscriptTags:[],scriptTags:[],styleTags:[],title:"",titleAttributes:{}}))}},Yz={},nS=se.createContext(Yz),Uo,rS=(Uo=class extends U.Component{constructor(n){super(n);ri(this,"helmetData");this.helmetData=new ag(this.props.context||{},Uo.canUseDOM)}render(){return se.createElement(nS.Provider,{value:this.helmetData.value},this.props.children)}},ri(Uo,"canUseDOM",tS),Uo),Wa=(t,e)=>{const n=document.head||document.querySelector("head"),r=n.querySelectorAll(`${t}[${cs}]`),i=[].slice.call(r),a=[];let l;return e&&e.length&&e.forEach(d=>{const f=document.createElement(t);for(const p in d)if(Object.prototype.hasOwnProperty.call(d,p))if(p==="innerHTML")f.innerHTML=d.innerHTML;else if(p==="cssText")f.styleSheet?f.styleSheet.cssText=d.cssText:f.appendChild(document.createTextNode(d.cssText));else{const _=p,v=typeof d[_]>"u"?"":d[_];f.setAttribute(p,v)}f.setAttribute(cs,"true"),i.some((p,_)=>(l=_,f.isEqualNode(p)))?i.splice(l,1):a.push(f)}),i.forEach(d=>{var f;return(f=d.parentNode)==null?void 0:f.removeChild(d)}),a.forEach(d=>n.appendChild(d)),{oldTags:i,newTags:a}},lg=(t,e)=>{const n=document.getElementsByTagName(t)[0];if(!n)return;const r=n.getAttribute(cs),i=r?r.split(","):[],a=[...i],l=Object.keys(e);for(const d of l){const f=e[d]||"";n.getAttribute(d)!==f&&n.setAttribute(d,f),i.indexOf(d)===-1&&i.push(d);const p=a.indexOf(d);p!==-1&&a.splice(p,1)}for(let d=a.length-1;d>=0;d-=1)n.removeAttribute(a[d]);i.length===a.length?n.removeAttribute(cs):n.getAttribute(cs)!==l.join(",")&&n.setAttribute(cs,l.join(","))},Jz=(t,e)=>{typeof t<"u"&&document.title!==t&&(document.title=Jk(t)),lg("title",e)},PE=(t,e)=>{const{baseTag:n,bodyAttributes:r,htmlAttributes:i,linkTags:a,metaTags:l,noscriptTags:d,onChangeClientState:f,scriptTags:p,styleTags:_,title:v,titleAttributes:E}=t;lg("body",r),lg("html",i),Jz(v,E);const x={baseTag:Wa("base",n),linkTags:Wa("link",a),metaTags:Wa("meta",l),noscriptTags:Wa("noscript",d),scriptTags:Wa("script",p),styleTags:Wa("style",_)},A={},j={};Object.keys(x).forEach(R=>{const{newTags:K,oldTags:$}=x[R];K.length&&(A[R]=K),$.length&&(j[R]=x[R].oldTags)}),e&&e(),f(t,A,j)},_u=null,Xz=t=>{_u&&cancelAnimationFrame(_u),t.defer?_u=requestAnimationFrame(()=>{PE(t,()=>{_u=null})}):(PE(t),_u=null)},e9=Xz,NE=class extends U.Component{constructor(){super(...arguments);ri(this,"rendered",!1)}shouldComponentUpdate(e){return!Vz(e,this.props)}componentDidUpdate(){this.emitChange()}componentWillUnmount(){const{helmetInstances:e}=this.props.context;e.remove(this),this.emitChange()}emitChange(){const{helmetInstances:e,setHelmet:n}=this.props.context;let r=null;const i=Bz(e.get().map(a=>{const l={...a.props};return delete l.context,l}));rS.canUseDOM?e9(i):og&&(r=og(i)),n(r)}init(){if(this.rendered)return;this.rendered=!0;const{helmetInstances:e}=this.props.context;e.add(this),this.emitChange()}render(){return this.init(),null}},mm,t9=(mm=class extends U.Component{shouldComponentUpdate(t){return!Pz(CE(this.props,"helmetData"),CE(t,"helmetData"))}mapNestedChildrenToProps(t,e){if(!e)return null;switch(t.type){case"script":case"noscript":return{innerHTML:e};case"style":return{cssText:e};default:throw new Error(`<${t.type} /> elements are self-closing and can not contain children. Refer to our API for more information.`)}}flattenArrayTypeChildren(t,e,n,r){return{...e,[t.type]:[...e[t.type]||[],{...n,...this.mapNestedChildrenToProps(t,r)}]}}mapObjectTypeChildren(t,e,n,r){switch(t.type){case"title":return{...e,[t.type]:r,titleAttributes:{...n}};case"body":return{...e,bodyAttributes:{...n}};case"html":return{...e,htmlAttributes:{...n}};default:return{...e,[t.type]:{...n}}}}mapArrayTypeChildrenToProps(t,e){let n={...e};return Object.keys(t).forEach(r=>{n={...n,[r]:t[r]}}),n}warnOnInvalidChildren(t,e){return xE(RE.some(n=>t.type===n),typeof t.type=="function"?"You may be attempting to nest <Helmet> components within each other, which is not allowed. Refer to our API for more information.":`Only elements types ${RE.join(", ")} are allowed. Helmet does not support rendering <${t.type}> elements. Refer to our API for more information.`),xE(!e||typeof e=="string"||Array.isArray(e)&&!e.some(n=>typeof n!="string"),`Helmet expects a string as a child of <${t.type}>. Did you forget to wrap your children in braces? ( <${t.type}>{\`\`}</${t.type}> ) Refer to our API for more information.`),!0}mapChildrenToProps(t,e){let n={};return se.Children.forEach(t,r=>{if(!r||!r.props)return;const{children:i,...a}=r.props,l=Object.keys(a).reduce((f,p)=>(f[Mz[p]||p]=a[p],f),{});let{type:d}=r;switch(typeof d=="symbol"?d=d.toString():this.warnOnInvalidChildren(r,i),d){case"Symbol(react.fragment)":e=this.mapChildrenToProps(i,e);break;case"link":case"meta":case"noscript":case"script":case"style":n=this.flattenArrayTypeChildren(r,n,l,i);break;default:e=this.mapObjectTypeChildren(r,e,l,i);break}}),this.mapArrayTypeChildrenToProps(n,e)}render(){const{children:t,...e}=this.props;let n={...e},{helmetData:r}=e;if(t&&(n=this.mapChildrenToProps(t,n)),r&&!(r instanceof ag)){const i=r;r=new ag(i.context,!0),delete n.helmetData}return r?se.createElement(NE,{...n,context:r.value}):se.createElement(nS.Consumer,null,i=>se.createElement(NE,{...n,context:i}))}},ri(mm,"defaultProps",{defer:!0,encodeSpecialCharacters:!0,prioritizeSeoTags:!1}),mm);const n9="Tourism | Kyrgyz Riders",r9="Plan Kyrgyzstan tours with curated itineraries, cultural experiences, and mountain adventures.",s9="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?auto=format&fit=crop&w=1200&q=80";function OE({title:t,description:e,image:n,url:r}){const i=t?`${t} | Kyrgyz Riders`:n9,a=e||r9,l=n||s9;return T.jsxs(t9,{children:[T.jsx("title",{children:i}),T.jsx("meta",{name:"description",content:a}),T.jsx("meta",{property:"og:title",content:i}),T.jsx("meta",{property:"og:description",content:a}),T.jsx("meta",{property:"og:image",content:l}),T.jsx("meta",{property:"og:type",content:"website"}),r&&T.jsx("meta",{property:"og:url",content:r}),T.jsx("meta",{name:"twitter:card",content:"summary_large_image"}),T.jsx("meta",{name:"twitter:title",content:i}),T.jsx("meta",{name:"twitter:description",content:a}),T.jsx("meta",{name:"twitter:image",content:l})]})}const i9=HF({groupSize:pU().min(1,"Group size is required."),startDate:br().min(1,"Start date is required."),endDate:br().min(1,"End date is required."),startLocation:br().min(1),endLocation:br().min(1),sights:eg(br()).optional(),activities:eg(br()).optional(),pace:br().min(1),accommodation:br().min(1),name:br().min(1,"Name is required."),email:br().email(),phone:br().min(1,"Phone is required."),budget:br().optional(),specialRequests:br().optional()});function o9(){var D,V;const{user:t,profile:e}=py(),[n,r]=U.useState(1),[i,a]=U.useState(!1),[l,d]=U.useState(!1),[f,p]=U.useState(null),_=Yu(),v=4,{register:E,handleSubmit:x,setValue:A,watch:j,trigger:R,formState:{errors:K}}=DU({resolver:jU(i9),defaultValues:{groupSize:1,startDate:"",endDate:"",startLocation:"bishkek",endLocation:"bishkek",sights:[],activities:[],pace:"moderate",accommodation:"mix",name:"",email:"",phone:"",budget:"",specialRequests:""}}),$=j();U.useEffect(()=>{!$.name&&(e!=null&&e.name)&&A("name",e.name,{shouldDirty:!1}),!$.email&&(e!=null&&e.email||t!=null&&t.email)&&A("email",(e==null?void 0:e.email)||(t==null?void 0:t.email)||"",{shouldDirty:!1})},[$.email,$.name,e==null?void 0:e.email,e==null?void 0:e.name,A,t==null?void 0:t.email]);const ee=[{id:"song-kul",label:"Song-Kul Lake"},{id:"issyk-kul",label:"Issyk-Kul Lake"},{id:"ala-archa",label:"Ala-Archa National Park"},{id:"tash-rabat",label:"Tash Rabat Caravanserai"},{id:"jeti-oguz",label:"Jeti-Oguz (Seven Bulls)"},{id:"skazka",label:"Skazka Canyon"},{id:"burana",label:"Burana Tower"},{id:"osh",label:"Osh & Solomon's Throne"}],J=[{id:"trekking",label:"Trekking & Hiking"},{id:"horse-riding",label:"Horse Riding"},{id:"yurt-stay",label:"Yurt Stay Experience"},{id:"cultural",label:"Cultural Activities"},{id:"wildlife",label:"Wildlife Watching"},{id:"photography",label:"Photography Tours"},{id:"mountaineering",label:"Mountaineering"},{id:"cycling",label:"Mountain Biking"}],ce=P=>{const S=$.sights||[],De=S.includes(P)?S.filter(Le=>Le!==P):[...S,P];A("sights",De,{shouldDirty:!0})},_e=P=>{const S=$.activities||[],De=S.includes(P)?S.filter(Le=>Le!==P):[...S,P];A("activities",De,{shouldDirty:!0})},L=async()=>{p(null);const P=n===1?["groupSize","startDate","endDate"]:n===4?["name","email","phone"]:[];if(P.length&&!await R(P)){p("Please complete the required fields before continuing.");return}n<v&&r(n+1)},b=()=>{n>1&&r(n-1)},C=async P=>{if(p(null),!tf){p("Backend is not configured. Please update your .env file.");return}if(!t){p("Please sign in to submit a custom tour request.");return}d(!0);try{await tV({...P,sights:P.sights||[],activities:P.activities||[],userId:t.uid}),a(!0)}catch(S){p(S instanceof Error?S.message:"Unable to submit your request.")}finally{d(!1)}};return i?T.jsxs(T.Fragment,{children:[T.jsx(OE,{title:"Custom Tour Request",description:"Submit a custom tour request and build a tailored Kyrgyzstan journey."}),T.jsx("div",{className:"min-h-screen bg-muted py-12 px-4",children:T.jsx("div",{className:"max-w-2xl mx-auto",children:T.jsxs("div",{className:"bg-card rounded-lg shadow-md p-6 sm:p-8 text-center",children:[T.jsx("div",{className:"w-16 h-16 bg-secondary/20 rounded-full flex items-center justify-center mx-auto mb-6",children:T.jsx(Ka,{className:"h-8 w-8 text-secondary"})}),T.jsx("h2",{className:"text-2xl sm:text-3xl text-foreground mb-4",children:"Custom Tour Request Submitted!"}),T.jsx("p",{className:"text-lg text-muted-foreground mb-8",children:"Thank you for your interest in creating a custom tour. Our team will review your requirements and get back to you within 24-48 hours with a personalized itinerary and pricing."}),T.jsxs("div",{className:"bg-accent rounded-lg p-6 mb-8 text-left",children:[T.jsx("h3",{className:"text-lg text-foreground mb-4",children:"What happens next?"}),T.jsxs("ul",{className:"space-y-3 text-muted-foreground",children:[T.jsxs("li",{className:"flex items-start gap-3",children:[T.jsx(Ka,{className:"h-5 w-5 text-secondary flex-shrink-0 mt-1"}),T.jsx("span",{children:"Our tour specialists will design a custom itinerary based on your preferences"})]}),T.jsxs("li",{className:"flex items-start gap-3",children:[T.jsx(Ka,{className:"h-5 w-5 text-secondary flex-shrink-0 mt-1"}),T.jsx("span",{children:"We'll send you a detailed proposal with day-by-day activities and pricing"})]}),T.jsxs("li",{className:"flex items-start gap-3",children:[T.jsx(Ka,{className:"h-5 w-5 text-secondary flex-shrink-0 mt-1"}),T.jsx("span",{children:"You can request modifications until the itinerary perfectly fits your needs"})]}),T.jsxs("li",{className:"flex items-start gap-3",children:[T.jsx(Ka,{className:"h-5 w-5 text-secondary flex-shrink-0 mt-1"}),T.jsx("span",{children:"Once confirmed, we'll handle all bookings and logistics"})]})]})]}),T.jsx(Ur,{onClick:()=>_("/"),className:"btn-micro bg-primary hover:bg-primary/90 text-primary-foreground",children:"Return to Home"})]})})})]}):T.jsxs("div",{className:"min-h-screen bg-muted py-12 px-4",children:[T.jsx(OE,{title:"Custom Tour",description:"Design a custom Kyrgyzstan itinerary with your preferred dates and activities."}),T.jsxs("div",{className:"max-w-4xl mx-auto",children:[!t&&T.jsxs("div",{className:"bg-card border border-border rounded-lg p-4 mb-6 text-sm text-muted-foreground flex flex-col sm:flex-row sm:items-center sm:justify-between gap-4",children:[T.jsxs("div",{children:[T.jsx("p",{className:"text-foreground font-medium mb-2",children:"Sign in required"}),T.jsx("p",{children:"Please sign in before submitting a custom tour request."})]}),T.jsx(Ur,{variant:"outline",onClick:()=>_("/auth?next=/custom-tour"),children:"Sign In"})]}),T.jsxs("div",{className:"mb-8",children:[T.jsxs(Ur,{onClick:()=>_("/tours"),variant:"outline",className:"mb-4",children:[T.jsx(ow,{className:"h-4 w-4 mr-2"}),"Back to Tours"]}),T.jsx("h1",{className:"text-3xl sm:text-4xl text-foreground mb-4",children:"Create Your Custom Tour"}),T.jsx("p",{className:"text-base sm:text-lg text-muted-foreground",children:"Design your perfect adventure in Kyrgyzstan with our help"})]}),T.jsxs("div",{className:"mb-8",children:[T.jsx("div",{className:"flex items-center justify-between mb-2",children:[1,2,3,4].map(P=>T.jsxs("div",{className:"flex items-center flex-1",children:[T.jsx("div",{className:`flex items-center justify-center w-10 h-10 rounded-full ${n>=P?"bg-primary text-primary-foreground":"bg-muted text-muted-foreground"}`,children:P}),P<4&&T.jsx("div",{className:`flex-1 h-1 mx-2 ${n>P?"bg-primary":"bg-muted"}`})]},P))}),T.jsxs("div",{className:"grid grid-cols-2 gap-2 text-xs text-muted-foreground sm:flex sm:justify-between sm:text-sm",children:[T.jsx("span",{children:"Basics"}),T.jsx("span",{children:"Destinations"}),T.jsx("span",{children:"Preferences"}),T.jsx("span",{children:"Contact"})]})]}),T.jsxs("form",{onSubmit:x(C),className:"bg-card rounded-lg shadow-md p-6 sm:p-8",children:[n===1&&T.jsxs("div",{className:"space-y-6",children:[T.jsx("h2",{className:"text-xl sm:text-2xl text-foreground mb-6",children:"Basic Information"}),T.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[T.jsxs("div",{children:[T.jsxs(Cn,{htmlFor:"groupSize",children:[T.jsx(rR,{className:"h-4 w-4 inline mr-2"}),"Group Size"]}),T.jsx(Lo,{id:"groupSize",type:"number",min:"1",placeholder:"e.g., 4",...E("groupSize",{valueAsNumber:!0})}),K.groupSize&&T.jsx("p",{className:"text-xs text-red-600",children:K.groupSize.message})]}),T.jsxs("div",{children:[T.jsx(Cn,{htmlFor:"budget",children:"Approximate Budget (USD)"}),T.jsx(Lo,{id:"budget",placeholder:"e.g., $2000 per person",...E("budget")})]}),T.jsxs("div",{children:[T.jsxs(Cn,{htmlFor:"startDate",children:[T.jsx(aw,{className:"h-4 w-4 inline mr-2"}),"Start Date"]}),T.jsx(Lo,{id:"startDate",type:"date",...E("startDate")}),K.startDate&&T.jsx("p",{className:"text-xs text-red-600",children:K.startDate.message})]}),T.jsxs("div",{children:[T.jsxs(Cn,{htmlFor:"endDate",children:[T.jsx(aw,{className:"h-4 w-4 inline mr-2"}),"End Date"]}),T.jsx(Lo,{id:"endDate",type:"date",...E("endDate")}),K.endDate&&T.jsx("p",{className:"text-xs text-red-600",children:K.endDate.message})]}),T.jsxs("div",{children:[T.jsxs(Cn,{htmlFor:"startLocation",children:[T.jsx(Em,{className:"h-4 w-4 inline mr-2"}),"Starting Location"]}),T.jsxs("select",{id:"startLocation",className:"w-full h-10 px-3 rounded-md border border-border bg-card text-sm",...E("startLocation"),children:[T.jsx("option",{value:"bishkek",children:"Bishkek"}),T.jsx("option",{value:"osh",children:"Osh"}),T.jsx("option",{value:"karakol",children:"Karakol"})]})]}),T.jsxs("div",{children:[T.jsxs(Cn,{htmlFor:"endLocation",children:[T.jsx(Em,{className:"h-4 w-4 inline mr-2"}),"Ending Location"]}),T.jsxs("select",{id:"endLocation",className:"w-full h-10 px-3 rounded-md border border-border bg-card text-sm",...E("endLocation"),children:[T.jsx("option",{value:"bishkek",children:"Bishkek"}),T.jsx("option",{value:"osh",children:"Osh"}),T.jsx("option",{value:"karakol",children:"Karakol"})]})]})]})]}),n===2&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl sm:text-2xl text-foreground mb-2",children:"Destinations & Sights"}),T.jsx("p",{className:"text-muted-foreground mb-6",children:"Select the places you'd like to visit"})]}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:ee.map(P=>T.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${($.sights||[]).includes(P.id)?"border-primary bg-accent":"border-border hover:border-primary/50"}`,onClick:()=>ce(P.id),children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(bE,{checked:($.sights||[]).includes(P.id),onCheckedChange:()=>ce(P.id)}),T.jsx("label",{className:"cursor-pointer flex-1",children:P.label})]})},P.id))})]}),n===3&&T.jsxs("div",{className:"space-y-8",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl sm:text-2xl text-foreground mb-2",children:"Activities & Preferences"}),T.jsx("p",{className:"text-muted-foreground mb-6",children:"Choose your preferred activities and tour style"})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg text-foreground mb-4",children:"Desired Activities"}),T.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:J.map(P=>T.jsx("div",{className:`p-4 border-2 rounded-lg cursor-pointer transition-all ${($.activities||[]).includes(P.id)?"border-primary bg-accent":"border-border hover:border-primary/50"}`,onClick:()=>_e(P.id),children:T.jsxs("div",{className:"flex items-center gap-3",children:[T.jsx(bE,{checked:($.activities||[]).includes(P.id),onCheckedChange:()=>_e(P.id)}),T.jsx("label",{className:"cursor-pointer flex-1",children:P.label})]})},P.id))})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg text-foreground mb-4",children:"Tour Pace"}),T.jsx(IE,{value:$.pace,onValueChange:P=>A("pace",P,{shouldDirty:!0}),children:T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[T.jsx(Ha,{value:"relaxed",id:"relaxed"}),T.jsxs("div",{className:"flex-1",children:[T.jsx(Cn,{htmlFor:"relaxed",className:"cursor-pointer",children:"Relaxed"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Easy pace with plenty of rest time and flexibility"})]})]}),T.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[T.jsx(Ha,{value:"moderate",id:"moderate"}),T.jsxs("div",{className:"flex-1",children:[T.jsx(Cn,{htmlFor:"moderate",className:"cursor-pointer",children:"Moderate"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Balanced pace with mix of activities and rest"})]})]}),T.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[T.jsx(Ha,{value:"active",id:"active"}),T.jsxs("div",{className:"flex-1",children:[T.jsx(Cn,{htmlFor:"active",className:"cursor-pointer",children:"Active"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Fast-paced with maximum activities and sights"})]})]})]})})]}),T.jsxs("div",{children:[T.jsx("h3",{className:"text-lg text-foreground mb-4",children:"Accommodation Type"}),T.jsx(IE,{value:$.accommodation,onValueChange:P=>A("accommodation",P,{shouldDirty:!0}),children:T.jsxs("div",{className:"space-y-3",children:[T.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[T.jsx(Ha,{value:"hotels",id:"hotels"}),T.jsxs("div",{className:"flex-1",children:[T.jsx(Cn,{htmlFor:"hotels",className:"cursor-pointer",children:"Hotels & Guesthouses"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Comfortable hotels and local guesthouses"})]})]}),T.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[T.jsx(Ha,{value:"mix",id:"mix"}),T.jsxs("div",{className:"flex-1",children:[T.jsx(Cn,{htmlFor:"mix",className:"cursor-pointer",children:"Mix (Hotels + Yurts)"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Combination of hotels and traditional yurt stays"})]})]}),T.jsxs("div",{className:"flex items-start gap-3 p-4 border rounded-lg",children:[T.jsx(Ha,{value:"camping",id:"camping"}),T.jsxs("div",{className:"flex-1",children:[T.jsx(Cn,{htmlFor:"camping",className:"cursor-pointer",children:"Camping & Yurts"}),T.jsx("p",{className:"text-sm text-muted-foreground",children:"Authentic outdoor experience with camping and yurts"})]})]})]})})]})]}),n===4&&T.jsxs("div",{className:"space-y-6",children:[T.jsxs("div",{children:[T.jsx("h2",{className:"text-xl sm:text-2xl text-foreground mb-2",children:"Contact Information"}),T.jsx("p",{className:"text-muted-foreground mb-6",children:"Let us know how to reach you with your custom itinerary"})]}),T.jsxs("div",{className:"space-y-4",children:[T.jsxs("div",{children:[T.jsx(Cn,{htmlFor:"name",children:"Full Name *"}),T.jsx(Lo,{id:"name",placeholder:"John Doe",...E("name")}),K.name&&T.jsx("p",{className:"text-xs text-red-600",children:K.name.message})]}),T.jsxs("div",{children:[T.jsx(Cn,{htmlFor:"email",children:"Email Address *"}),T.jsx(Lo,{id:"email",type:"email",placeholder:"john@example.com",...E("email")}),K.email&&T.jsx("p",{className:"text-xs text-red-600",children:K.email.message})]}),T.jsxs("div",{children:[T.jsx(Cn,{htmlFor:"phone",children:"Phone Number *"}),T.jsx(Lo,{id:"phone",placeholder:"+1 234 567 8900",...E("phone")}),K.phone&&T.jsx("p",{className:"text-xs text-red-600",children:K.phone.message})]}),T.jsxs("div",{children:[T.jsx(Cn,{htmlFor:"specialRequests",children:"Special Requests or Additional Information"}),T.jsx($U,{id:"specialRequests",placeholder:"Any dietary restrictions, accessibility needs, or special interests...",rows:5,...E("specialRequests")})]})]}),T.jsxs("div",{className:"bg-accent rounded-lg p-6 mt-6",children:[T.jsx("h3",{className:"text-lg text-foreground mb-3",children:"Tour Summary"}),T.jsxs("div",{className:"space-y-2 text-sm text-muted-foreground",children:[T.jsxs("p",{children:[T.jsx("strong",{children:"Group Size:"})," ",$.groupSize||"Not specified"," people"]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Dates:"})," ",$.startDate||"Not specified"," to"," ",$.endDate||"Not specified"]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Route:"})," ",$.startLocation," to ",$.endLocation]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Selected Sights:"})," ",($.sights||[]).length>0?`${(D=$.sights)==null?void 0:D.length} locations`:"None selected"]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Activities:"})," ",($.activities||[]).length>0?`${(V=$.activities)==null?void 0:V.length} activities`:"None selected"]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Pace:"})," ",$.pace]}),T.jsxs("p",{children:[T.jsx("strong",{children:"Accommodation:"})," ",$.accommodation]})]})]})]}),T.jsxs("div",{className:"flex flex-col sm:flex-row gap-4 mt-8 pt-8 border-t",children:[n>1&&T.jsxs(Ur,{onClick:b,variant:"outline",className:"flex-1",children:[T.jsx(ow,{className:"h-4 w-4 mr-2"}),"Previous"]}),n<v?T.jsxs(Ur,{onClick:L,className:"flex-1 btn-micro bg-primary hover:bg-primary/90 text-primary-foreground",children:["Next",T.jsx(DA,{className:"h-4 w-4 ml-2"})]}):T.jsx(Ur,{type:"submit",className:"flex-1 btn-micro bg-primary hover:bg-primary/90 text-primary-foreground",disabled:l,children:l?"Submitting...":"Submit Request"})]}),f&&T.jsx("p",{className:"mt-4 text-sm text-red-600",children:f})]})]})]})}function DE({requiredRole:t}){const e=Fs(),{user:n,profile:r,loading:i}=py();if(!tf)return T.jsx(th,{});if(i)return T.jsx("p",{className:"text-muted-foreground",children:"Checking your account..."});if(!n){const a=encodeURIComponent(e.pathname+e.search);return T.jsx(hg,{to:`/auth?next=${a}`,replace:!0})}return t&&(r==null?void 0:r.role)!==t?T.jsxs("div",{className:"py-16 px-4 text-center",children:[T.jsx("h2",{className:"text-2xl text-foreground mb-3",children:"Role Required"}),T.jsxs("p",{className:"text-muted-foreground mb-6",children:["This section is available to ",t==="seller"?"sellers":"buyers"," only."]}),T.jsx(Ur,{asChild:!0,variant:"outline",children:T.jsx(On,{to:"/dashboard",children:"Update your role"})})]}):T.jsx(th,{})}const a9="admin",LE="admin123",pm="admin@tourism.local",Dy="tourism-admin-session";async function T6(t,e){if(t!==a9||e!==LE)return!1;if(localStorage.setItem(Dy,"true"),Nn&&pm){const n=await KT(Nn,pm,LE);await rl({name:"Admin",email:pm,role:"admin",uid:n.user.uid})}return!0}function l9(){return localStorage.getItem(Dy)==="true"}async function I6(){localStorage.removeItem(Dy),Nn&&await GT(Nn)}function u9(){return l9()?T.jsx(th,{}):T.jsx(hg,{to:"/admin/login",replace:!0})}const c9="/Tourism/".replace(/\/$/,""),d9=U.lazy(()=>pr(()=>import("./HomePage-Dl4INBuQ.js"),__vite__mapDeps([0,1,2,3,4])).then(t=>({default:t.HomePage}))),h9=U.lazy(()=>pr(()=>import("./NotFoundPage-BlvyeuOY.js"),[]).then(t=>({default:t.NotFoundPage}))),f9=U.lazy(()=>pr(()=>import("./TourDetailPage-CzmMzf-2.js"),__vite__mapDeps([5,6,4])).then(t=>({default:t.TourDetailPage}))),p9=U.lazy(()=>pr(()=>import("./ToursPage-BJVL3T69.js"),__vite__mapDeps([7,3,4])).then(t=>({default:t.ToursPage}))),m9=U.lazy(()=>pr(()=>import("./ExplorePage-hcg2OIUl.js"),[]).then(t=>({default:t.ExplorePage}))),g9=U.lazy(()=>pr(()=>import("./BlogsPage-_Qd_U3Oi.js"),[]).then(t=>({default:t.BlogsPage}))),y9=U.lazy(()=>pr(()=>import("./FeedbackPage-EleWgJAw.js"),__vite__mapDeps([8,2])).then(t=>({default:t.FeedbackPage}))),v9=U.lazy(()=>pr(()=>import("./CreateTourPage-CJiy0mdH.js"),__vite__mapDeps([9,6,10])).then(t=>({default:t.CreateTourPage}))),_9=U.lazy(()=>pr(()=>import("./JoinTourPage-BR5WlO-y.js"),[]).then(t=>({default:t.JoinTourPage}))),w9=U.lazy(()=>pr(()=>import("./UserDashboardPage-BlLy_HVs.js"),__vite__mapDeps([11,6])).then(t=>({default:t.UserDashboardPage}))),E9=U.lazy(()=>pr(()=>import("./AuthPage-BH8fq2nw.js"),[]).then(t=>({default:t.AuthPage}))),T9=U.lazy(()=>pr(()=>import("./AdminLoginPage-CwWUPbDP.js"),__vite__mapDeps([12,1])).then(t=>({default:t.AdminLoginPage}))),I9=U.lazy(()=>pr(()=>import("./AdminLayout-cM8hA4Dz.js"),[]).then(t=>({default:t.AdminLayout}))),b9=U.lazy(()=>pr(()=>import("./AdminDashboardPage-BVSEuyNE.js"),__vite__mapDeps([13,10,14])).then(t=>({default:t.AdminDashboardPage}))),k9=()=>T.jsx("div",{className:"py-16 text-center text-muted-foreground",children:"Loading..."});function S9(){return T.jsx(TA,{basename:c9,children:T.jsx(U.Suspense,{fallback:T.jsx(k9,{}),children:T.jsxs(fA,{children:[T.jsxs(Ft,{element:T.jsx(DV,{}),children:[T.jsx(Ft,{path:"/",element:T.jsx(d9,{})}),T.jsx(Ft,{path:"/tours",element:T.jsx(p9,{})}),T.jsx(Ft,{path:"/tours/:tourId",element:T.jsx(f9,{})}),T.jsx(Ft,{path:"/custom-tour",element:T.jsx(o9,{})}),T.jsx(Ft,{path:"/join-tour",element:T.jsx(_9,{})}),T.jsx(Ft,{path:"/explore",element:T.jsx(m9,{})}),T.jsx(Ft,{path:"/blogs",element:T.jsx(g9,{})}),T.jsx(Ft,{path:"/feedback",element:T.jsx(y9,{})}),T.jsx(Ft,{path:"/auth",element:T.jsx(E9,{})}),T.jsx(Ft,{element:T.jsx(DE,{}),children:T.jsx(Ft,{path:"/dashboard",element:T.jsx(w9,{})})}),T.jsx(Ft,{element:T.jsx(DE,{requiredRole:"seller"}),children:T.jsx(Ft,{path:"/create-tour",element:T.jsx(v9,{})})})]}),T.jsx(Ft,{path:"/admin/login",element:T.jsx(T9,{})}),T.jsx(Ft,{element:T.jsx(u9,{}),children:T.jsxs(Ft,{path:"/admin",element:T.jsx(I9,{}),children:[T.jsx(Ft,{index:!0,element:T.jsx(hg,{to:"dashboard",replace:!0})}),T.jsx(Ft,{path:"dashboard",element:T.jsx(b9,{})})]})}),T.jsx(Ft,{path:"*",element:T.jsx(h9,{})})]})})})}const sS=document.getElementById("root");if(!sS)throw new Error("Root element not found");_x.createRoot(sS).render(T.jsx(se.StrictMode,{children:T.jsx(rS,{children:T.jsx(nV,{children:T.jsx(S9,{})})})}));export{e6 as $,ow as A,Ur as B,aw as C,br as D,pU as E,tf as F,J9 as G,R9 as H,az as I,j9 as J,W9 as K,On as L,Em as M,i6 as N,s6 as O,ho as P,w6 as Q,oz as R,OE as S,$U as T,rR as U,DA as V,c6 as W,E6 as X,n6 as Y,m6 as Z,X9 as _,zr as a,f6 as a0,p6 as a1,rl as a2,_6 as a3,qA as a4,QF as a5,T6 as a6,OV as a7,th as a8,I6 as a9,a6 as aA,M9 as aB,V9 as aC,D9 as aD,L9 as aE,A9 as aa,ug as ab,ME as ac,C9 as ad,Q9 as ae,t6 as af,h6 as ag,o6 as ah,Z9 as ai,v6 as aj,$9 as ak,l6 as al,y6 as am,z9 as an,U9 as ao,F9 as ap,H9 as aq,q9 as ar,B9 as as,G9 as at,K9 as au,Y9 as av,g6 as aw,d6 as ax,r6 as ay,u6 as az,Ay as b,Mn as c,hc as d,KU as e,Rk as f,ds as g,Ry as h,Bo as i,T as j,kh as k,se as l,qU as m,Tx as n,vl as o,Yu as p,Fs as q,U as r,Ka as s,py as t,xk as u,DU as v,jU as w,HF as x,Cn as y,Lo as z};
